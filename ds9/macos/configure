#! /bin/sh
# Guess values for system-dependent variables and create Makefiles.
# Generated by GNU Autoconf 2.71 for ds9 8.3.
#
#
# Copyright (C) 1992-1996, 1998-2017, 2020-2021 Free Software Foundation,
# Inc.
#
#
# This configure script is free software; the Free Software Foundation
# gives unlimited permission to copy, distribute and modify it.
## -------------------- ##
## M4sh Initialization. ##
## -------------------- ##

# Be more Bourne compatible
DUALCASE=1; export DUALCASE # for MKS sh
as_nop=:
if test ${ZSH_VERSION+y} && (emulate sh) >/dev/null 2>&1
then :
  emulate sh
  NULLCMD=:
  # Pre-4.2 versions of Zsh do word splitting on ${1+"$@"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '${1+"$@"}'='"$@"'
  setopt NO_GLOB_SUBST
else $as_nop
  case `(set -o) 2>/dev/null` in #(
  *posix*) :
    set -o posix ;; #(
  *) :
     ;;
esac
fi



# Reset variables that may have inherited troublesome values from
# the environment.

# IFS needs to be set, to space, tab, and newline, in precisely that order.
# (If _AS_PATH_WALK were called with IFS unset, it would have the
# side effect of setting IFS to empty, thus disabling word splitting.)
# Quoting is to prevent editors from complaining about space-tab.
as_nl='
'
export as_nl
IFS=" ""	$as_nl"

PS1='$ '
PS2='> '
PS4='+ '

# Ensure predictable behavior from utilities with locale-dependent output.
LC_ALL=C
export LC_ALL
LANGUAGE=C
export LANGUAGE

# We cannot yet rely on "unset" to work, but we need these variables
# to be unset--not just set to an empty or harmless value--now, to
# avoid bugs in old shells (e.g. pre-3.0 UWIN ksh).  This construct
# also avoids known problems related to "unset" and subshell syntax
# in other old shells (e.g. bash 2.01 and pdksh 5.2.14).
for as_var in BASH_ENV ENV MAIL MAILPATH CDPATH
do eval test \${$as_var+y} \
  && ( (unset $as_var) || exit 1) >/dev/null 2>&1 && unset $as_var || :
done

# Ensure that fds 0, 1, and 2 are open.
if (exec 3>&0) 2>/dev/null; then :; else exec 0</dev/null; fi
if (exec 3>&1) 2>/dev/null; then :; else exec 1>/dev/null; fi
if (exec 3>&2)            ; then :; else exec 2>/dev/null; fi

# The user is always right.
if ${PATH_SEPARATOR+false} :; then
  PATH_SEPARATOR=:
  (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {
    (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 ||
      PATH_SEPARATOR=';'
  }
fi


# Find who we are.  Look in the path if we contain no directory separator.
as_myself=
case $0 in #((
  *[\\/]* ) as_myself=$0 ;;
  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    test -r "$as_dir$0" && as_myself=$as_dir$0 && break
  done
IFS=$as_save_IFS

     ;;
esac
# We did not find ourselves, most probably we were run as `sh COMMAND'
# in which case we are not to be found in the path.
if test "x$as_myself" = x; then
  as_myself=$0
fi
if test ! -f "$as_myself"; then
  printf "%s\n" "$as_myself: error: cannot find myself; rerun with an absolute file name" >&2
  exit 1
fi


# Use a proper internal environment variable to ensure we don't fall
  # into an infinite loop, continuously re-executing ourselves.
  if test x"${_as_can_reexec}" != xno && test "x$CONFIG_SHELL" != x; then
    _as_can_reexec=no; export _as_can_reexec;
    # We cannot yet assume a decent shell, so we have to provide a
# neutralization value for shells without unset; and this also
# works around shells that cannot unset nonexistent variables.
# Preserve -v and -x to the replacement shell.
BASH_ENV=/dev/null
ENV=/dev/null
(unset BASH_ENV) >/dev/null 2>&1 && unset BASH_ENV ENV
case $- in # ((((
  *v*x* | *x*v* ) as_opts=-vx ;;
  *v* ) as_opts=-v ;;
  *x* ) as_opts=-x ;;
  * ) as_opts= ;;
esac
exec $CONFIG_SHELL $as_opts "$as_myself" ${1+"$@"}
# Admittedly, this is quite paranoid, since all the known shells bail
# out after a failed `exec'.
printf "%s\n" "$0: could not re-execute with $CONFIG_SHELL" >&2
exit 255
  fi
  # We don't want this to propagate to other subprocesses.
          { _as_can_reexec=; unset _as_can_reexec;}
if test "x$CONFIG_SHELL" = x; then
  as_bourne_compatible="as_nop=:
if test \${ZSH_VERSION+y} && (emulate sh) >/dev/null 2>&1
then :
  emulate sh
  NULLCMD=:
  # Pre-4.2 versions of Zsh do word splitting on \${1+\"\$@\"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '\${1+\"\$@\"}'='\"\$@\"'
  setopt NO_GLOB_SUBST
else \$as_nop
  case \`(set -o) 2>/dev/null\` in #(
  *posix*) :
    set -o posix ;; #(
  *) :
     ;;
esac
fi
"
  as_required="as_fn_return () { (exit \$1); }
as_fn_success () { as_fn_return 0; }
as_fn_failure () { as_fn_return 1; }
as_fn_ret_success () { return 0; }
as_fn_ret_failure () { return 1; }

exitcode=0
as_fn_success || { exitcode=1; echo as_fn_success failed.; }
as_fn_failure && { exitcode=1; echo as_fn_failure succeeded.; }
as_fn_ret_success || { exitcode=1; echo as_fn_ret_success failed.; }
as_fn_ret_failure && { exitcode=1; echo as_fn_ret_failure succeeded.; }
if ( set x; as_fn_ret_success y && test x = \"\$1\" )
then :

else \$as_nop
  exitcode=1; echo positional parameters were not saved.
fi
test x\$exitcode = x0 || exit 1
blah=\$(echo \$(echo blah))
test x\"\$blah\" = xblah || exit 1
test -x / || exit 1"
  as_suggested="  as_lineno_1=";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested" as_lineno_1a=\$LINENO
  as_lineno_2=";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested" as_lineno_2a=\$LINENO
  eval 'test \"x\$as_lineno_1'\$as_run'\" != \"x\$as_lineno_2'\$as_run'\" &&
  test \"x\`expr \$as_lineno_1'\$as_run' + 1\`\" = \"x\$as_lineno_2'\$as_run'\"' || exit 1
test \$(( 1 + 1 )) = 2 || exit 1"
  if (eval "$as_required") 2>/dev/null
then :
  as_have_required=yes
else $as_nop
  as_have_required=no
fi
  if test x$as_have_required = xyes && (eval "$as_suggested") 2>/dev/null
then :

else $as_nop
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
as_found=false
for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
  as_found=:
  case $as_dir in #(
	 /*)
	   for as_base in sh bash ksh sh5; do
	     # Try only shells that exist, to save several forks.
	     as_shell=$as_dir$as_base
	     if { test -f "$as_shell" || test -f "$as_shell.exe"; } &&
		    as_run=a "$as_shell" -c "$as_bourne_compatible""$as_required" 2>/dev/null
then :
  CONFIG_SHELL=$as_shell as_have_required=yes
		   if as_run=a "$as_shell" -c "$as_bourne_compatible""$as_suggested" 2>/dev/null
then :
  break 2
fi
fi
	   done;;
       esac
  as_found=false
done
IFS=$as_save_IFS
if $as_found
then :

else $as_nop
  if { test -f "$SHELL" || test -f "$SHELL.exe"; } &&
	      as_run=a "$SHELL" -c "$as_bourne_compatible""$as_required" 2>/dev/null
then :
  CONFIG_SHELL=$SHELL as_have_required=yes
fi
fi


      if test "x$CONFIG_SHELL" != x
then :
  export CONFIG_SHELL
             # We cannot yet assume a decent shell, so we have to provide a
# neutralization value for shells without unset; and this also
# works around shells that cannot unset nonexistent variables.
# Preserve -v and -x to the replacement shell.
BASH_ENV=/dev/null
ENV=/dev/null
(unset BASH_ENV) >/dev/null 2>&1 && unset BASH_ENV ENV
case $- in # ((((
  *v*x* | *x*v* ) as_opts=-vx ;;
  *v* ) as_opts=-v ;;
  *x* ) as_opts=-x ;;
  * ) as_opts= ;;
esac
exec $CONFIG_SHELL $as_opts "$as_myself" ${1+"$@"}
# Admittedly, this is quite paranoid, since all the known shells bail
# out after a failed `exec'.
printf "%s\n" "$0: could not re-execute with $CONFIG_SHELL" >&2
exit 255
fi

    if test x$as_have_required = xno
then :
  printf "%s\n" "$0: This script requires a shell more modern than all"
  printf "%s\n" "$0: the shells that I found on your system."
  if test ${ZSH_VERSION+y} ; then
    printf "%s\n" "$0: In particular, zsh $ZSH_VERSION has bugs and should"
    printf "%s\n" "$0: be upgraded to zsh 4.3.4 or later."
  else
    printf "%s\n" "$0: Please tell bug-autoconf@gnu.org about your system,
$0: including any error possibly output before this
$0: message. Then install a modern shell, or manually run
$0: the script under such a shell if you do have one."
  fi
  exit 1
fi
fi
fi
SHELL=${CONFIG_SHELL-/bin/sh}
export SHELL
# Unset more variables known to interfere with behavior of common tools.
CLICOLOR_FORCE= GREP_OPTIONS=
unset CLICOLOR_FORCE GREP_OPTIONS

## --------------------- ##
## M4sh Shell Functions. ##
## --------------------- ##
# as_fn_unset VAR
# ---------------
# Portably unset VAR.
as_fn_unset ()
{
  { eval $1=; unset $1;}
}
as_unset=as_fn_unset


# as_fn_set_status STATUS
# -----------------------
# Set $? to STATUS, without forking.
as_fn_set_status ()
{
  return $1
} # as_fn_set_status

# as_fn_exit STATUS
# -----------------
# Exit the shell with STATUS, even in a "trap 0" or "set -e" context.
as_fn_exit ()
{
  set +e
  as_fn_set_status $1
  exit $1
} # as_fn_exit
# as_fn_nop
# ---------
# Do nothing but, unlike ":", preserve the value of $?.
as_fn_nop ()
{
  return $?
}
as_nop=as_fn_nop

# as_fn_mkdir_p
# -------------
# Create "$as_dir" as a directory, including parents if necessary.
as_fn_mkdir_p ()
{

  case $as_dir in #(
  -*) as_dir=./$as_dir;;
  esac
  test -d "$as_dir" || eval $as_mkdir_p || {
    as_dirs=
    while :; do
      case $as_dir in #(
      *\'*) as_qdir=`printf "%s\n" "$as_dir" | sed "s/'/'\\\\\\\\''/g"`;; #'(
      *) as_qdir=$as_dir;;
      esac
      as_dirs="'$as_qdir' $as_dirs"
      as_dir=`$as_dirname -- "$as_dir" ||
$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$as_dir" : 'X\(//\)[^/]' \| \
	 X"$as_dir" : 'X\(//\)$' \| \
	 X"$as_dir" : 'X\(/\)' \| . 2>/dev/null ||
printf "%s\n" X"$as_dir" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
      test -d "$as_dir" && break
    done
    test -z "$as_dirs" || eval "mkdir $as_dirs"
  } || test -d "$as_dir" || as_fn_error $? "cannot create directory $as_dir"


} # as_fn_mkdir_p

# as_fn_executable_p FILE
# -----------------------
# Test if FILE is an executable regular file.
as_fn_executable_p ()
{
  test -f "$1" && test -x "$1"
} # as_fn_executable_p
# as_fn_append VAR VALUE
# ----------------------
# Append the text in VALUE to the end of the definition contained in VAR. Take
# advantage of any shell optimizations that allow amortized linear growth over
# repeated appends, instead of the typical quadratic growth present in naive
# implementations.
if (eval "as_var=1; as_var+=2; test x\$as_var = x12") 2>/dev/null
then :
  eval 'as_fn_append ()
  {
    eval $1+=\$2
  }'
else $as_nop
  as_fn_append ()
  {
    eval $1=\$$1\$2
  }
fi # as_fn_append

# as_fn_arith ARG...
# ------------------
# Perform arithmetic evaluation on the ARGs, and store the result in the
# global $as_val. Take advantage of shells that can avoid forks. The arguments
# must be portable across $(()) and expr.
if (eval "test \$(( 1 + 1 )) = 2") 2>/dev/null
then :
  eval 'as_fn_arith ()
  {
    as_val=$(( $* ))
  }'
else $as_nop
  as_fn_arith ()
  {
    as_val=`expr "$@" || test $? -eq 1`
  }
fi # as_fn_arith

# as_fn_nop
# ---------
# Do nothing but, unlike ":", preserve the value of $?.
as_fn_nop ()
{
  return $?
}
as_nop=as_fn_nop

# as_fn_error STATUS ERROR [LINENO LOG_FD]
# ----------------------------------------
# Output "`basename $0`: error: ERROR" to stderr. If LINENO and LOG_FD are
# provided, also output the error to LOG_FD, referencing LINENO. Then exit the
# script with STATUS, using 1 if that was 0.
as_fn_error ()
{
  as_status=$1; test $as_status -eq 0 && as_status=1
  if test "$4"; then
    as_lineno=${as_lineno-"$3"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: $2" >&$4
  fi
  printf "%s\n" "$as_me: error: $2" >&2
  as_fn_exit $as_status
} # as_fn_error

if expr a : '\(a\)' >/dev/null 2>&1 &&
   test "X`expr 00001 : '.*\(...\)'`" = X001; then
  as_expr=expr
else
  as_expr=false
fi

if (basename -- /) >/dev/null 2>&1 && test "X`basename -- / 2>&1`" = "X/"; then
  as_basename=basename
else
  as_basename=false
fi

if (as_dir=`dirname -- /` && test "X$as_dir" = X/) >/dev/null 2>&1; then
  as_dirname=dirname
else
  as_dirname=false
fi

as_me=`$as_basename -- "$0" ||
$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
	 X"$0" : 'X\(//\)$' \| \
	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
printf "%s\n" X/"$0" |
    sed '/^.*\/\([^/][^/]*\)\/*$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`

# Avoid depending upon Character Ranges.
as_cr_letters='abcdefghijklmnopqrstuvwxyz'
as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
as_cr_Letters=$as_cr_letters$as_cr_LETTERS
as_cr_digits='0123456789'
as_cr_alnum=$as_cr_Letters$as_cr_digits


  as_lineno_1=$LINENO as_lineno_1a=$LINENO
  as_lineno_2=$LINENO as_lineno_2a=$LINENO
  eval 'test "x$as_lineno_1'$as_run'" != "x$as_lineno_2'$as_run'" &&
  test "x`expr $as_lineno_1'$as_run' + 1`" = "x$as_lineno_2'$as_run'"' || {
  # Blame Lee E. McMahon (1931-1989) for sed's syntax.  :-)
  sed -n '
    p
    /[$]LINENO/=
  ' <$as_myself |
    sed '
      s/[$]LINENO.*/&-/
      t lineno
      b
      :lineno
      N
      :loop
      s/[$]LINENO\([^'$as_cr_alnum'_].*\n\)\(.*\)/\2\1\2/
      t loop
      s/-\n.*//
    ' >$as_me.lineno &&
  chmod +x "$as_me.lineno" ||
    { printf "%s\n" "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2; as_fn_exit 1; }

  # If we had to re-execute with $CONFIG_SHELL, we're ensured to have
  # already done that, so ensure we don't try to do so again and fall
  # in an infinite loop.  This has already happened in practice.
  _as_can_reexec=no; export _as_can_reexec
  # Don't try to exec as it changes $[0], causing all sort of problems
  # (the dirname of $[0] is not the place where we might find the
  # original and so on.  Autoconf is especially sensitive to this).
  . "./$as_me.lineno"
  # Exit status is that of the last command.
  exit
}


# Determine whether it's possible to make 'echo' print without a newline.
# These variables are no longer used directly by Autoconf, but are AC_SUBSTed
# for compatibility with existing Makefiles.
ECHO_C= ECHO_N= ECHO_T=
case `echo -n x` in #(((((
-n*)
  case `echo 'xy\c'` in
  *c*) ECHO_T='	';;	# ECHO_T is single tab character.
  xy)  ECHO_C='\c';;
  *)   echo `echo ksh88 bug on AIX 6.1` > /dev/null
       ECHO_T='	';;
  esac;;
*)
  ECHO_N='-n';;
esac

# For backward compatibility with old third-party macros, we provide
# the shell variables $as_echo and $as_echo_n.  New code should use
# AS_ECHO(["message"]) and AS_ECHO_N(["message"]), respectively.
as_echo='printf %s\n'
as_echo_n='printf %s'


rm -f conf$$ conf$$.exe conf$$.file
if test -d conf$$.dir; then
  rm -f conf$$.dir/conf$$.file
else
  rm -f conf$$.dir
  mkdir conf$$.dir 2>/dev/null
fi
if (echo >conf$$.file) 2>/dev/null; then
  if ln -s conf$$.file conf$$ 2>/dev/null; then
    as_ln_s='ln -s'
    # ... but there are two gotchas:
    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
    # In both cases, we have to default to `cp -pR'.
    ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
      as_ln_s='cp -pR'
  elif ln conf$$.file conf$$ 2>/dev/null; then
    as_ln_s=ln
  else
    as_ln_s='cp -pR'
  fi
else
  as_ln_s='cp -pR'
fi
rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
rmdir conf$$.dir 2>/dev/null

if mkdir -p . 2>/dev/null; then
  as_mkdir_p='mkdir -p "$as_dir"'
else
  test -d ./-p && rmdir ./-p
  as_mkdir_p=false
fi

as_test_x='test -x'
as_executable_p=as_fn_executable_p

# Sed expression to map a string onto a valid CPP name.
as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"

# Sed expression to map a string onto a valid variable name.
as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"


test -n "$DJDIR" || exec 7<&0 </dev/null
exec 6>&1

# Name of the host.
# hostname on some systems (SVR3.2, old GNU/Linux) returns a bogus exit status,
# so uname gets run too.
ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`

#
# Initializations.
#
ac_default_prefix=/usr/local
ac_clean_files=
ac_config_libobj_dir=.
LIBOBJS=
cross_compiling=no
subdirs=
MFLAGS=
MAKEFLAGS=

# Identity of this package.
PACKAGE_NAME='ds9'
PACKAGE_TARNAME='ds9'
PACKAGE_VERSION='8.3'
PACKAGE_STRING='ds9 8.3'
PACKAGE_BUGREPORT=''
PACKAGE_URL=''

# Factoring default headers for most tests.
ac_includes_default="\
#include <stddef.h>
#ifdef HAVE_STDIO_H
# include <stdio.h>
#endif
#ifdef HAVE_STDLIB_H
# include <stdlib.h>
#endif
#ifdef HAVE_STRING_H
# include <string.h>
#endif
#ifdef HAVE_INTTYPES_H
# include <inttypes.h>
#endif
#ifdef HAVE_STDINT_H
# include <stdint.h>
#endif
#ifdef HAVE_STRINGS_H
# include <strings.h>
#endif
#ifdef HAVE_SYS_TYPES_H
# include <sys/types.h>
#endif
#ifdef HAVE_SYS_STAT_H
# include <sys/stat.h>
#endif
#ifdef HAVE_UNISTD_H
# include <unistd.h>
#endif"

ac_header_c_list=
ac_subst_vars='LTLIBOBJS
LIBOBJS
XML2_LIBS
XML2_CFLAGS
TCLSH_PROG
VC_MANIFEST_EMBED_EXE
VC_MANIFEST_EMBED_DLL
RANLIB_STUB
MAKE_STUB_LIB
MAKE_STATIC_LIB
MAKE_SHARED_LIB
MAKE_LIB
EGREP
GREP
TCL_DBGX
LDFLAGS_DEFAULT
CFLAGS_DEFAULT
LD_LIBRARY_PATH_VAR
SHLIB_CFLAGS
SHLIB_LD_LIBS
SHLIB_LD
STLIB_LD
CFLAGS_WARNING
CFLAGS_OPTIMIZE
CFLAGS_DEBUG
RC
CELIB_DIR
AR
STUBS_BUILD
SHARED_BUILD
TCL_THREADS
XMKMF
TK_INCLUDES
TCL_INCLUDES
ac_ct_CXX
CXXFLAGS
CXX
RANLIB
SET_MAKE
CPP
tktable_STUB_LIB_PATH
tktable_STUB_LIB_SPEC
tktable_STUB_LIB_FILE
tktable_LIB_SPEC
tktable_LIB_FILE
tktable_SRC_DIR
tktable_BIN_DIR
tktable_VERSION
tksao_STUB_LIB_PATH
tksao_STUB_LIB_SPEC
tksao_STUB_LIB_FILE
tksao_LIB_SPEC
tksao_LIB_FILE
tksao_SRC_DIR
tksao_BIN_DIR
tksao_VERSION
tkagif_STUB_LIB_PATH
tkagif_STUB_LIB_SPEC
tkagif_STUB_LIB_FILE
tkagif_LIB_SPEC
tkagif_LIB_FILE
tkagif_SRC_DIR
tkagif_BIN_DIR
tkagif_VERSION
tksvg_STUB_LIB_PATH
tksvg_STUB_LIB_SPEC
tksvg_STUB_LIB_FILE
tksvg_LIB_SPEC
tksvg_LIB_FILE
tksvg_SRC_DIR
tksvg_BIN_DIR
tksvg_VERSION
tkmpeg_STUB_LIB_PATH
tkmpeg_STUB_LIB_SPEC
tkmpeg_STUB_LIB_FILE
tkmpeg_LIB_SPEC
tkmpeg_LIB_FILE
tkmpeg_SRC_DIR
tkmpeg_BIN_DIR
tkmpeg_VERSION
tkmacosx_STUB_LIB_PATH
tkmacosx_STUB_LIB_SPEC
tkmacosx_STUB_LIB_FILE
tkmacosx_LIB_SPEC
tkmacosx_LIB_FILE
tkmacosx_SRC_DIR
tkmacosx_BIN_DIR
tkmacosx_VERSION
tkimgwindow_STUB_LIB_PATH
tkimgwindow_STUB_LIB_SPEC
tkimgwindow_STUB_LIB_FILE
tkimgwindow_LIB_SPEC
tkimgwindow_LIB_FILE
tkimgwindow_SRC_DIR
tkimgwindow_BIN_DIR
tkimgwindow_VERSION
tkimgtiff_STUB_LIB_PATH
tkimgtiff_STUB_LIB_SPEC
tkimgtiff_STUB_LIB_FILE
tkimgtiff_LIB_SPEC
tkimgtiff_LIB_FILE
tkimgtiff_SRC_DIR
tkimgtiff_BIN_DIR
tkimgtiff_VERSION
tkimgjpeg_STUB_LIB_PATH
tkimgjpeg_STUB_LIB_SPEC
tkimgjpeg_STUB_LIB_FILE
tkimgjpeg_LIB_SPEC
tkimgjpeg_LIB_FILE
tkimgjpeg_SRC_DIR
tkimgjpeg_BIN_DIR
tkimgjpeg_VERSION
tkimg_STUB_LIB_PATH
tkimg_STUB_LIB_SPEC
tkimg_STUB_LIB_FILE
tkimg_LIB_SPEC
tkimg_LIB_FILE
tkimg_SRC_DIR
tkimg_BIN_DIR
tkimg_VERSION
tkhtml1_STUB_LIB_PATH
tkhtml1_STUB_LIB_SPEC
tkhtml1_STUB_LIB_FILE
tkhtml1_LIB_SPEC
tkhtml1_LIB_FILE
tkhtml1_SRC_DIR
tkhtml1_BIN_DIR
tkhtml1_VERSION
tkblt_STUB_LIB_PATH
tkblt_STUB_LIB_SPEC
tkblt_STUB_LIB_FILE
tkblt_LIB_SPEC
tkblt_LIB_FILE
tkblt_SRC_DIR
tkblt_BIN_DIR
tkblt_VERSION
tls_STUB_LIB_PATH
tls_STUB_LIB_SPEC
tls_STUB_LIB_FILE
tls_LIB_SPEC
tls_LIB_FILE
tls_SRC_DIR
tls_BIN_DIR
tls_VERSION
tclxml_STUB_LIB_PATH
tclxml_STUB_LIB_SPEC
tclxml_STUB_LIB_FILE
tclxml_LIB_SPEC
tclxml_LIB_FILE
tclxml_SRC_DIR
tclxml_BIN_DIR
tclxml_VERSION
tclsignal_STUB_LIB_PATH
tclsignal_STUB_LIB_SPEC
tclsignal_STUB_LIB_FILE
tclsignal_LIB_SPEC
tclsignal_LIB_FILE
tclsignal_SRC_DIR
tclsignal_BIN_DIR
tclsignal_VERSION
tclfitsy_STUB_LIB_PATH
tclfitsy_STUB_LIB_SPEC
tclfitsy_STUB_LIB_FILE
tclfitsy_LIB_SPEC
tclfitsy_LIB_FILE
tclfitsy_SRC_DIR
tclfitsy_BIN_DIR
tclfitsy_VERSION
tcliis_STUB_LIB_PATH
tcliis_STUB_LIB_SPEC
tcliis_STUB_LIB_FILE
tcliis_LIB_SPEC
tcliis_LIB_FILE
tcliis_SRC_DIR
tcliis_BIN_DIR
tcliis_VERSION
zlibtcl_STUB_LIB_PATH
zlibtcl_STUB_LIB_SPEC
zlibtcl_STUB_LIB_FILE
zlibtcl_LIB_SPEC
zlibtcl_LIB_FILE
zlibtcl_SRC_DIR
zlibtcl_BIN_DIR
zlibtcl_VERSION
jpegtcl_STUB_LIB_PATH
jpegtcl_STUB_LIB_SPEC
jpegtcl_STUB_LIB_FILE
jpegtcl_LIB_SPEC
jpegtcl_LIB_FILE
jpegtcl_SRC_DIR
jpegtcl_BIN_DIR
jpegtcl_VERSION
tifftcl_STUB_LIB_PATH
tifftcl_STUB_LIB_SPEC
tifftcl_STUB_LIB_FILE
tifftcl_LIB_SPEC
tifftcl_LIB_FILE
tifftcl_SRC_DIR
tifftcl_BIN_DIR
tifftcl_VERSION
fitsy_STUB_LIB_PATH
fitsy_STUB_LIB_SPEC
fitsy_STUB_LIB_FILE
fitsy_LIB_SPEC
fitsy_LIB_FILE
fitsy_SRC_DIR
fitsy_BIN_DIR
fitsy_VERSION
vector_STUB_LIB_PATH
vector_STUB_LIB_SPEC
vector_STUB_LIB_FILE
vector_LIB_SPEC
vector_LIB_FILE
vector_SRC_DIR
vector_BIN_DIR
vector_VERSION
util_STUB_LIB_PATH
util_STUB_LIB_SPEC
util_STUB_LIB_FILE
util_LIB_SPEC
util_LIB_FILE
util_SRC_DIR
util_BIN_DIR
util_VERSION
TK_XINCLUDES
TK_LIBS
TK_STUB_LIB_SPEC
TK_STUB_LIB_FLAG
TK_STUB_LIB_FILE
TK_LIB_SPEC
TK_LIB_FLAG
TK_LIB_FILE
TK_SRC_DIR
TK_BIN_DIR
TK_VERSION
TCL_SHLIB_LD_LIBS
TCL_LD_FLAGS
TCL_EXTRA_CFLAGS
TCL_DEFS
TCL_LIBS
CLEANFILES
OBJEXT
ac_ct_CC
CPPFLAGS
LDFLAGS
CFLAGS
CC
TCL_STUB_LIB_SPEC
TCL_STUB_LIB_FLAG
TCL_STUB_LIB_FILE
TCL_LIB_SPEC
TCL_LIB_FLAG
TCL_LIB_FILE
TCL_SRC_DIR
TCL_BIN_DIR
TCL_PATCH_LEVEL
TCL_VERSION
INSTALL_LIBRARY
INSTALL_SCRIPT
INSTALL_PROGRAM
INSTALL_DATA
INSTALL_DATA_DIR
INSTALL
PKG_CFLAGS
PKG_LIBS
PKG_INCLUDES
PKG_HEADERS
PKG_TCL_SOURCES
PKG_STUB_OBJECTS
PKG_STUB_SOURCES
PKG_STUB_LIB_FILE
PKG_LIB_FILE
EXEEXT
CYGPATH
target_alias
host_alias
build_alias
LIBS
ECHO_T
ECHO_N
ECHO_C
DEFS
mandir
localedir
libdir
psdir
pdfdir
dvidir
htmldir
infodir
docdir
oldincludedir
includedir
runstatedir
localstatedir
sharedstatedir
sysconfdir
datadir
datarootdir
libexecdir
sbindir
bindir
program_transform_name
prefix
exec_prefix
PACKAGE_URL
PACKAGE_BUGREPORT
PACKAGE_STRING
PACKAGE_VERSION
PACKAGE_TARNAME
PACKAGE_NAME
PATH_SEPARATOR
SHELL'
ac_subst_files=''
ac_user_opts='
enable_option_checking
with_tcl
with_tk
with_util
with_vector
with_fitsy
with_tifftcl
with_jpegtcl
with_zlibtcl
with_tcliis
with_tclfitsy
with_tclsignal
with_tclxml
with_tls
with_tkblt
with_tkhtml1
with_tkimg
with_tkimgjpeg
with_tkimgtiff
with_tkimgwindow
with_tkmacosx
with_tkmpeg
with_tksvg
with_tkagif
with_tksao
with_tktable
with_tclinclude
with_tkinclude
with_x
enable_threads
enable_shared
enable_stubs
enable_64bit
enable_64bit_vis
enable_rpath
enable_wince
with_celib
enable_symbols
with_xml2_config
'
      ac_precious_vars='build_alias
host_alias
target_alias
CC
CFLAGS
LDFLAGS
LIBS
CPPFLAGS
CPP
CXX
CXXFLAGS
CCC
XMKMF'


# Initialize some variables set by options.
ac_init_help=
ac_init_version=false
ac_unrecognized_opts=
ac_unrecognized_sep=
# The variables have the same names as the options, with
# dashes changed to underlines.
cache_file=/dev/null
exec_prefix=NONE
no_create=
no_recursion=
prefix=NONE
program_prefix=NONE
program_suffix=NONE
program_transform_name=s,x,x,
silent=
site=
srcdir=
verbose=
x_includes=NONE
x_libraries=NONE

# Installation directory options.
# These are left unexpanded so users can "make install exec_prefix=/foo"
# and all the variables that are supposed to be based on exec_prefix
# by default will actually change.
# Use braces instead of parens because sh, perl, etc. also accept them.
# (The list follows the same order as the GNU Coding Standards.)
bindir='${exec_prefix}/bin'
sbindir='${exec_prefix}/sbin'
libexecdir='${exec_prefix}/libexec'
datarootdir='${prefix}/share'
datadir='${datarootdir}'
sysconfdir='${prefix}/etc'
sharedstatedir='${prefix}/com'
localstatedir='${prefix}/var'
runstatedir='${localstatedir}/run'
includedir='${prefix}/include'
oldincludedir='/usr/include'
docdir='${datarootdir}/doc/${PACKAGE_TARNAME}'
infodir='${datarootdir}/info'
htmldir='${docdir}'
dvidir='${docdir}'
pdfdir='${docdir}'
psdir='${docdir}'
libdir='${exec_prefix}/lib'
localedir='${datarootdir}/locale'
mandir='${datarootdir}/man'

ac_prev=
ac_dashdash=
for ac_option
do
  # If the previous option needs an argument, assign it.
  if test -n "$ac_prev"; then
    eval $ac_prev=\$ac_option
    ac_prev=
    continue
  fi

  case $ac_option in
  *=?*) ac_optarg=`expr "X$ac_option" : '[^=]*=\(.*\)'` ;;
  *=)   ac_optarg= ;;
  *)    ac_optarg=yes ;;
  esac

  case $ac_dashdash$ac_option in
  --)
    ac_dashdash=yes ;;

  -bindir | --bindir | --bindi | --bind | --bin | --bi)
    ac_prev=bindir ;;
  -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
    bindir=$ac_optarg ;;

  -build | --build | --buil | --bui | --bu)
    ac_prev=build_alias ;;
  -build=* | --build=* | --buil=* | --bui=* | --bu=*)
    build_alias=$ac_optarg ;;

  -cache-file | --cache-file | --cache-fil | --cache-fi \
  | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
    ac_prev=cache_file ;;
  -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
  | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
    cache_file=$ac_optarg ;;

  --config-cache | -C)
    cache_file=config.cache ;;

  -datadir | --datadir | --datadi | --datad)
    ac_prev=datadir ;;
  -datadir=* | --datadir=* | --datadi=* | --datad=*)
    datadir=$ac_optarg ;;

  -datarootdir | --datarootdir | --datarootdi | --datarootd | --dataroot \
  | --dataroo | --dataro | --datar)
    ac_prev=datarootdir ;;
  -datarootdir=* | --datarootdir=* | --datarootdi=* | --datarootd=* \
  | --dataroot=* | --dataroo=* | --dataro=* | --datar=*)
    datarootdir=$ac_optarg ;;

  -disable-* | --disable-*)
    ac_useropt=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
      as_fn_error $? "invalid feature name: \`$ac_useropt'"
    ac_useropt_orig=$ac_useropt
    ac_useropt=`printf "%s\n" "$ac_useropt" | sed 's/[-+.]/_/g'`
    case $ac_user_opts in
      *"
"enable_$ac_useropt"
"*) ;;
      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--disable-$ac_useropt_orig"
	 ac_unrecognized_sep=', ';;
    esac
    eval enable_$ac_useropt=no ;;

  -docdir | --docdir | --docdi | --doc | --do)
    ac_prev=docdir ;;
  -docdir=* | --docdir=* | --docdi=* | --doc=* | --do=*)
    docdir=$ac_optarg ;;

  -dvidir | --dvidir | --dvidi | --dvid | --dvi | --dv)
    ac_prev=dvidir ;;
  -dvidir=* | --dvidir=* | --dvidi=* | --dvid=* | --dvi=* | --dv=*)
    dvidir=$ac_optarg ;;

  -enable-* | --enable-*)
    ac_useropt=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
      as_fn_error $? "invalid feature name: \`$ac_useropt'"
    ac_useropt_orig=$ac_useropt
    ac_useropt=`printf "%s\n" "$ac_useropt" | sed 's/[-+.]/_/g'`
    case $ac_user_opts in
      *"
"enable_$ac_useropt"
"*) ;;
      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--enable-$ac_useropt_orig"
	 ac_unrecognized_sep=', ';;
    esac
    eval enable_$ac_useropt=\$ac_optarg ;;

  -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
  | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
  | --exec | --exe | --ex)
    ac_prev=exec_prefix ;;
  -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
  | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
  | --exec=* | --exe=* | --ex=*)
    exec_prefix=$ac_optarg ;;

  -gas | --gas | --ga | --g)
    # Obsolete; use --with-gas.
    with_gas=yes ;;

  -help | --help | --hel | --he | -h)
    ac_init_help=long ;;
  -help=r* | --help=r* | --hel=r* | --he=r* | -hr*)
    ac_init_help=recursive ;;
  -help=s* | --help=s* | --hel=s* | --he=s* | -hs*)
    ac_init_help=short ;;

  -host | --host | --hos | --ho)
    ac_prev=host_alias ;;
  -host=* | --host=* | --hos=* | --ho=*)
    host_alias=$ac_optarg ;;

  -htmldir | --htmldir | --htmldi | --htmld | --html | --htm | --ht)
    ac_prev=htmldir ;;
  -htmldir=* | --htmldir=* | --htmldi=* | --htmld=* | --html=* | --htm=* \
  | --ht=*)
    htmldir=$ac_optarg ;;

  -includedir | --includedir | --includedi | --included | --include \
  | --includ | --inclu | --incl | --inc)
    ac_prev=includedir ;;
  -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
  | --includ=* | --inclu=* | --incl=* | --inc=*)
    includedir=$ac_optarg ;;

  -infodir | --infodir | --infodi | --infod | --info | --inf)
    ac_prev=infodir ;;
  -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
    infodir=$ac_optarg ;;

  -libdir | --libdir | --libdi | --libd)
    ac_prev=libdir ;;
  -libdir=* | --libdir=* | --libdi=* | --libd=*)
    libdir=$ac_optarg ;;

  -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
  | --libexe | --libex | --libe)
    ac_prev=libexecdir ;;
  -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
  | --libexe=* | --libex=* | --libe=*)
    libexecdir=$ac_optarg ;;

  -localedir | --localedir | --localedi | --localed | --locale)
    ac_prev=localedir ;;
  -localedir=* | --localedir=* | --localedi=* | --localed=* | --locale=*)
    localedir=$ac_optarg ;;

  -localstatedir | --localstatedir | --localstatedi | --localstated \
  | --localstate | --localstat | --localsta | --localst | --locals)
    ac_prev=localstatedir ;;
  -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
  | --localstate=* | --localstat=* | --localsta=* | --localst=* | --locals=*)
    localstatedir=$ac_optarg ;;

  -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
    ac_prev=mandir ;;
  -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
    mandir=$ac_optarg ;;

  -nfp | --nfp | --nf)
    # Obsolete; use --without-fp.
    with_fp=no ;;

  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c | -n)
    no_create=yes ;;

  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)
    no_recursion=yes ;;

  -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \
  | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \
  | --oldin | --oldi | --old | --ol | --o)
    ac_prev=oldincludedir ;;
  -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
  | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
  | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
    oldincludedir=$ac_optarg ;;

  -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
    ac_prev=prefix ;;
  -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
    prefix=$ac_optarg ;;

  -program-prefix | --program-prefix | --program-prefi | --program-pref \
  | --program-pre | --program-pr | --program-p)
    ac_prev=program_prefix ;;
  -program-prefix=* | --program-prefix=* | --program-prefi=* \
  | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
    program_prefix=$ac_optarg ;;

  -program-suffix | --program-suffix | --program-suffi | --program-suff \
  | --program-suf | --program-su | --program-s)
    ac_prev=program_suffix ;;
  -program-suffix=* | --program-suffix=* | --program-suffi=* \
  | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
    program_suffix=$ac_optarg ;;

  -program-transform-name | --program-transform-name \
  | --program-transform-nam | --program-transform-na \
  | --program-transform-n | --program-transform- \
  | --program-transform | --program-transfor \
  | --program-transfo | --program-transf \
  | --program-trans | --program-tran \
  | --progr-tra | --program-tr | --program-t)
    ac_prev=program_transform_name ;;
  -program-transform-name=* | --program-transform-name=* \
  | --program-transform-nam=* | --program-transform-na=* \
  | --program-transform-n=* | --program-transform-=* \
  | --program-transform=* | --program-transfor=* \
  | --program-transfo=* | --program-transf=* \
  | --program-trans=* | --program-tran=* \
  | --progr-tra=* | --program-tr=* | --program-t=*)
    program_transform_name=$ac_optarg ;;

  -pdfdir | --pdfdir | --pdfdi | --pdfd | --pdf | --pd)
    ac_prev=pdfdir ;;
  -pdfdir=* | --pdfdir=* | --pdfdi=* | --pdfd=* | --pdf=* | --pd=*)
    pdfdir=$ac_optarg ;;

  -psdir | --psdir | --psdi | --psd | --ps)
    ac_prev=psdir ;;
  -psdir=* | --psdir=* | --psdi=* | --psd=* | --ps=*)
    psdir=$ac_optarg ;;

  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
  | -silent | --silent | --silen | --sile | --sil)
    silent=yes ;;

  -runstatedir | --runstatedir | --runstatedi | --runstated \
  | --runstate | --runstat | --runsta | --runst | --runs \
  | --run | --ru | --r)
    ac_prev=runstatedir ;;
  -runstatedir=* | --runstatedir=* | --runstatedi=* | --runstated=* \
  | --runstate=* | --runstat=* | --runsta=* | --runst=* | --runs=* \
  | --run=* | --ru=* | --r=*)
    runstatedir=$ac_optarg ;;

  -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)
    ac_prev=sbindir ;;
  -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
  | --sbi=* | --sb=*)
    sbindir=$ac_optarg ;;

  -sharedstatedir | --sharedstatedir | --sharedstatedi \
  | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
  | --sharedst | --shareds | --shared | --share | --shar \
  | --sha | --sh)
    ac_prev=sharedstatedir ;;
  -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \
  | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
  | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
  | --sha=* | --sh=*)
    sharedstatedir=$ac_optarg ;;

  -site | --site | --sit)
    ac_prev=site ;;
  -site=* | --site=* | --sit=*)
    site=$ac_optarg ;;

  -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
    ac_prev=srcdir ;;
  -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
    srcdir=$ac_optarg ;;

  -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
  | --syscon | --sysco | --sysc | --sys | --sy)
    ac_prev=sysconfdir ;;
  -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
  | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
    sysconfdir=$ac_optarg ;;

  -target | --target | --targe | --targ | --tar | --ta | --t)
    ac_prev=target_alias ;;
  -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
    target_alias=$ac_optarg ;;

  -v | -verbose | --verbose | --verbos | --verbo | --verb)
    verbose=yes ;;

  -version | --version | --versio | --versi | --vers | -V)
    ac_init_version=: ;;

  -with-* | --with-*)
    ac_useropt=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
      as_fn_error $? "invalid package name: \`$ac_useropt'"
    ac_useropt_orig=$ac_useropt
    ac_useropt=`printf "%s\n" "$ac_useropt" | sed 's/[-+.]/_/g'`
    case $ac_user_opts in
      *"
"with_$ac_useropt"
"*) ;;
      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--with-$ac_useropt_orig"
	 ac_unrecognized_sep=', ';;
    esac
    eval with_$ac_useropt=\$ac_optarg ;;

  -without-* | --without-*)
    ac_useropt=`expr "x$ac_option" : 'x-*without-\(.*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
      as_fn_error $? "invalid package name: \`$ac_useropt'"
    ac_useropt_orig=$ac_useropt
    ac_useropt=`printf "%s\n" "$ac_useropt" | sed 's/[-+.]/_/g'`
    case $ac_user_opts in
      *"
"with_$ac_useropt"
"*) ;;
      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--without-$ac_useropt_orig"
	 ac_unrecognized_sep=', ';;
    esac
    eval with_$ac_useropt=no ;;

  --x)
    # Obsolete; use --with-x.
    with_x=yes ;;

  -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \
  | --x-incl | --x-inc | --x-in | --x-i)
    ac_prev=x_includes ;;
  -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
  | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
    x_includes=$ac_optarg ;;

  -x-libraries | --x-libraries | --x-librarie | --x-librari \
  | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
    ac_prev=x_libraries ;;
  -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
  | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
    x_libraries=$ac_optarg ;;

  -*) as_fn_error $? "unrecognized option: \`$ac_option'
Try \`$0 --help' for more information"
    ;;

  *=*)
    ac_envvar=`expr "x$ac_option" : 'x\([^=]*\)='`
    # Reject names that are not valid shell variable names.
    case $ac_envvar in #(
      '' | [0-9]* | *[!_$as_cr_alnum]* )
      as_fn_error $? "invalid variable name: \`$ac_envvar'" ;;
    esac
    eval $ac_envvar=\$ac_optarg
    export $ac_envvar ;;

  *)
    # FIXME: should be removed in autoconf 3.0.
    printf "%s\n" "$as_me: WARNING: you should use --build, --host, --target" >&2
    expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/dev/null &&
      printf "%s\n" "$as_me: WARNING: invalid host type: $ac_option" >&2
    : "${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}"
    ;;

  esac
done

if test -n "$ac_prev"; then
  ac_option=--`echo $ac_prev | sed 's/_/-/g'`
  as_fn_error $? "missing argument to $ac_option"
fi

if test -n "$ac_unrecognized_opts"; then
  case $enable_option_checking in
    no) ;;
    fatal) as_fn_error $? "unrecognized options: $ac_unrecognized_opts" ;;
    *)     printf "%s\n" "$as_me: WARNING: unrecognized options: $ac_unrecognized_opts" >&2 ;;
  esac
fi

# Check all directory arguments for consistency.
for ac_var in	exec_prefix prefix bindir sbindir libexecdir datarootdir \
		datadir sysconfdir sharedstatedir localstatedir includedir \
		oldincludedir docdir infodir htmldir dvidir pdfdir psdir \
		libdir localedir mandir runstatedir
do
  eval ac_val=\$$ac_var
  # Remove trailing slashes.
  case $ac_val in
    */ )
      ac_val=`expr "X$ac_val" : 'X\(.*[^/]\)' \| "X$ac_val" : 'X\(.*\)'`
      eval $ac_var=\$ac_val;;
  esac
  # Be sure to have absolute directory names.
  case $ac_val in
    [\\/$]* | ?:[\\/]* )  continue;;
    NONE | '' ) case $ac_var in *prefix ) continue;; esac;;
  esac
  as_fn_error $? "expected an absolute directory name for --$ac_var: $ac_val"
done

# There might be people who depend on the old broken behavior: `$host'
# used to hold the argument of --host etc.
# FIXME: To remove some day.
build=$build_alias
host=$host_alias
target=$target_alias

# FIXME: To remove some day.
if test "x$host_alias" != x; then
  if test "x$build_alias" = x; then
    cross_compiling=maybe
  elif test "x$build_alias" != "x$host_alias"; then
    cross_compiling=yes
  fi
fi

ac_tool_prefix=
test -n "$host_alias" && ac_tool_prefix=$host_alias-

test "$silent" = yes && exec 6>/dev/null


ac_pwd=`pwd` && test -n "$ac_pwd" &&
ac_ls_di=`ls -di .` &&
ac_pwd_ls_di=`cd "$ac_pwd" && ls -di .` ||
  as_fn_error $? "working directory cannot be determined"
test "X$ac_ls_di" = "X$ac_pwd_ls_di" ||
  as_fn_error $? "pwd does not report name of working directory"


# Find the source files, if location was not specified.
if test -z "$srcdir"; then
  ac_srcdir_defaulted=yes
  # Try the directory containing this script, then the parent directory.
  ac_confdir=`$as_dirname -- "$as_myself" ||
$as_expr X"$as_myself" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$as_myself" : 'X\(//\)[^/]' \| \
	 X"$as_myself" : 'X\(//\)$' \| \
	 X"$as_myself" : 'X\(/\)' \| . 2>/dev/null ||
printf "%s\n" X"$as_myself" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
  srcdir=$ac_confdir
  if test ! -r "$srcdir/$ac_unique_file"; then
    srcdir=..
  fi
else
  ac_srcdir_defaulted=no
fi
if test ! -r "$srcdir/$ac_unique_file"; then
  test "$ac_srcdir_defaulted" = yes && srcdir="$ac_confdir or .."
  as_fn_error $? "cannot find sources ($ac_unique_file) in $srcdir"
fi
ac_msg="sources are in $srcdir, but \`cd $srcdir' does not work"
ac_abs_confdir=`(
	cd "$srcdir" && test -r "./$ac_unique_file" || as_fn_error $? "$ac_msg"
	pwd)`
# When building in place, set srcdir=.
if test "$ac_abs_confdir" = "$ac_pwd"; then
  srcdir=.
fi
# Remove unnecessary trailing slashes from srcdir.
# Double slashes in file names in object file debugging info
# mess up M-x gdb in Emacs.
case $srcdir in
*/) srcdir=`expr "X$srcdir" : 'X\(.*[^/]\)' \| "X$srcdir" : 'X\(.*\)'`;;
esac
for ac_var in $ac_precious_vars; do
  eval ac_env_${ac_var}_set=\${${ac_var}+set}
  eval ac_env_${ac_var}_value=\$${ac_var}
  eval ac_cv_env_${ac_var}_set=\${${ac_var}+set}
  eval ac_cv_env_${ac_var}_value=\$${ac_var}
done

#
# Report the --help message.
#
if test "$ac_init_help" = "long"; then
  # Omit some internal or obsolete options to make the list less imposing.
  # This message is too long to be a string in the A/UX 3.1 sh.
  cat <<_ACEOF
\`configure' configures ds9 8.3 to adapt to many kinds of systems.

Usage: $0 [OPTION]... [VAR=VALUE]...

To assign environment variables (e.g., CC, CFLAGS...), specify them as
VAR=VALUE.  See below for descriptions of some of the useful variables.

Defaults for the options are specified in brackets.

Configuration:
  -h, --help              display this help and exit
      --help=short        display options specific to this package
      --help=recursive    display the short help of all the included packages
  -V, --version           display version information and exit
  -q, --quiet, --silent   do not print \`checking ...' messages
      --cache-file=FILE   cache test results in FILE [disabled]
  -C, --config-cache      alias for \`--cache-file=config.cache'
  -n, --no-create         do not create output files
      --srcdir=DIR        find the sources in DIR [configure dir or \`..']

Installation directories:
  --prefix=PREFIX         install architecture-independent files in PREFIX
                          [$ac_default_prefix]
  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
                          [PREFIX]

By default, \`make install' will install all the files in
\`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
an installation prefix other than \`$ac_default_prefix' using \`--prefix',
for instance \`--prefix=\$HOME'.

For better control, use the options below.

Fine tuning of the installation directories:
  --bindir=DIR            user executables [EPREFIX/bin]
  --sbindir=DIR           system admin executables [EPREFIX/sbin]
  --libexecdir=DIR        program executables [EPREFIX/libexec]
  --sysconfdir=DIR        read-only single-machine data [PREFIX/etc]
  --sharedstatedir=DIR    modifiable architecture-independent data [PREFIX/com]
  --localstatedir=DIR     modifiable single-machine data [PREFIX/var]
  --runstatedir=DIR       modifiable per-process data [LOCALSTATEDIR/run]
  --libdir=DIR            object code libraries [EPREFIX/lib]
  --includedir=DIR        C header files [PREFIX/include]
  --oldincludedir=DIR     C header files for non-gcc [/usr/include]
  --datarootdir=DIR       read-only arch.-independent data root [PREFIX/share]
  --datadir=DIR           read-only architecture-independent data [DATAROOTDIR]
  --infodir=DIR           info documentation [DATAROOTDIR/info]
  --localedir=DIR         locale-dependent data [DATAROOTDIR/locale]
  --mandir=DIR            man documentation [DATAROOTDIR/man]
  --docdir=DIR            documentation root [DATAROOTDIR/doc/ds9]
  --htmldir=DIR           html documentation [DOCDIR]
  --dvidir=DIR            dvi documentation [DOCDIR]
  --pdfdir=DIR            pdf documentation [DOCDIR]
  --psdir=DIR             ps documentation [DOCDIR]
_ACEOF

  cat <<\_ACEOF

X features:
  --x-includes=DIR    X include files are in DIR
  --x-libraries=DIR   X library files are in DIR
_ACEOF
fi

if test -n "$ac_init_help"; then
  case $ac_init_help in
     short | recursive ) echo "Configuration of ds9 8.3:";;
   esac
  cat <<\_ACEOF

Optional Features:
  --disable-option-checking  ignore unrecognized --enable/--with options
  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
  --enable-threads        build with threads (default: on)
  --enable-shared         build and link with shared libraries (default: on)
  --enable-stubs          build and link with stub libraries. Always true for
                          shared builds (default: on)
  --enable-64bit          enable 64bit support (default: off)
  --enable-64bit-vis      enable 64bit Sparc VIS support (default: off)
  --disable-rpath         disable rpath support (default: on)
  --enable-wince          enable Win/CE support (where applicable)
  --enable-symbols        build with debugging symbols (default: off)

Optional Packages:
  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
  --with-tcl              directory containing tcl configuration
                          (tclConfig.sh)
  --with-tk               directory containing tk configuration (tkConfig.sh)
  --with-util              directory containing util configuration (utilConfig.sh)
  --with-vector              directory containing vector configuration (vectorConfig.sh)
  --with-fitsy              directory containing fitsy configuration (fitsyConfig.sh)
  --with-tifftcl              directory containing tifftcl configuration (tifftclConfig.sh)
  --with-jpegtcl              directory containing jpegtcl configuration (jpegtclConfig.sh)
  --with-zlibtcl              directory containing zlibtcl configuration (zlibtclConfig.sh)
  --with-tcliis              directory containing tcliis configuration (tcliisConfig.sh)
  --with-tclfitsy              directory containing tclfitsy configuration (tclfitsyConfig.sh)
  --with-tclsignal              directory containing tclsignal configuration (tclsignalConfig.sh)
  --with-tclxml              directory containing tclxml configuration (tclxmlConfig.sh)
  --with-tls              directory containing tls configuration (tlsConfig.sh)
  --with-tkblt              directory containing tkblt configuration (tkbltConfig.sh)
  --with-tkhtml1              directory containing tkhtml1 configuration (tkhtml1Config.sh)
  --with-tkimg              directory containing tkimg configuration (tkimgConfig.sh)
  --with-tkimgjpeg              directory containing tkimgjpeg configuration (tkimgjpegConfig.sh)
  --with-tkimgtiff              directory containing tkimgtiff configuration (tkimgtiffConfig.sh)
  --with-tkimgwindow              directory containing tkimgwindow configuration (tkimgwindowConfig.sh)
  --with-tkmacosx              directory containing tkmacosx configuration (tkmacosxConfig.sh)
  --with-tkmpeg              directory containing tkmpeg configuration (tkmpegConfig.sh)
  --with-tksvg              directory containing tksvg configuration (tksvgConfig.sh)
  --with-tkagif              directory containing tkagif configuration (tkagifConfig.sh)
  --with-tksao              directory containing tksao configuration (tksaoConfig.sh)
  --with-tktable              directory containing tktable configuration (tktableConfig.sh)
  --with-tclinclude       directory containing the public Tcl header files
  --with-tkinclude        directory containing the public Tk header files
  --with-x                use the X Window System
  --with-celib=DIR        use Windows/CE support library from DIR
  --with-xml2-config      the xml2-config configuration script

Some influential environment variables:
  CC          C compiler command
  CFLAGS      C compiler flags
  LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries in a
              nonstandard directory <lib dir>
  LIBS        libraries to pass to the linker, e.g. -l<library>
  CPPFLAGS    (Objective) C/C++ preprocessor flags, e.g. -I<include dir> if
              you have headers in a nonstandard directory <include dir>
  CPP         C preprocessor
  CXX         C++ compiler command
  CXXFLAGS    C++ compiler flags
  XMKMF       Path to xmkmf, Makefile generator for X Window System

Use these variables to override the choices made by `configure' or to help
it to find libraries and programs with nonstandard names/locations.

Report bugs to the package provider.
_ACEOF
ac_status=$?
fi

if test "$ac_init_help" = "recursive"; then
  # If there are subdirs, report their specific --help.
  for ac_dir in : $ac_subdirs_all; do test "x$ac_dir" = x: && continue
    test -d "$ac_dir" ||
      { cd "$srcdir" && ac_pwd=`pwd` && srcdir=. && test -d "$ac_dir"; } ||
      continue
    ac_builddir=.

case "$ac_dir" in
.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
*)
  ac_dir_suffix=/`printf "%s\n" "$ac_dir" | sed 's|^\.[\\/]||'`
  # A ".." for each directory in $ac_dir_suffix.
  ac_top_builddir_sub=`printf "%s\n" "$ac_dir_suffix" | sed 's|/[^\\/]*|/..|g;s|/||'`
  case $ac_top_builddir_sub in
  "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
  esac ;;
esac
ac_abs_top_builddir=$ac_pwd
ac_abs_builddir=$ac_pwd$ac_dir_suffix
# for backward compatibility:
ac_top_builddir=$ac_top_build_prefix

case $srcdir in
  .)  # We are building in place.
    ac_srcdir=.
    ac_top_srcdir=$ac_top_builddir_sub
    ac_abs_top_srcdir=$ac_pwd ;;
  [\\/]* | ?:[\\/]* )  # Absolute name.
    ac_srcdir=$srcdir$ac_dir_suffix;
    ac_top_srcdir=$srcdir
    ac_abs_top_srcdir=$srcdir ;;
  *) # Relative name.
    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
    ac_top_srcdir=$ac_top_build_prefix$srcdir
    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
esac
ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix

    cd "$ac_dir" || { ac_status=$?; continue; }
    # Check for configure.gnu first; this name is used for a wrapper for
    # Metaconfig's "Configure" on case-insensitive file systems.
    if test -f "$ac_srcdir/configure.gnu"; then
      echo &&
      $SHELL "$ac_srcdir/configure.gnu" --help=recursive
    elif test -f "$ac_srcdir/configure"; then
      echo &&
      $SHELL "$ac_srcdir/configure" --help=recursive
    else
      printf "%s\n" "$as_me: WARNING: no configuration information is in $ac_dir" >&2
    fi || ac_status=$?
    cd "$ac_pwd" || { ac_status=$?; break; }
  done
fi

test -n "$ac_init_help" && exit $ac_status
if $ac_init_version; then
  cat <<\_ACEOF
ds9 configure 8.3
generated by GNU Autoconf 2.71

Copyright (C) 2021 Free Software Foundation, Inc.
This configure script is free software; the Free Software Foundation
gives unlimited permission to copy, distribute and modify it.
_ACEOF
  exit
fi

## ------------------------ ##
## Autoconf initialization. ##
## ------------------------ ##

# ac_fn_c_try_compile LINENO
# --------------------------
# Try to compile conftest.$ac_ext, and return whether this succeeded.
ac_fn_c_try_compile ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext conftest.beam
  if { { ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_compile") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_c_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest.$ac_objext
then :
  ac_retval=0
else $as_nop
  printf "%s\n" "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} # ac_fn_c_try_compile

# ac_fn_c_try_cpp LINENO
# ----------------------
# Try to preprocess conftest.$ac_ext, and return whether this succeeded.
ac_fn_c_try_cpp ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if { { ac_try="$ac_cpp conftest.$ac_ext"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } > conftest.i && {
	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
	 test ! -s conftest.err
       }
then :
  ac_retval=0
else $as_nop
  printf "%s\n" "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

    ac_retval=1
fi
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} # ac_fn_c_try_cpp

# ac_fn_c_try_run LINENO
# ----------------------
# Try to run conftest.$ac_ext, and return whether this succeeded. Assumes that
# executables *can* be run.
ac_fn_c_try_run ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && { ac_try='./conftest$ac_exeext'
  { { case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; }
then :
  ac_retval=0
else $as_nop
  printf "%s\n" "$as_me: program exited with status $ac_status" >&5
       printf "%s\n" "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

       ac_retval=$ac_status
fi
  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} # ac_fn_c_try_run

# ac_fn_c_check_header_compile LINENO HEADER VAR INCLUDES
# -------------------------------------------------------
# Tests whether HEADER exists and can be compiled using the include files in
# INCLUDES, setting the cache variable VAR accordingly.
ac_fn_c_check_header_compile ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
printf %s "checking for $2... " >&6; }
if eval test \${$3+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
#include <$2>
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  eval "$3=yes"
else $as_nop
  eval "$3=no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
eval ac_res=\$$3
	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
printf "%s\n" "$ac_res" >&6; }
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno

} # ac_fn_c_check_header_compile

# ac_fn_cxx_try_compile LINENO
# ----------------------------
# Try to compile conftest.$ac_ext, and return whether this succeeded.
ac_fn_cxx_try_compile ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext conftest.beam
  if { { ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_compile") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_cxx_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest.$ac_objext
then :
  ac_retval=0
else $as_nop
  printf "%s\n" "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} # ac_fn_cxx_try_compile

# ac_fn_c_try_link LINENO
# -----------------------
# Try to link conftest.$ac_ext, and return whether this succeeded.
ac_fn_c_try_link ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext conftest.beam conftest$ac_exeext
  if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_c_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest$ac_exeext && {
	 test "$cross_compiling" = yes ||
	 test -x conftest$ac_exeext
       }
then :
  ac_retval=0
else $as_nop
  printf "%s\n" "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information
  # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would
  # interfere with the next link command; also delete a directory that is
  # left behind by Apple's compiler.  We do this before executing the actions.
  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} # ac_fn_c_try_link

# ac_fn_c_check_func LINENO FUNC VAR
# ----------------------------------
# Tests whether FUNC exists, setting the cache variable VAR accordingly
ac_fn_c_check_func ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
printf %s "checking for $2... " >&6; }
if eval test \${$3+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
/* Define $2 to an innocuous variant, in case <limits.h> declares $2.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define $2 innocuous_$2

/* System header to define __stub macros and hopefully few prototypes,
   which can conflict with char $2 (); below.  */

#include <limits.h>
#undef $2

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char $2 ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined __stub_$2 || defined __stub___$2
choke me
#endif

int
main (void)
{
return $2 ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  eval "$3=yes"
else $as_nop
  eval "$3=no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
fi
eval ac_res=\$$3
	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
printf "%s\n" "$ac_res" >&6; }
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno

} # ac_fn_c_check_func
ac_configure_args_raw=
for ac_arg
do
  case $ac_arg in
  *\'*)
    ac_arg=`printf "%s\n" "$ac_arg" | sed "s/'/'\\\\\\\\''/g"` ;;
  esac
  as_fn_append ac_configure_args_raw " '$ac_arg'"
done

case $ac_configure_args_raw in
  *$as_nl*)
    ac_safe_unquote= ;;
  *)
    ac_unsafe_z='|&;<>()$`\\"*?[ ''	' # This string ends in space, tab.
    ac_unsafe_a="$ac_unsafe_z#~"
    ac_safe_unquote="s/ '\\([^$ac_unsafe_a][^$ac_unsafe_z]*\\)'/ \\1/g"
    ac_configure_args_raw=`      printf "%s\n" "$ac_configure_args_raw" | sed "$ac_safe_unquote"`;;
esac

cat >config.log <<_ACEOF
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

It was created by ds9 $as_me 8.3, which was
generated by GNU Autoconf 2.71.  Invocation command line was

  $ $0$ac_configure_args_raw

_ACEOF
exec 5>>config.log
{
cat <<_ASUNAME
## --------- ##
## Platform. ##
## --------- ##

hostname = `(hostname || uname -n) 2>/dev/null | sed 1q`
uname -m = `(uname -m) 2>/dev/null || echo unknown`
uname -r = `(uname -r) 2>/dev/null || echo unknown`
uname -s = `(uname -s) 2>/dev/null || echo unknown`
uname -v = `(uname -v) 2>/dev/null || echo unknown`

/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`
/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`

/bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`
/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`
/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`
/usr/bin/hostinfo      = `(/usr/bin/hostinfo) 2>/dev/null      || echo unknown`
/bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`
/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`
/bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`

_ASUNAME

as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    printf "%s\n" "PATH: $as_dir"
  done
IFS=$as_save_IFS

} >&5

cat >&5 <<_ACEOF


## ----------- ##
## Core tests. ##
## ----------- ##

_ACEOF


# Keep a trace of the command line.
# Strip out --no-create and --no-recursion so they do not pile up.
# Strip out --silent because we don't want to record it for future runs.
# Also quote any args containing shell meta-characters.
# Make two passes to allow for proper duplicate-argument suppression.
ac_configure_args=
ac_configure_args0=
ac_configure_args1=
ac_must_keep_next=false
for ac_pass in 1 2
do
  for ac_arg
  do
    case $ac_arg in
    -no-create | --no-c* | -n | -no-recursion | --no-r*) continue ;;
    -q | -quiet | --quiet | --quie | --qui | --qu | --q \
    | -silent | --silent | --silen | --sile | --sil)
      continue ;;
    *\'*)
      ac_arg=`printf "%s\n" "$ac_arg" | sed "s/'/'\\\\\\\\''/g"` ;;
    esac
    case $ac_pass in
    1) as_fn_append ac_configure_args0 " '$ac_arg'" ;;
    2)
      as_fn_append ac_configure_args1 " '$ac_arg'"
      if test $ac_must_keep_next = true; then
	ac_must_keep_next=false # Got value, back to normal.
      else
	case $ac_arg in
	  *=* | --config-cache | -C | -disable-* | --disable-* \
	  | -enable-* | --enable-* | -gas | --g* | -nfp | --nf* \
	  | -q | -quiet | --q* | -silent | --sil* | -v | -verb* \
	  | -with-* | --with-* | -without-* | --without-* | --x)
	    case "$ac_configure_args0 " in
	      "$ac_configure_args1"*" '$ac_arg' "* ) continue ;;
	    esac
	    ;;
	  -* ) ac_must_keep_next=true ;;
	esac
      fi
      as_fn_append ac_configure_args " '$ac_arg'"
      ;;
    esac
  done
done
{ ac_configure_args0=; unset ac_configure_args0;}
{ ac_configure_args1=; unset ac_configure_args1;}

# When interrupted or exit'd, cleanup temporary files, and complete
# config.log.  We remove comments because anyway the quotes in there
# would cause problems or look ugly.
# WARNING: Use '\'' to represent an apostrophe within the trap.
# WARNING: Do not start the trap code with a newline, due to a FreeBSD 4.0 bug.
trap 'exit_status=$?
  # Sanitize IFS.
  IFS=" ""	$as_nl"
  # Save into config.log some information that might help in debugging.
  {
    echo

    printf "%s\n" "## ---------------- ##
## Cache variables. ##
## ---------------- ##"
    echo
    # The following way of writing the cache mishandles newlines in values,
(
  for ac_var in `(set) 2>&1 | sed -n '\''s/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'\''`; do
    eval ac_val=\$$ac_var
    case $ac_val in #(
    *${as_nl}*)
      case $ac_var in #(
      *_cv_*) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: cache variable $ac_var contains a newline" >&5
printf "%s\n" "$as_me: WARNING: cache variable $ac_var contains a newline" >&2;} ;;
      esac
      case $ac_var in #(
      _ | IFS | as_nl) ;; #(
      BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(
      *) { eval $ac_var=; unset $ac_var;} ;;
      esac ;;
    esac
  done
  (set) 2>&1 |
    case $as_nl`(ac_space='\'' '\''; set) 2>&1` in #(
    *${as_nl}ac_space=\ *)
      sed -n \
	"s/'\''/'\''\\\\'\'''\''/g;
	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\''\\2'\''/p"
      ;; #(
    *)
      sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
      ;;
    esac |
    sort
)
    echo

    printf "%s\n" "## ----------------- ##
## Output variables. ##
## ----------------- ##"
    echo
    for ac_var in $ac_subst_vars
    do
      eval ac_val=\$$ac_var
      case $ac_val in
      *\'\''*) ac_val=`printf "%s\n" "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
      esac
      printf "%s\n" "$ac_var='\''$ac_val'\''"
    done | sort
    echo

    if test -n "$ac_subst_files"; then
      printf "%s\n" "## ------------------- ##
## File substitutions. ##
## ------------------- ##"
      echo
      for ac_var in $ac_subst_files
      do
	eval ac_val=\$$ac_var
	case $ac_val in
	*\'\''*) ac_val=`printf "%s\n" "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
	esac
	printf "%s\n" "$ac_var='\''$ac_val'\''"
      done | sort
      echo
    fi

    if test -s confdefs.h; then
      printf "%s\n" "## ----------- ##
## confdefs.h. ##
## ----------- ##"
      echo
      cat confdefs.h
      echo
    fi
    test "$ac_signal" != 0 &&
      printf "%s\n" "$as_me: caught signal $ac_signal"
    printf "%s\n" "$as_me: exit $exit_status"
  } >&5
  rm -f core *.core core.conftest.* &&
    rm -f -r conftest* confdefs* conf$$* $ac_clean_files &&
    exit $exit_status
' 0
for ac_signal in 1 2 13 15; do
  trap 'ac_signal='$ac_signal'; as_fn_exit 1' $ac_signal
done
ac_signal=0

# confdefs.h avoids OS command line length limits that DEFS can exceed.
rm -f -r conftest* confdefs.h

printf "%s\n" "/* confdefs.h */" > confdefs.h

# Predefined preprocessor variables.

printf "%s\n" "#define PACKAGE_NAME \"$PACKAGE_NAME\"" >>confdefs.h

printf "%s\n" "#define PACKAGE_TARNAME \"$PACKAGE_TARNAME\"" >>confdefs.h

printf "%s\n" "#define PACKAGE_VERSION \"$PACKAGE_VERSION\"" >>confdefs.h

printf "%s\n" "#define PACKAGE_STRING \"$PACKAGE_STRING\"" >>confdefs.h

printf "%s\n" "#define PACKAGE_BUGREPORT \"$PACKAGE_BUGREPORT\"" >>confdefs.h

printf "%s\n" "#define PACKAGE_URL \"$PACKAGE_URL\"" >>confdefs.h


# Let the site file select an alternate cache file if it wants to.
# Prefer an explicitly selected file to automatically selected ones.
if test -n "$CONFIG_SITE"; then
  ac_site_files="$CONFIG_SITE"
elif test "x$prefix" != xNONE; then
  ac_site_files="$prefix/share/config.site $prefix/etc/config.site"
else
  ac_site_files="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
fi

for ac_site_file in $ac_site_files
do
  case $ac_site_file in #(
  */*) :
     ;; #(
  *) :
    ac_site_file=./$ac_site_file ;;
esac
  if test -f "$ac_site_file" && test -r "$ac_site_file"; then
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: loading site script $ac_site_file" >&5
printf "%s\n" "$as_me: loading site script $ac_site_file" >&6;}
    sed 's/^/| /' "$ac_site_file" >&5
    . "$ac_site_file" \
      || { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "failed to load site script $ac_site_file
See \`config.log' for more details" "$LINENO" 5; }
  fi
done

if test -r "$cache_file"; then
  # Some versions of bash will fail to source /dev/null (special files
  # actually), so we avoid doing that.  DJGPP emulates it as a regular file.
  if test /dev/null != "$cache_file" && test -f "$cache_file"; then
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: loading cache $cache_file" >&5
printf "%s\n" "$as_me: loading cache $cache_file" >&6;}
    case $cache_file in
      [\\/]* | ?:[\\/]* ) . "$cache_file";;
      *)                      . "./$cache_file";;
    esac
  fi
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: creating cache $cache_file" >&5
printf "%s\n" "$as_me: creating cache $cache_file" >&6;}
  >$cache_file
fi

# Test code for whether the C compiler supports C89 (global declarations)
ac_c_conftest_c89_globals='
/* Does the compiler advertise C89 conformance?
   Do not test the value of __STDC__, because some compilers set it to 0
   while being otherwise adequately conformant. */
#if !defined __STDC__
# error "Compiler does not advertise C89 conformance"
#endif

#include <stddef.h>
#include <stdarg.h>
struct stat;
/* Most of the following tests are stolen from RCS 5.7 src/conf.sh.  */
struct buf { int x; };
struct buf * (*rcsopen) (struct buf *, struct stat *, int);
static char *e (p, i)
     char **p;
     int i;
{
  return p[i];
}
static char *f (char * (*g) (char **, int), char **p, ...)
{
  char *s;
  va_list v;
  va_start (v,p);
  s = g (p, va_arg (v,int));
  va_end (v);
  return s;
}

/* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has
   function prototypes and stuff, but not \xHH hex character constants.
   These do not provoke an error unfortunately, instead are silently treated
   as an "x".  The following induces an error, until -std is added to get
   proper ANSI mode.  Curiously \x00 != x always comes out true, for an
   array size at least.  It is necessary to write \x00 == 0 to get something
   that is true only with -std.  */
int osf4_cc_array ['\''\x00'\'' == 0 ? 1 : -1];

/* IBM C 6 for AIX is almost-ANSI by default, but it replaces macro parameters
   inside strings and character constants.  */
#define FOO(x) '\''x'\''
int xlc6_cc_array[FOO(a) == '\''x'\'' ? 1 : -1];

int test (int i, double x);
struct s1 {int (*f) (int a);};
struct s2 {int (*f) (double a);};
int pairnames (int, char **, int *(*)(struct buf *, struct stat *, int),
               int, int);'

# Test code for whether the C compiler supports C89 (body of main).
ac_c_conftest_c89_main='
ok |= (argc == 0 || f (e, argv, 0) != argv[0] || f (e, argv, 1) != argv[1]);
'

# Test code for whether the C compiler supports C99 (global declarations)
ac_c_conftest_c99_globals='
// Does the compiler advertise C99 conformance?
#if !defined __STDC_VERSION__ || __STDC_VERSION__ < 199901L
# error "Compiler does not advertise C99 conformance"
#endif

#include <stdbool.h>
extern int puts (const char *);
extern int printf (const char *, ...);
extern int dprintf (int, const char *, ...);
extern void *malloc (size_t);

// Check varargs macros.  These examples are taken from C99 6.10.3.5.
// dprintf is used instead of fprintf to avoid needing to declare
// FILE and stderr.
#define debug(...) dprintf (2, __VA_ARGS__)
#define showlist(...) puts (#__VA_ARGS__)
#define report(test,...) ((test) ? puts (#test) : printf (__VA_ARGS__))
static void
test_varargs_macros (void)
{
  int x = 1234;
  int y = 5678;
  debug ("Flag");
  debug ("X = %d\n", x);
  showlist (The first, second, and third items.);
  report (x>y, "x is %d but y is %d", x, y);
}

// Check long long types.
#define BIG64 18446744073709551615ull
#define BIG32 4294967295ul
#define BIG_OK (BIG64 / BIG32 == 4294967297ull && BIG64 % BIG32 == 0)
#if !BIG_OK
  #error "your preprocessor is broken"
#endif
#if BIG_OK
#else
  #error "your preprocessor is broken"
#endif
static long long int bignum = -9223372036854775807LL;
static unsigned long long int ubignum = BIG64;

struct incomplete_array
{
  int datasize;
  double data[];
};

struct named_init {
  int number;
  const wchar_t *name;
  double average;
};

typedef const char *ccp;

static inline int
test_restrict (ccp restrict text)
{
  // See if C++-style comments work.
  // Iterate through items via the restricted pointer.
  // Also check for declarations in for loops.
  for (unsigned int i = 0; *(text+i) != '\''\0'\''; ++i)
    continue;
  return 0;
}

// Check varargs and va_copy.
static bool
test_varargs (const char *format, ...)
{
  va_list args;
  va_start (args, format);
  va_list args_copy;
  va_copy (args_copy, args);

  const char *str = "";
  int number = 0;
  float fnumber = 0;

  while (*format)
    {
      switch (*format++)
	{
	case '\''s'\'': // string
	  str = va_arg (args_copy, const char *);
	  break;
	case '\''d'\'': // int
	  number = va_arg (args_copy, int);
	  break;
	case '\''f'\'': // float
	  fnumber = va_arg (args_copy, double);
	  break;
	default:
	  break;
	}
    }
  va_end (args_copy);
  va_end (args);

  return *str && number && fnumber;
}
'

# Test code for whether the C compiler supports C99 (body of main).
ac_c_conftest_c99_main='
  // Check bool.
  _Bool success = false;
  success |= (argc != 0);

  // Check restrict.
  if (test_restrict ("String literal") == 0)
    success = true;
  char *restrict newvar = "Another string";

  // Check varargs.
  success &= test_varargs ("s, d'\'' f .", "string", 65, 34.234);
  test_varargs_macros ();

  // Check flexible array members.
  struct incomplete_array *ia =
    malloc (sizeof (struct incomplete_array) + (sizeof (double) * 10));
  ia->datasize = 10;
  for (int i = 0; i < ia->datasize; ++i)
    ia->data[i] = i * 1.234;

  // Check named initializers.
  struct named_init ni = {
    .number = 34,
    .name = L"Test wide string",
    .average = 543.34343,
  };

  ni.number = 58;

  int dynamic_array[ni.number];
  dynamic_array[0] = argv[0][0];
  dynamic_array[ni.number - 1] = 543;

  // work around unused variable warnings
  ok |= (!success || bignum == 0LL || ubignum == 0uLL || newvar[0] == '\''x'\''
	 || dynamic_array[ni.number - 1] != 543);
'

# Test code for whether the C compiler supports C11 (global declarations)
ac_c_conftest_c11_globals='
// Does the compiler advertise C11 conformance?
#if !defined __STDC_VERSION__ || __STDC_VERSION__ < 201112L
# error "Compiler does not advertise C11 conformance"
#endif

// Check _Alignas.
char _Alignas (double) aligned_as_double;
char _Alignas (0) no_special_alignment;
extern char aligned_as_int;
char _Alignas (0) _Alignas (int) aligned_as_int;

// Check _Alignof.
enum
{
  int_alignment = _Alignof (int),
  int_array_alignment = _Alignof (int[100]),
  char_alignment = _Alignof (char)
};
_Static_assert (0 < -_Alignof (int), "_Alignof is signed");

// Check _Noreturn.
int _Noreturn does_not_return (void) { for (;;) continue; }

// Check _Static_assert.
struct test_static_assert
{
  int x;
  _Static_assert (sizeof (int) <= sizeof (long int),
                  "_Static_assert does not work in struct");
  long int y;
};

// Check UTF-8 literals.
#define u8 syntax error!
char const utf8_literal[] = u8"happens to be ASCII" "another string";

// Check duplicate typedefs.
typedef long *long_ptr;
typedef long int *long_ptr;
typedef long_ptr long_ptr;

// Anonymous structures and unions -- taken from C11 6.7.2.1 Example 1.
struct anonymous
{
  union {
    struct { int i; int j; };
    struct { int k; long int l; } w;
  };
  int m;
} v1;
'

# Test code for whether the C compiler supports C11 (body of main).
ac_c_conftest_c11_main='
  _Static_assert ((offsetof (struct anonymous, i)
		   == offsetof (struct anonymous, w.k)),
		  "Anonymous union alignment botch");
  v1.i = 2;
  v1.w.k = 5;
  ok |= v1.i != 5;
'

# Test code for whether the C compiler supports C11 (complete).
ac_c_conftest_c11_program="${ac_c_conftest_c89_globals}
${ac_c_conftest_c99_globals}
${ac_c_conftest_c11_globals}

int
main (int argc, char **argv)
{
  int ok = 0;
  ${ac_c_conftest_c89_main}
  ${ac_c_conftest_c99_main}
  ${ac_c_conftest_c11_main}
  return ok;
}
"

# Test code for whether the C compiler supports C99 (complete).
ac_c_conftest_c99_program="${ac_c_conftest_c89_globals}
${ac_c_conftest_c99_globals}

int
main (int argc, char **argv)
{
  int ok = 0;
  ${ac_c_conftest_c89_main}
  ${ac_c_conftest_c99_main}
  return ok;
}
"

# Test code for whether the C compiler supports C89 (complete).
ac_c_conftest_c89_program="${ac_c_conftest_c89_globals}

int
main (int argc, char **argv)
{
  int ok = 0;
  ${ac_c_conftest_c89_main}
  return ok;
}
"

as_fn_append ac_header_c_list " stdio.h stdio_h HAVE_STDIO_H"
as_fn_append ac_header_c_list " stdlib.h stdlib_h HAVE_STDLIB_H"
as_fn_append ac_header_c_list " string.h string_h HAVE_STRING_H"
as_fn_append ac_header_c_list " inttypes.h inttypes_h HAVE_INTTYPES_H"
as_fn_append ac_header_c_list " stdint.h stdint_h HAVE_STDINT_H"
as_fn_append ac_header_c_list " strings.h strings_h HAVE_STRINGS_H"
as_fn_append ac_header_c_list " sys/stat.h sys_stat_h HAVE_SYS_STAT_H"
as_fn_append ac_header_c_list " sys/types.h sys_types_h HAVE_SYS_TYPES_H"
as_fn_append ac_header_c_list " unistd.h unistd_h HAVE_UNISTD_H"
# Test code for whether the C++ compiler supports C++98 (global declarations)
ac_cxx_conftest_cxx98_globals='
// Does the compiler advertise C++98 conformance?
#if !defined __cplusplus || __cplusplus < 199711L
# error "Compiler does not advertise C++98 conformance"
#endif

// These inclusions are to reject old compilers that
// lack the unsuffixed header files.
#include <cstdlib>
#include <exception>

// <cassert> and <cstring> are *not* freestanding headers in C++98.
extern void assert (int);
namespace std {
  extern int strcmp (const char *, const char *);
}

// Namespaces, exceptions, and templates were all added after "C++ 2.0".
using std::exception;
using std::strcmp;

namespace {

void test_exception_syntax()
{
  try {
    throw "test";
  } catch (const char *s) {
    // Extra parentheses suppress a warning when building autoconf itself,
    // due to lint rules shared with more typical C programs.
    assert (!(strcmp) (s, "test"));
  }
}

template <typename T> struct test_template
{
  T const val;
  explicit test_template(T t) : val(t) {}
  template <typename U> T add(U u) { return static_cast<T>(u) + val; }
};

} // anonymous namespace
'

# Test code for whether the C++ compiler supports C++98 (body of main)
ac_cxx_conftest_cxx98_main='
  assert (argc);
  assert (! argv[0]);
{
  test_exception_syntax ();
  test_template<double> tt (2.0);
  assert (tt.add (4) == 6.0);
  assert (true && !false);
}
'

# Test code for whether the C++ compiler supports C++11 (global declarations)
ac_cxx_conftest_cxx11_globals='
// Does the compiler advertise C++ 2011 conformance?
#if !defined __cplusplus || __cplusplus < 201103L
# error "Compiler does not advertise C++11 conformance"
#endif

namespace cxx11test
{
  constexpr int get_val() { return 20; }

  struct testinit
  {
    int i;
    double d;
  };

  class delegate
  {
  public:
    delegate(int n) : n(n) {}
    delegate(): delegate(2354) {}

    virtual int getval() { return this->n; };
  protected:
    int n;
  };

  class overridden : public delegate
  {
  public:
    overridden(int n): delegate(n) {}
    virtual int getval() override final { return this->n * 2; }
  };

  class nocopy
  {
  public:
    nocopy(int i): i(i) {}
    nocopy() = default;
    nocopy(const nocopy&) = delete;
    nocopy & operator=(const nocopy&) = delete;
  private:
    int i;
  };

  // for testing lambda expressions
  template <typename Ret, typename Fn> Ret eval(Fn f, Ret v)
  {
    return f(v);
  }

  // for testing variadic templates and trailing return types
  template <typename V> auto sum(V first) -> V
  {
    return first;
  }
  template <typename V, typename... Args> auto sum(V first, Args... rest) -> V
  {
    return first + sum(rest...);
  }
}
'

# Test code for whether the C++ compiler supports C++11 (body of main)
ac_cxx_conftest_cxx11_main='
{
  // Test auto and decltype
  auto a1 = 6538;
  auto a2 = 48573953.4;
  auto a3 = "String literal";

  int total = 0;
  for (auto i = a3; *i; ++i) { total += *i; }

  decltype(a2) a4 = 34895.034;
}
{
  // Test constexpr
  short sa[cxx11test::get_val()] = { 0 };
}
{
  // Test initializer lists
  cxx11test::testinit il = { 4323, 435234.23544 };
}
{
  // Test range-based for
  int array[] = {9, 7, 13, 15, 4, 18, 12, 10, 5, 3,
                 14, 19, 17, 8, 6, 20, 16, 2, 11, 1};
  for (auto &x : array) { x += 23; }
}
{
  // Test lambda expressions
  using cxx11test::eval;
  assert (eval ([](int x) { return x*2; }, 21) == 42);
  double d = 2.0;
  assert (eval ([&](double x) { return d += x; }, 3.0) == 5.0);
  assert (d == 5.0);
  assert (eval ([=](double x) mutable { return d += x; }, 4.0) == 9.0);
  assert (d == 5.0);
}
{
  // Test use of variadic templates
  using cxx11test::sum;
  auto a = sum(1);
  auto b = sum(1, 2);
  auto c = sum(1.0, 2.0, 3.0);
}
{
  // Test constructor delegation
  cxx11test::delegate d1;
  cxx11test::delegate d2();
  cxx11test::delegate d3(45);
}
{
  // Test override and final
  cxx11test::overridden o1(55464);
}
{
  // Test nullptr
  char *c = nullptr;
}
{
  // Test template brackets
  test_template<::test_template<int>> v(test_template<int>(12));
}
{
  // Unicode literals
  char const *utf8 = u8"UTF-8 string \u2500";
  char16_t const *utf16 = u"UTF-8 string \u2500";
  char32_t const *utf32 = U"UTF-32 string \u2500";
}
'

# Test code for whether the C compiler supports C++11 (complete).
ac_cxx_conftest_cxx11_program="${ac_cxx_conftest_cxx98_globals}
${ac_cxx_conftest_cxx11_globals}

int
main (int argc, char **argv)
{
  int ok = 0;
  ${ac_cxx_conftest_cxx98_main}
  ${ac_cxx_conftest_cxx11_main}
  return ok;
}
"

# Test code for whether the C compiler supports C++98 (complete).
ac_cxx_conftest_cxx98_program="${ac_cxx_conftest_cxx98_globals}
int
main (int argc, char **argv)
{
  int ok = 0;
  ${ac_cxx_conftest_cxx98_main}
  return ok;
}
"

# Check that the precious variables saved in the cache have kept the same
# value.
ac_cache_corrupted=false
for ac_var in $ac_precious_vars; do
  eval ac_old_set=\$ac_cv_env_${ac_var}_set
  eval ac_new_set=\$ac_env_${ac_var}_set
  eval ac_old_val=\$ac_cv_env_${ac_var}_value
  eval ac_new_val=\$ac_env_${ac_var}_value
  case $ac_old_set,$ac_new_set in
    set,)
      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&5
printf "%s\n" "$as_me: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&2;}
      ac_cache_corrupted=: ;;
    ,set)
      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' was not set in the previous run" >&5
printf "%s\n" "$as_me: error: \`$ac_var' was not set in the previous run" >&2;}
      ac_cache_corrupted=: ;;
    ,);;
    *)
      if test "x$ac_old_val" != "x$ac_new_val"; then
	# differences in whitespace do not lead to failure.
	ac_old_val_w=`echo x $ac_old_val`
	ac_new_val_w=`echo x $ac_new_val`
	if test "$ac_old_val_w" != "$ac_new_val_w"; then
	  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' has changed since the previous run:" >&5
printf "%s\n" "$as_me: error: \`$ac_var' has changed since the previous run:" >&2;}
	  ac_cache_corrupted=:
	else
	  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: warning: ignoring whitespace changes in \`$ac_var' since the previous run:" >&5
printf "%s\n" "$as_me: warning: ignoring whitespace changes in \`$ac_var' since the previous run:" >&2;}
	  eval $ac_var=\$ac_old_val
	fi
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}:   former value:  \`$ac_old_val'" >&5
printf "%s\n" "$as_me:   former value:  \`$ac_old_val'" >&2;}
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}:   current value: \`$ac_new_val'" >&5
printf "%s\n" "$as_me:   current value: \`$ac_new_val'" >&2;}
      fi;;
  esac
  # Pass precious variables to config.status.
  if test "$ac_new_set" = set; then
    case $ac_new_val in
    *\'*) ac_arg=$ac_var=`printf "%s\n" "$ac_new_val" | sed "s/'/'\\\\\\\\''/g"` ;;
    *) ac_arg=$ac_var=$ac_new_val ;;
    esac
    case " $ac_configure_args " in
      *" '$ac_arg' "*) ;; # Avoid dups.  Use of quotes ensures accuracy.
      *) as_fn_append ac_configure_args " '$ac_arg'" ;;
    esac
  fi
done
if $ac_cache_corrupted; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: changes in the environment can compromise the build" >&5
printf "%s\n" "$as_me: error: changes in the environment can compromise the build" >&2;}
  as_fn_error $? "run \`${MAKE-make} distclean' and/or \`rm $cache_file'
	    and start over" "$LINENO" 5
fi
## -------------------- ##
## Main body of script. ##
## -------------------- ##

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu



#--------------------------------------------------------------------
# Call TEA_INIT as the first TEA_ macro to set up initial vars.
# This will define a ${TEA_PLATFORM} variable == "unix" or "windows"
# as well as PKG_LIB_FILE and PKG_STUB_LIB_FILE.
#--------------------------------------------------------------------


    TEA_VERSION="3.13"

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking TEA configuration" >&5
printf %s "checking TEA configuration... " >&6; }
    if test x"${PACKAGE_NAME}" = x ; then
	as_fn_error $? "
The PACKAGE_NAME variable must be defined by your TEA configure.ac" "$LINENO" 5
    fi
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ok (TEA ${TEA_VERSION})" >&5
printf "%s\n" "ok (TEA ${TEA_VERSION})" >&6; }

    # If the user did not set CFLAGS, set it now to keep macros
    # like AC_PROG_CC and AC_TRY_COMPILE from adding "-g -O2".
    if test "${CFLAGS+set}" != "set" ; then
	CFLAGS=""
    fi

    case "`uname -s`" in
	*win32*|*WIN32*|*MINGW32_*|*MINGW64_*)
	    # Extract the first word of "cygpath", so it can be a program name with args.
set dummy cygpath; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_CYGPATH+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$CYGPATH"; then
  ac_cv_prog_CYGPATH="$CYGPATH" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_CYGPATH="cygpath -m"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  test -z "$ac_cv_prog_CYGPATH" && ac_cv_prog_CYGPATH="echo"
fi
fi
CYGPATH=$ac_cv_prog_CYGPATH
if test -n "$CYGPATH"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CYGPATH" >&5
printf "%s\n" "$CYGPATH" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


	    EXEEXT=".exe"
	    TEA_PLATFORM="windows"
	    ;;
	*CYGWIN_*)
	    EXEEXT=".exe"
	    # CYGPATH and TEA_PLATFORM are determined later in LOAD_TCLCONFIG
	    ;;
	*)
	    CYGPATH=echo
	    # Maybe we are cross-compiling....
	    case ${host_alias} in
		*mingw32*)
		EXEEXT=".exe"
		TEA_PLATFORM="windows"
		;;
	    *)
		EXEEXT=""
		TEA_PLATFORM="unix"
		;;
	    esac
	    ;;
    esac

    # Check if exec_prefix is set. If not use fall back to prefix.
    # Note when adjusted, so that TEA_PREFIX can correct for this.
    # This is needed for recursive configures, since autoconf propagates
    # $prefix, but not $exec_prefix (doh!).
    if test x$exec_prefix = xNONE ; then
	exec_prefix_default=yes
	exec_prefix=$prefix
    fi

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: configuring ${PACKAGE_NAME} ${PACKAGE_VERSION}" >&5
printf "%s\n" "$as_me: configuring ${PACKAGE_NAME} ${PACKAGE_VERSION}" >&6;}




    # This package name must be replaced statically for AC_SUBST to work

    # Substitute STUB_LIB_FILE in case package creates a stub library too.


    # We AC_SUBST these here to ensure they are subst'ed,
    # in case the user doesn't call TEA_ADD_...








    # Configure the installer.

    INSTALL='$(SHELL) $(srcdir)/tclconfig/install-sh -c'
    INSTALL_DATA_DIR='${INSTALL} -d -m 755'
    INSTALL_DATA='${INSTALL} -m 644'
    INSTALL_PROGRAM='${INSTALL} -m 755'
    INSTALL_SCRIPT='${INSTALL} -m 755'


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking system version" >&5
printf %s "checking system version... " >&6; }
if test ${tcl_cv_sys_version+y}
then :
  printf %s "(cached) " >&6
else $as_nop

	# TEA specific:
	if test "${TEA_PLATFORM}" = "windows" ; then
	    tcl_cv_sys_version=windows
	else
	    tcl_cv_sys_version=`uname -s`-`uname -r`
	    if test "$?" -ne 0 ; then
		{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: can't find uname command" >&5
printf "%s\n" "$as_me: WARNING: can't find uname command" >&2;}
		tcl_cv_sys_version=unknown
	    else
		if test "`uname -s`" = "AIX" ; then
		    tcl_cv_sys_version=AIX-`uname -v`.`uname -r`
		fi
	    fi
	fi

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $tcl_cv_sys_version" >&5
printf "%s\n" "$tcl_cv_sys_version" >&6; }
    system=$tcl_cv_sys_version

    case $system in
	HP-UX-*) INSTALL_LIBRARY='${INSTALL} -m 755' ;;
	      *) INSTALL_LIBRARY='${INSTALL} -m 644' ;;
    esac












#--------------------------------------------------------------------
# Load the tclConfig.sh file
#--------------------------------------------------------------------



    #
    # Ok, lets find the tcl configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tcl
    #

    if test x"${no_tcl}" = x ; then
	# we reset no_tcl in case something fails here
	no_tcl=true

# Check whether --with-tcl was given.
if test ${with_tcl+y}
then :
  withval=$with_tcl; with_tclconfig="${withval}"
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for Tcl configuration" >&5
printf %s "checking for Tcl configuration... " >&6; }
	if test ${ac_cv_c_tclconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-tcl was specified.
	    if test x"${with_tclconfig}" != x ; then
		case "${with_tclconfig}" in
		    */tclConfig.sh )
			if test -f "${with_tclconfig}"; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-tcl argument should refer to directory containing tclConfig.sh, not to tclConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-tcl argument should refer to directory containing tclConfig.sh, not to tclConfig.sh itself" >&2;}
			    with_tclconfig="`echo "${with_tclconfig}" | sed 's!/tclConfig\.sh$!!'`"
			fi ;;
		esac
		if test -f "${with_tclconfig}/tclConfig.sh" ; then
		    ac_cv_c_tclconfig="`(cd "${with_tclconfig}"; pwd)`"
		else
		    as_fn_error $? "${with_tclconfig} directory doesn't contain tclConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private Tcl installation
	    if test x"${ac_cv_c_tclconfig}" = x ; then
		for i in \
			../tcl \
			`ls -dr ../tcl[8-9].[0-9].[0-9]* 2>/dev/null` \
			`ls -dr ../tcl[8-9].[0-9] 2>/dev/null` \
			`ls -dr ../tcl[8-9].[0-9]* 2>/dev/null` \
			../../tcl \
			`ls -dr ../../tcl[8-9].[0-9].[0-9]* 2>/dev/null` \
			`ls -dr ../../tcl[8-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tcl[8-9].[0-9]* 2>/dev/null` \
			../../../tcl \
			`ls -dr ../../../tcl[8-9].[0-9].[0-9]* 2>/dev/null` \
			`ls -dr ../../../tcl[8-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tcl[8-9].[0-9]* 2>/dev/null` ; do
		    if test "${TEA_PLATFORM}" = "windows" \
			    -a -f "$i/win/tclConfig.sh" ; then
			ac_cv_c_tclconfig="`(cd $i/win; pwd)`"
			break
		    fi
		    if test -f "$i/unix/tclConfig.sh" ; then
			ac_cv_c_tclconfig="`(cd $i/unix; pwd)`"
			break
		    fi
		done
	    fi

	    # on Darwin, check in Framework installation locations
	    if test "`uname -s`" = "Darwin" -a x"${ac_cv_c_tclconfig}" = x ; then
		for i in `ls -d ~/Library/Frameworks 2>/dev/null` \
			`ls -d /Library/Frameworks 2>/dev/null` \
			`ls -d /Network/Library/Frameworks 2>/dev/null` \
			`ls -d /System/Library/Frameworks 2>/dev/null` \
			`ls -d /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/Library/Frameworks/Tcl.framework 2>/dev/null` \
			`ls -d /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/Network/Library/Frameworks/Tcl.framework 2>/dev/null` \
			`ls -d /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/System/Library/Frameworks/Tcl.framework 2>/dev/null` \
			; do
		    if test -f "$i/Tcl.framework/tclConfig.sh" ; then
			ac_cv_c_tclconfig="`(cd $i/Tcl.framework; pwd)`"
			break
		    fi
		done
	    fi

	    # TEA specific: on Windows, check in common installation locations
	    if test "${TEA_PLATFORM}" = "windows" \
		-a x"${ac_cv_c_tclconfig}" = x ; then
		for i in `ls -d C:/Tcl/lib 2>/dev/null` \
			`ls -d C:/Progra~1/Tcl/lib 2>/dev/null` \
			; do
		    if test -f "$i/tclConfig.sh" ; then
			ac_cv_c_tclconfig="`(cd $i; pwd)`"
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tclconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			`ls -d /usr/lib/tcl8.6 2>/dev/null` \
			`ls -d /usr/lib/tcl8.5 2>/dev/null` \
			`ls -d /usr/local/lib/tcl8.6 2>/dev/null` \
			`ls -d /usr/local/lib/tcl8.5 2>/dev/null` \
			`ls -d /usr/local/lib/tcl/tcl8.6 2>/dev/null` \
			`ls -d /usr/local/lib/tcl/tcl8.5 2>/dev/null` \
			; do
		    if test -f "$i/tclConfig.sh" ; then
			ac_cv_c_tclconfig="`(cd $i; pwd)`"
			break
		    fi
		done
	    fi

	    # check in a few other private locations
	    if test x"${ac_cv_c_tclconfig}" = x ; then
		for i in \
			${srcdir}/../tcl \
			`ls -dr ${srcdir}/../tcl[8-9].[0-9].[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tcl[8-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tcl[8-9].[0-9]* 2>/dev/null` ; do
		    if test "${TEA_PLATFORM}" = "windows" \
			    -a -f "$i/win/tclConfig.sh" ; then
			ac_cv_c_tclconfig="`(cd $i/win; pwd)`"
			break
		    fi
		    if test -f "$i/unix/tclConfig.sh" ; then
			ac_cv_c_tclconfig="`(cd $i/unix; pwd)`"
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tclconfig}" = x ; then
	    TCL_BIN_DIR="# no Tcl configs found"
	    as_fn_error $? "Can't find Tcl configuration definitions. Use --with-tcl to specify a directory containing tclConfig.sh" "$LINENO" 5
	else
	    no_tcl=
	    TCL_BIN_DIR="${ac_cv_c_tclconfig}"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found ${TCL_BIN_DIR}/tclConfig.sh" >&5
printf "%s\n" "found ${TCL_BIN_DIR}/tclConfig.sh" >&6; }
	fi
    fi










ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}gcc", so it can be a program name with args.
set dummy ${ac_tool_prefix}gcc; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_CC="${ac_tool_prefix}gcc"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
printf "%s\n" "$CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


fi
if test -z "$ac_cv_prog_CC"; then
  ac_ct_CC=$CC
  # Extract the first word of "gcc", so it can be a program name with args.
set dummy gcc; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_ac_ct_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_CC="gcc"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC" >&5
printf "%s\n" "$ac_ct_CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi

  if test "x$ac_ct_CC" = x; then
    CC=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    CC=$ac_ct_CC
  fi
else
  CC="$ac_cv_prog_CC"
fi

if test -z "$CC"; then
          if test -n "$ac_tool_prefix"; then
    # Extract the first word of "${ac_tool_prefix}cc", so it can be a program name with args.
set dummy ${ac_tool_prefix}cc; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_CC="${ac_tool_prefix}cc"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
printf "%s\n" "$CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


  fi
fi
if test -z "$CC"; then
  # Extract the first word of "cc", so it can be a program name with args.
set dummy cc; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  ac_prog_rejected=no
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    if test "$as_dir$ac_word$ac_exec_ext" = "/usr/ucb/cc"; then
       ac_prog_rejected=yes
       continue
     fi
    ac_cv_prog_CC="cc"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

if test $ac_prog_rejected = yes; then
  # We found a bogon in the path, so make sure we never use it.
  set dummy $ac_cv_prog_CC
  shift
  if test $# != 0; then
    # We chose a different compiler from the bogus one.
    # However, it has the same basename, so the bogon will be chosen
    # first if we set CC to just the basename; use the full file name.
    shift
    ac_cv_prog_CC="$as_dir$ac_word${1+' '}$@"
  fi
fi
fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
printf "%s\n" "$CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


fi
if test -z "$CC"; then
  if test -n "$ac_tool_prefix"; then
  for ac_prog in cl.exe
  do
    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
set dummy $ac_tool_prefix$ac_prog; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_CC="$ac_tool_prefix$ac_prog"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
printf "%s\n" "$CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


    test -n "$CC" && break
  done
fi
if test -z "$CC"; then
  ac_ct_CC=$CC
  for ac_prog in cl.exe
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_ac_ct_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_CC="$ac_prog"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC" >&5
printf "%s\n" "$ac_ct_CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


  test -n "$ac_ct_CC" && break
done

  if test "x$ac_ct_CC" = x; then
    CC=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    CC=$ac_ct_CC
  fi
fi

fi
if test -z "$CC"; then
  if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}clang", so it can be a program name with args.
set dummy ${ac_tool_prefix}clang; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_CC="${ac_tool_prefix}clang"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
printf "%s\n" "$CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


fi
if test -z "$ac_cv_prog_CC"; then
  ac_ct_CC=$CC
  # Extract the first word of "clang", so it can be a program name with args.
set dummy clang; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_ac_ct_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_CC="clang"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC" >&5
printf "%s\n" "$ac_ct_CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi

  if test "x$ac_ct_CC" = x; then
    CC=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    CC=$ac_ct_CC
  fi
else
  CC="$ac_cv_prog_CC"
fi

fi


test -z "$CC" && { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "no acceptable C compiler found in \$PATH
See \`config.log' for more details" "$LINENO" 5; }

# Provide some information about the compiler.
printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for C compiler version" >&5
set X $ac_compile
ac_compiler=$2
for ac_option in --version -v -V -qversion -version; do
  { { ac_try="$ac_compiler $ac_option >&5"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_compiler $ac_option >&5") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    sed '10a\
... rest of stderr output deleted ...
         10q' conftest.err >conftest.er1
    cat conftest.er1 >&5
  fi
  rm -f conftest.er1 conftest.err
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
done

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
ac_clean_files_save=$ac_clean_files
ac_clean_files="$ac_clean_files a.out a.out.dSYM a.exe b.out"
# Try to create an executable without -o first, disregard a.out.
# It will help us diagnose broken compilers, and finding out an intuition
# of exeext.
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether the C compiler works" >&5
printf %s "checking whether the C compiler works... " >&6; }
ac_link_default=`printf "%s\n" "$ac_link" | sed 's/ -o *conftest[^ ]*//'`

# The possible output files:
ac_files="a.out conftest.exe conftest a.exe a_out.exe b.out conftest.*"

ac_rmfiles=
for ac_file in $ac_files
do
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;
    * ) ac_rmfiles="$ac_rmfiles $ac_file";;
  esac
done
rm -f $ac_rmfiles

if { { ac_try="$ac_link_default"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_link_default") 2>&5
  ac_status=$?
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
then :
  # Autoconf-2.13 could set the ac_cv_exeext variable to `no'.
# So ignore a value of `no', otherwise this would lead to `EXEEXT = no'
# in a Makefile.  We should not override ac_cv_exeext if it was cached,
# so that the user can short-circuit this test for compilers unknown to
# Autoconf.
for ac_file in $ac_files ''
do
  test -f "$ac_file" || continue
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj )
	;;
    [ab].out )
	# We found the default executable, but exeext='' is most
	# certainly right.
	break;;
    *.* )
	if test ${ac_cv_exeext+y} && test "$ac_cv_exeext" != no;
	then :; else
	   ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
	fi
	# We set ac_cv_exeext here because the later test for it is not
	# safe: cross compilers may not add the suffix if given an `-o'
	# argument, so we may need to know it at that point already.
	# Even if this section looks crufty: it has the advantage of
	# actually working.
	break;;
    * )
	break;;
  esac
done
test "$ac_cv_exeext" = no && ac_cv_exeext=

else $as_nop
  ac_file=''
fi
if test -z "$ac_file"
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
printf "%s\n" "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "C compiler cannot create executables
See \`config.log' for more details" "$LINENO" 5; }
else $as_nop
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for C compiler default output file name" >&5
printf %s "checking for C compiler default output file name... " >&6; }
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_file" >&5
printf "%s\n" "$ac_file" >&6; }
ac_exeext=$ac_cv_exeext

rm -f -r a.out a.out.dSYM a.exe conftest$ac_cv_exeext b.out
ac_clean_files=$ac_clean_files_save
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for suffix of executables" >&5
printf %s "checking for suffix of executables... " >&6; }
if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
then :
  # If both `conftest.exe' and `conftest' are `present' (well, observable)
# catch `conftest.exe'.  For instance with Cygwin, `ls conftest' will
# work properly (i.e., refer to `conftest.exe'), while it won't with
# `rm'.
for ac_file in conftest.exe conftest conftest.*; do
  test -f "$ac_file" || continue
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;
    *.* ) ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
	  break;;
    * ) break;;
  esac
done
else $as_nop
  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot compute suffix of executables: cannot compile and link
See \`config.log' for more details" "$LINENO" 5; }
fi
rm -f conftest conftest$ac_cv_exeext
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_exeext" >&5
printf "%s\n" "$ac_cv_exeext" >&6; }

rm -f conftest.$ac_ext
EXEEXT=$ac_cv_exeext
ac_exeext=$EXEEXT
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
int
main (void)
{
FILE *f = fopen ("conftest.out", "w");
 return ferror (f) || fclose (f) != 0;

  ;
  return 0;
}
_ACEOF
ac_clean_files="$ac_clean_files conftest.out"
# Check that the compiler produces executables we can run.  If not, either
# the compiler is broken, or we cross compile.
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether we are cross compiling" >&5
printf %s "checking whether we are cross compiling... " >&6; }
if test "$cross_compiling" != yes; then
  { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
  if { ac_try='./conftest$ac_cv_exeext'
  { { case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; }; then
    cross_compiling=no
  else
    if test "$cross_compiling" = maybe; then
	cross_compiling=yes
    else
	{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot run C compiled programs.
If you meant to cross compile, use \`--host'.
See \`config.log' for more details" "$LINENO" 5; }
    fi
  fi
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $cross_compiling" >&5
printf "%s\n" "$cross_compiling" >&6; }

rm -f conftest.$ac_ext conftest$ac_cv_exeext conftest.out
ac_clean_files=$ac_clean_files_save
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for suffix of object files" >&5
printf %s "checking for suffix of object files... " >&6; }
if test ${ac_cv_objext+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.o conftest.obj
if { { ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_compile") 2>&5
  ac_status=$?
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
then :
  for ac_file in conftest.o conftest.obj conftest.*; do
  test -f "$ac_file" || continue;
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM ) ;;
    *) ac_cv_objext=`expr "$ac_file" : '.*\.\(.*\)'`
       break;;
  esac
done
else $as_nop
  printf "%s\n" "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot compute suffix of object files: cannot compile
See \`config.log' for more details" "$LINENO" 5; }
fi
rm -f conftest.$ac_cv_objext conftest.$ac_ext
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_objext" >&5
printf "%s\n" "$ac_cv_objext" >&6; }
OBJEXT=$ac_cv_objext
ac_objext=$OBJEXT
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether the compiler supports GNU C" >&5
printf %s "checking whether the compiler supports GNU C... " >&6; }
if test ${ac_cv_c_compiler_gnu+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
#ifndef __GNUC__
       choke me
#endif

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  ac_compiler_gnu=yes
else $as_nop
  ac_compiler_gnu=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
ac_cv_c_compiler_gnu=$ac_compiler_gnu

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_compiler_gnu" >&5
printf "%s\n" "$ac_cv_c_compiler_gnu" >&6; }
ac_compiler_gnu=$ac_cv_c_compiler_gnu

if test $ac_compiler_gnu = yes; then
  GCC=yes
else
  GCC=
fi
ac_test_CFLAGS=${CFLAGS+y}
ac_save_CFLAGS=$CFLAGS
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC accepts -g" >&5
printf %s "checking whether $CC accepts -g... " >&6; }
if test ${ac_cv_prog_cc_g+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_save_c_werror_flag=$ac_c_werror_flag
   ac_c_werror_flag=yes
   ac_cv_prog_cc_g=no
   CFLAGS="-g"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  ac_cv_prog_cc_g=yes
else $as_nop
  CFLAGS=""
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

else $as_nop
  ac_c_werror_flag=$ac_save_c_werror_flag
	 CFLAGS="-g"
	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  ac_cv_prog_cc_g=yes
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
   ac_c_werror_flag=$ac_save_c_werror_flag
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_g" >&5
printf "%s\n" "$ac_cv_prog_cc_g" >&6; }
if test $ac_test_CFLAGS; then
  CFLAGS=$ac_save_CFLAGS
elif test $ac_cv_prog_cc_g = yes; then
  if test "$GCC" = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-g"
  fi
else
  if test "$GCC" = yes; then
    CFLAGS="-O2"
  else
    CFLAGS=
  fi
fi
ac_prog_cc_stdc=no
if test x$ac_prog_cc_stdc = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CC option to enable C11 features" >&5
printf %s "checking for $CC option to enable C11 features... " >&6; }
if test ${ac_cv_prog_cc_c11+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_cv_prog_cc_c11=no
ac_save_CC=$CC
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$ac_c_conftest_c11_program
_ACEOF
for ac_arg in '' -std=gnu11
do
  CC="$ac_save_CC $ac_arg"
  if ac_fn_c_try_compile "$LINENO"
then :
  ac_cv_prog_cc_c11=$ac_arg
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam
  test "x$ac_cv_prog_cc_c11" != "xno" && break
done
rm -f conftest.$ac_ext
CC=$ac_save_CC
fi

if test "x$ac_cv_prog_cc_c11" = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
printf "%s\n" "unsupported" >&6; }
else $as_nop
  if test "x$ac_cv_prog_cc_c11" = x
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
printf "%s\n" "none needed" >&6; }
else $as_nop
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c11" >&5
printf "%s\n" "$ac_cv_prog_cc_c11" >&6; }
     CC="$CC $ac_cv_prog_cc_c11"
fi
  ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c11
  ac_prog_cc_stdc=c11
fi
fi
if test x$ac_prog_cc_stdc = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CC option to enable C99 features" >&5
printf %s "checking for $CC option to enable C99 features... " >&6; }
if test ${ac_cv_prog_cc_c99+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_cv_prog_cc_c99=no
ac_save_CC=$CC
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$ac_c_conftest_c99_program
_ACEOF
for ac_arg in '' -std=gnu99 -std=c99 -c99 -qlanglvl=extc1x -qlanglvl=extc99 -AC99 -D_STDC_C99=
do
  CC="$ac_save_CC $ac_arg"
  if ac_fn_c_try_compile "$LINENO"
then :
  ac_cv_prog_cc_c99=$ac_arg
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam
  test "x$ac_cv_prog_cc_c99" != "xno" && break
done
rm -f conftest.$ac_ext
CC=$ac_save_CC
fi

if test "x$ac_cv_prog_cc_c99" = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
printf "%s\n" "unsupported" >&6; }
else $as_nop
  if test "x$ac_cv_prog_cc_c99" = x
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
printf "%s\n" "none needed" >&6; }
else $as_nop
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c99" >&5
printf "%s\n" "$ac_cv_prog_cc_c99" >&6; }
     CC="$CC $ac_cv_prog_cc_c99"
fi
  ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c99
  ac_prog_cc_stdc=c99
fi
fi
if test x$ac_prog_cc_stdc = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CC option to enable C89 features" >&5
printf %s "checking for $CC option to enable C89 features... " >&6; }
if test ${ac_cv_prog_cc_c89+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_cv_prog_cc_c89=no
ac_save_CC=$CC
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$ac_c_conftest_c89_program
_ACEOF
for ac_arg in '' -qlanglvl=extc89 -qlanglvl=ansi -std -Ae "-Aa -D_HPUX_SOURCE" "-Xc -D__EXTENSIONS__"
do
  CC="$ac_save_CC $ac_arg"
  if ac_fn_c_try_compile "$LINENO"
then :
  ac_cv_prog_cc_c89=$ac_arg
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam
  test "x$ac_cv_prog_cc_c89" != "xno" && break
done
rm -f conftest.$ac_ext
CC=$ac_save_CC
fi

if test "x$ac_cv_prog_cc_c89" = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
printf "%s\n" "unsupported" >&6; }
else $as_nop
  if test "x$ac_cv_prog_cc_c89" = x
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
printf "%s\n" "none needed" >&6; }
else $as_nop
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c89" >&5
printf "%s\n" "$ac_cv_prog_cc_c89" >&6; }
     CC="$CC $ac_cv_prog_cc_c89"
fi
  ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c89
  ac_prog_cc_stdc=c89
fi
fi

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu



    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${TCL_BIN_DIR}/tclConfig.sh" >&5
printf %s "checking for existence of ${TCL_BIN_DIR}/tclConfig.sh... " >&6; }

    if test -f "${TCL_BIN_DIR}/tclConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${TCL_BIN_DIR}/tclConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: could not find ${TCL_BIN_DIR}/tclConfig.sh" >&5
printf "%s\n" "could not find ${TCL_BIN_DIR}/tclConfig.sh" >&6; }
    fi

    # eval is required to do the TCL_DBGX substitution
    eval "TCL_LIB_FILE=\"${TCL_LIB_FILE}\""
    eval "TCL_STUB_LIB_FILE=\"${TCL_STUB_LIB_FILE}\""

    # If the TCL_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable TCL_LIB_SPEC will be set to the value
    # of TCL_BUILD_LIB_SPEC. An extension should make use of TCL_LIB_SPEC
    # instead of TCL_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    if test -f "${TCL_BIN_DIR}/Makefile" ; then
        TCL_LIB_SPEC="${TCL_BUILD_LIB_SPEC}"
        TCL_STUB_LIB_SPEC="${TCL_BUILD_STUB_LIB_SPEC}"
        TCL_STUB_LIB_PATH="${TCL_BUILD_STUB_LIB_PATH}"
    elif test "`uname -s`" = "Darwin"; then
	# If Tcl was built as a framework, attempt to use the libraries
	# from the framework at the given location so that linking works
	# against Tcl.framework installed in an arbitrary location.
	case ${TCL_DEFS} in
	    *TCL_FRAMEWORK*)
		if test -f "${TCL_BIN_DIR}/${TCL_LIB_FILE}"; then
		    for i in "`cd "${TCL_BIN_DIR}"; pwd`" \
			     "`cd "${TCL_BIN_DIR}"/../..; pwd`"; do
			if test "`basename "$i"`" = "${TCL_LIB_FILE}.framework"; then
			    TCL_LIB_SPEC="-F`dirname "$i" | sed -e 's/ /\\\\ /g'` -framework ${TCL_LIB_FILE}"
			    break
			fi
		    done
		fi
		if test -f "${TCL_BIN_DIR}/${TCL_STUB_LIB_FILE}"; then
		    TCL_STUB_LIB_SPEC="-L`echo "${TCL_BIN_DIR}"  | sed -e 's/ /\\\\ /g'` ${TCL_STUB_LIB_FLAG}"
		    TCL_STUB_LIB_PATH="${TCL_BIN_DIR}/${TCL_STUB_LIB_FILE}"
		fi
		;;
	esac
    fi

    # eval is required to do the TCL_DBGX substitution
    eval "TCL_LIB_FLAG=\"${TCL_LIB_FLAG}\""
    eval "TCL_LIB_SPEC=\"${TCL_LIB_SPEC}\""
    eval "TCL_STUB_LIB_FLAG=\"${TCL_STUB_LIB_FLAG}\""
    eval "TCL_STUB_LIB_SPEC=\"${TCL_STUB_LIB_SPEC}\""














    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking platform" >&5
printf %s "checking platform... " >&6; }
    hold_cc=$CC; CC="$TCL_CC"
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

	    #ifdef _WIN32
		#error win32
	    #endif

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

	    TEA_PLATFORM="unix"
	    CYGPATH=echo

else $as_nop

	    TEA_PLATFORM="windows"
	    # Extract the first word of "cygpath", so it can be a program name with args.
set dummy cygpath; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_CYGPATH+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$CYGPATH"; then
  ac_cv_prog_CYGPATH="$CYGPATH" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_CYGPATH="cygpath -m"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  test -z "$ac_cv_prog_CYGPATH" && ac_cv_prog_CYGPATH="echo"
fi
fi
CYGPATH=$ac_cv_prog_CYGPATH
if test -n "$CYGPATH"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CYGPATH" >&5
printf "%s\n" "$CYGPATH" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi



fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
    CC=$hold_cc
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $TEA_PLATFORM" >&5
printf "%s\n" "$TEA_PLATFORM" >&6; }

    # The BUILD_$pkg is to define the correct extern storage class
    # handling when making this package

printf "%s\n" "#define BUILD_${PACKAGE_NAME} /**/" >>confdefs.h

    # Do this here as we have fully defined TEA_PLATFORM now
    if test "${TEA_PLATFORM}" = "windows" ; then
	EXEEXT=".exe"
	CLEANFILES="$CLEANFILES *.lib *.dll *.pdb *.exp"
    fi

    # TEA specific:








#--------------------------------------------------------------------
# Load the tkConfig.sh file if necessary (Tk extension)
#--------------------------------------------------------------------


    #
    # Ok, lets find the tk configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tk
    #

    if test x"${no_tk}" = x ; then
	# we reset no_tk in case something fails here
	no_tk=true

# Check whether --with-tk was given.
if test ${with_tk+y}
then :
  withval=$with_tk; with_tkconfig="${withval}"
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for Tk configuration" >&5
printf %s "checking for Tk configuration... " >&6; }
	if test ${ac_cv_c_tkconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-tkconfig was specified.
	    if test x"${with_tkconfig}" != x ; then
		case "${with_tkconfig}" in
		    */tkConfig.sh )
			if test -f "${with_tkconfig}"; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-tk argument should refer to directory containing tkConfig.sh, not to tkConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-tk argument should refer to directory containing tkConfig.sh, not to tkConfig.sh itself" >&2;}
			    with_tkconfig="`echo "${with_tkconfig}" | sed 's!/tkConfig\.sh$!!'`"
			fi ;;
		esac
		if test -f "${with_tkconfig}/tkConfig.sh" ; then
		    ac_cv_c_tkconfig="`(cd "${with_tkconfig}"; pwd)`"
		else
		    as_fn_error $? "${with_tkconfig} directory doesn't contain tkConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private Tk library
	    if test x"${ac_cv_c_tkconfig}" = x ; then
		for i in \
			../tk \
			`ls -dr ../tk[8-9].[0-9].[0-9]* 2>/dev/null` \
			`ls -dr ../tk[8-9].[0-9] 2>/dev/null` \
			`ls -dr ../tk[8-9].[0-9]* 2>/dev/null` \
			../../tk \
			`ls -dr ../../tk[8-9].[0-9].[0-9]* 2>/dev/null` \
			`ls -dr ../../tk[8-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tk[8-9].[0-9]* 2>/dev/null` \
			../../../tk \
			`ls -dr ../../../tk[8-9].[0-9].[0-9]* 2>/dev/null` \
			`ls -dr ../../../tk[8-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tk[8-9].[0-9]* 2>/dev/null` ; do
		    if test "${TEA_PLATFORM}" = "windows" \
			    -a -f "$i/win/tkConfig.sh" ; then
			ac_cv_c_tkconfig="`(cd $i/win; pwd)`"
			break
		    fi
		    if test -f "$i/unix/tkConfig.sh" ; then
			ac_cv_c_tkconfig="`(cd $i/unix; pwd)`"
			break
		    fi
		done
	    fi

	    # on Darwin, check in Framework installation locations
	    if test "`uname -s`" = "Darwin" -a x"${ac_cv_c_tkconfig}" = x ; then
		for i in `ls -d ~/Library/Frameworks 2>/dev/null` \
			`ls -d /Library/Frameworks 2>/dev/null` \
			`ls -d /Network/Library/Frameworks 2>/dev/null` \
			`ls -d /System/Library/Frameworks 2>/dev/null` \
			`ls -d /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/Library/Frameworks/Tcl.framework 2>/dev/null` \
			`ls -d /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/Network/Library/Frameworks/Tcl.framework 2>/dev/null` \
			`ls -d /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/System/Library/Frameworks/Tcl.framework 2>/dev/null` \
			; do
		    if test -f "$i/Tk.framework/tkConfig.sh" ; then
			ac_cv_c_tkconfig="`(cd $i/Tk.framework; pwd)`"
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tkconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			`ls -d /usr/lib/tk8.6 2>/dev/null` \
			`ls -d /usr/lib/tk8.5 2>/dev/null` \
			`ls -d /usr/local/lib/tk8.6 2>/dev/null` \
			`ls -d /usr/local/lib/tk8.5 2>/dev/null` \
			`ls -d /usr/local/lib/tcl/tk8.6 2>/dev/null` \
			`ls -d /usr/local/lib/tcl/tk8.5 2>/dev/null` \
			; do
		    if test -f "$i/tkConfig.sh" ; then
			ac_cv_c_tkconfig="`(cd $i; pwd)`"
			break
		    fi
		done
	    fi

	    # TEA specific: on Windows, check in common installation locations
	    if test "${TEA_PLATFORM}" = "windows" \
		-a x"${ac_cv_c_tkconfig}" = x ; then
		for i in `ls -d C:/Tcl/lib 2>/dev/null` \
			`ls -d C:/Progra~1/Tcl/lib 2>/dev/null` \
			; do
		    if test -f "$i/tkConfig.sh" ; then
			ac_cv_c_tkconfig="`(cd $i; pwd)`"
			break
		    fi
		done
	    fi

	    # check in a few other private locations
	    if test x"${ac_cv_c_tkconfig}" = x ; then
		for i in \
			${srcdir}/../tk \
			`ls -dr ${srcdir}/../tk[8-9].[0-9].[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tk[8-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tk[8-9].[0-9]* 2>/dev/null` ; do
		    if test "${TEA_PLATFORM}" = "windows" \
			    -a -f "$i/win/tkConfig.sh" ; then
			ac_cv_c_tkconfig="`(cd $i/win; pwd)`"
			break
		    fi
		    if test -f "$i/unix/tkConfig.sh" ; then
			ac_cv_c_tkconfig="`(cd $i/unix; pwd)`"
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tkconfig}" = x ; then
	    TK_BIN_DIR="# no Tk configs found"
	    as_fn_error $? "Can't find Tk configuration definitions. Use --with-tk to specify a directory containing tkConfig.sh" "$LINENO" 5
	else
	    no_tk=
	    TK_BIN_DIR="${ac_cv_c_tkconfig}"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found ${TK_BIN_DIR}/tkConfig.sh" >&5
printf "%s\n" "found ${TK_BIN_DIR}/tkConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${TK_BIN_DIR}/tkConfig.sh" >&5
printf %s "checking for existence of ${TK_BIN_DIR}/tkConfig.sh... " >&6; }

    if test -f "${TK_BIN_DIR}/tkConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${TK_BIN_DIR}/tkConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: could not find ${TK_BIN_DIR}/tkConfig.sh" >&5
printf "%s\n" "could not find ${TK_BIN_DIR}/tkConfig.sh" >&6; }
    fi

    # eval is required to do the TK_DBGX substitution
    eval "TK_LIB_FILE=\"${TK_LIB_FILE}\""
    eval "TK_STUB_LIB_FILE=\"${TK_STUB_LIB_FILE}\""

    # If the TK_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable TK_LIB_SPEC will be set to the value
    # of TK_BUILD_LIB_SPEC. An extension should make use of TK_LIB_SPEC
    # instead of TK_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    if test -f "${TK_BIN_DIR}/Makefile" ; then
        TK_LIB_SPEC="${TK_BUILD_LIB_SPEC}"
        TK_STUB_LIB_SPEC="${TK_BUILD_STUB_LIB_SPEC}"
        TK_STUB_LIB_PATH="${TK_BUILD_STUB_LIB_PATH}"
    elif test "`uname -s`" = "Darwin"; then
	# If Tk was built as a framework, attempt to use the libraries
	# from the framework at the given location so that linking works
	# against Tk.framework installed in an arbitrary location.
	case ${TK_DEFS} in
	    *TK_FRAMEWORK*)
		if test -f "${TK_BIN_DIR}/${TK_LIB_FILE}"; then
		    for i in "`cd "${TK_BIN_DIR}"; pwd`" \
			     "`cd "${TK_BIN_DIR}"/../..; pwd`"; do
			if test "`basename "$i"`" = "${TK_LIB_FILE}.framework"; then
			    TK_LIB_SPEC="-F`dirname "$i" | sed -e 's/ /\\\\ /g'` -framework ${TK_LIB_FILE}"
			    break
			fi
		    done
		fi
		if test -f "${TK_BIN_DIR}/${TK_STUB_LIB_FILE}"; then
		    TK_STUB_LIB_SPEC="-L` echo "${TK_BIN_DIR}"  | sed -e 's/ /\\\\ /g'` ${TK_STUB_LIB_FLAG}"
		    TK_STUB_LIB_PATH="${TK_BIN_DIR}/${TK_STUB_LIB_FILE}"
		fi
		;;
	esac
    fi

    # eval is required to do the TK_DBGX substitution
    eval "TK_LIB_FLAG=\"${TK_LIB_FLAG}\""
    eval "TK_LIB_SPEC=\"${TK_LIB_SPEC}\""
    eval "TK_STUB_LIB_FLAG=\"${TK_STUB_LIB_FLAG}\""
    eval "TK_STUB_LIB_SPEC=\"${TK_STUB_LIB_SPEC}\""

    # TEA specific: Ensure windowingsystem is defined
    if test "${TEA_PLATFORM}" = "unix" ; then
	case ${TK_DEFS} in
	    *MAC_OSX_TK*)

printf "%s\n" "#define MAC_OSX_TK 1" >>confdefs.h

		TEA_WINDOWINGSYSTEM="aqua"
		;;
	    *)
		TEA_WINDOWINGSYSTEM="x11"
		;;
	esac
    elif test "${TEA_PLATFORM}" = "windows" ; then
	TEA_WINDOWINGSYSTEM="win32"
    fi













    # TEA specific:




#--------------------------------------------------------------------
# Load the *.sh file if necessary
#--------------------------------------------------------------------


    #
    # Ok, lets find the util configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-util
    #

    if test x"${no_util}" = x ; then
	# we reset no_util in case something fails here
	no_util=true

# Check whether --with-util was given.
if test ${with_util+y}
then :
  withval=$with_util; with_utilconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for util configuration" >&5
printf %s "checking for util configuration... " >&6; }
	if test ${ac_cv_c_utilconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-util was specified.
	    if test x"${with_utilconfig}" != x ; then
		case ${with_utilconfig} in
		    */utilConfig.sh )
			if test -f ${with_utilconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-util argument should refer to directory containing utilConfig.sh, not to utilConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-util argument should refer to directory containing utilConfig.sh, not to utilConfig.sh itself" >&2;}
			    with_utilconfig=`echo ${with_utilconfig} | sed 's!/utilConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_utilconfig}/utilConfig.sh" ; then
		    ac_cv_c_utilconfig=`(cd ${with_utilconfig}; pwd)`
		else
		    as_fn_error $? "${with_utilconfig} directory doesn't contain utilConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private util installation
	    if test x"${ac_cv_c_utilconfig}" = x ; then
		for i in \
			../util \
			`ls -dr ../util*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../util*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../util*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../util*[0-9].[0-9]* 2>/dev/null` \
			../../util \
			`ls -dr ../../util*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../util*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../util*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../util*[0-9].[0-9]* 2>/dev/null` \
			../../../util \
			`ls -dr ../../../util*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../util*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../util*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../util*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../util \
			`ls -dr ${srcdir}/../util*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../util*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../util*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../util*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/utilConfig.sh" ; then
			ac_cv_c_utilconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/utilConfig.sh" ; then
			ac_cv_c_utilconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_utilconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/utilConfig.sh" ; then
			ac_cv_c_utilconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_utilconfig}" = x ; then
	    util_BIN_DIR="# no util configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find util configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find util configuration definitions" >&2;}
	    exit 0
	else
	    no_util=
	    util_BIN_DIR=${ac_cv_c_utilconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $util_BIN_DIR/utilConfig.sh" >&5
printf "%s\n" "found $util_BIN_DIR/utilConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${util_BIN_DIR}/utilConfig.sh" >&5
printf %s "checking for existence of ${util_BIN_DIR}/utilConfig.sh... " >&6; }

    if test -f "${util_BIN_DIR}/utilConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${util_BIN_DIR}/utilConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the util_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable util_LIB_SPEC will be set to the value
    # of util_BUILD_LIB_SPEC. An extension should make use of util_LIB_SPEC
    # instead of util_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${util_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for util" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for util" >&2;}
        util_LIB_SPEC=${util_BUILD_LIB_SPEC}
        util_STUB_LIB_SPEC=${util_BUILD_STUB_LIB_SPEC}
        util_STUB_LIB_PATH=${util_BUILD_STUB_LIB_PATH}
        util_INCLUDE_SPEC=${util_BUILD_INCLUDE_SPEC}
        util_LIBRARY_PATH=${util_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${util_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For UTIL_STUB library for LIBS" >&5
printf %s "checking For UTIL_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${UTIL_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${UTIL_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using UTIL_STUB_LIB_PATH ${UTIL_STUB_LIB_PATH}" >&5
printf "%s\n" "using UTIL_STUB_LIB_PATH ${UTIL_STUB_LIB_PATH}" >&6; }
	else

    vars="${UTIL_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using UTIL_STUB_LIB_SPEC ${UTIL_STUB_LIB_SPEC}" >&5
printf "%s\n" "using UTIL_STUB_LIB_SPEC ${UTIL_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For util_STUB library for LIBS" >&5
printf %s "checking For util_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${util_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${util_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using util_STUB_LIB_PATH ${util_STUB_LIB_PATH}" >&5
printf "%s\n" "using util_STUB_LIB_PATH ${util_STUB_LIB_PATH}" >&6; }
	else

    vars="${util_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using util_STUB_LIB_SPEC ${util_STUB_LIB_SPEC}" >&5
printf "%s\n" "using util_STUB_LIB_SPEC ${util_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the vector configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-vector
    #

    if test x"${no_vector}" = x ; then
	# we reset no_vector in case something fails here
	no_vector=true

# Check whether --with-vector was given.
if test ${with_vector+y}
then :
  withval=$with_vector; with_vectorconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for vector configuration" >&5
printf %s "checking for vector configuration... " >&6; }
	if test ${ac_cv_c_vectorconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-vector was specified.
	    if test x"${with_vectorconfig}" != x ; then
		case ${with_vectorconfig} in
		    */vectorConfig.sh )
			if test -f ${with_vectorconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-vector argument should refer to directory containing vectorConfig.sh, not to vectorConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-vector argument should refer to directory containing vectorConfig.sh, not to vectorConfig.sh itself" >&2;}
			    with_vectorconfig=`echo ${with_vectorconfig} | sed 's!/vectorConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_vectorconfig}/vectorConfig.sh" ; then
		    ac_cv_c_vectorconfig=`(cd ${with_vectorconfig}; pwd)`
		else
		    as_fn_error $? "${with_vectorconfig} directory doesn't contain vectorConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private vector installation
	    if test x"${ac_cv_c_vectorconfig}" = x ; then
		for i in \
			../vector \
			`ls -dr ../vector*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../vector*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../vector*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../vector*[0-9].[0-9]* 2>/dev/null` \
			../../vector \
			`ls -dr ../../vector*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../vector*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../vector*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../vector*[0-9].[0-9]* 2>/dev/null` \
			../../../vector \
			`ls -dr ../../../vector*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../vector*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../vector*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../vector*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../vector \
			`ls -dr ${srcdir}/../vector*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../vector*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../vector*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../vector*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/vectorConfig.sh" ; then
			ac_cv_c_vectorconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/vectorConfig.sh" ; then
			ac_cv_c_vectorconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_vectorconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/vectorConfig.sh" ; then
			ac_cv_c_vectorconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_vectorconfig}" = x ; then
	    vector_BIN_DIR="# no vector configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find vector configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find vector configuration definitions" >&2;}
	    exit 0
	else
	    no_vector=
	    vector_BIN_DIR=${ac_cv_c_vectorconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $vector_BIN_DIR/vectorConfig.sh" >&5
printf "%s\n" "found $vector_BIN_DIR/vectorConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${vector_BIN_DIR}/vectorConfig.sh" >&5
printf %s "checking for existence of ${vector_BIN_DIR}/vectorConfig.sh... " >&6; }

    if test -f "${vector_BIN_DIR}/vectorConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${vector_BIN_DIR}/vectorConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the vector_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable vector_LIB_SPEC will be set to the value
    # of vector_BUILD_LIB_SPEC. An extension should make use of vector_LIB_SPEC
    # instead of vector_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${vector_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for vector" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for vector" >&2;}
        vector_LIB_SPEC=${vector_BUILD_LIB_SPEC}
        vector_STUB_LIB_SPEC=${vector_BUILD_STUB_LIB_SPEC}
        vector_STUB_LIB_PATH=${vector_BUILD_STUB_LIB_PATH}
        vector_INCLUDE_SPEC=${vector_BUILD_INCLUDE_SPEC}
        vector_LIBRARY_PATH=${vector_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${vector_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For VECTOR_STUB library for LIBS" >&5
printf %s "checking For VECTOR_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${VECTOR_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${VECTOR_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using VECTOR_STUB_LIB_PATH ${VECTOR_STUB_LIB_PATH}" >&5
printf "%s\n" "using VECTOR_STUB_LIB_PATH ${VECTOR_STUB_LIB_PATH}" >&6; }
	else

    vars="${VECTOR_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using VECTOR_STUB_LIB_SPEC ${VECTOR_STUB_LIB_SPEC}" >&5
printf "%s\n" "using VECTOR_STUB_LIB_SPEC ${VECTOR_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For vector_STUB library for LIBS" >&5
printf %s "checking For vector_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${vector_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${vector_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using vector_STUB_LIB_PATH ${vector_STUB_LIB_PATH}" >&5
printf "%s\n" "using vector_STUB_LIB_PATH ${vector_STUB_LIB_PATH}" >&6; }
	else

    vars="${vector_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using vector_STUB_LIB_SPEC ${vector_STUB_LIB_SPEC}" >&5
printf "%s\n" "using vector_STUB_LIB_SPEC ${vector_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the fitsy configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-fitsy
    #

    if test x"${no_fitsy}" = x ; then
	# we reset no_fitsy in case something fails here
	no_fitsy=true

# Check whether --with-fitsy was given.
if test ${with_fitsy+y}
then :
  withval=$with_fitsy; with_fitsyconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for fitsy configuration" >&5
printf %s "checking for fitsy configuration... " >&6; }
	if test ${ac_cv_c_fitsyconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-fitsy was specified.
	    if test x"${with_fitsyconfig}" != x ; then
		case ${with_fitsyconfig} in
		    */fitsyConfig.sh )
			if test -f ${with_fitsyconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-fitsy argument should refer to directory containing fitsyConfig.sh, not to fitsyConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-fitsy argument should refer to directory containing fitsyConfig.sh, not to fitsyConfig.sh itself" >&2;}
			    with_fitsyconfig=`echo ${with_fitsyconfig} | sed 's!/fitsyConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_fitsyconfig}/fitsyConfig.sh" ; then
		    ac_cv_c_fitsyconfig=`(cd ${with_fitsyconfig}; pwd)`
		else
		    as_fn_error $? "${with_fitsyconfig} directory doesn't contain fitsyConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private fitsy installation
	    if test x"${ac_cv_c_fitsyconfig}" = x ; then
		for i in \
			../fitsy \
			`ls -dr ../fitsy*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../fitsy*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../fitsy*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../fitsy*[0-9].[0-9]* 2>/dev/null` \
			../../fitsy \
			`ls -dr ../../fitsy*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../fitsy*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../fitsy*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../fitsy*[0-9].[0-9]* 2>/dev/null` \
			../../../fitsy \
			`ls -dr ../../../fitsy*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../fitsy*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../fitsy*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../fitsy*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../fitsy \
			`ls -dr ${srcdir}/../fitsy*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../fitsy*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../fitsy*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../fitsy*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/fitsyConfig.sh" ; then
			ac_cv_c_fitsyconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/fitsyConfig.sh" ; then
			ac_cv_c_fitsyconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_fitsyconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/fitsyConfig.sh" ; then
			ac_cv_c_fitsyconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_fitsyconfig}" = x ; then
	    fitsy_BIN_DIR="# no fitsy configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find fitsy configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find fitsy configuration definitions" >&2;}
	    exit 0
	else
	    no_fitsy=
	    fitsy_BIN_DIR=${ac_cv_c_fitsyconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $fitsy_BIN_DIR/fitsyConfig.sh" >&5
printf "%s\n" "found $fitsy_BIN_DIR/fitsyConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${fitsy_BIN_DIR}/fitsyConfig.sh" >&5
printf %s "checking for existence of ${fitsy_BIN_DIR}/fitsyConfig.sh... " >&6; }

    if test -f "${fitsy_BIN_DIR}/fitsyConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${fitsy_BIN_DIR}/fitsyConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the fitsy_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable fitsy_LIB_SPEC will be set to the value
    # of fitsy_BUILD_LIB_SPEC. An extension should make use of fitsy_LIB_SPEC
    # instead of fitsy_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${fitsy_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for fitsy" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for fitsy" >&2;}
        fitsy_LIB_SPEC=${fitsy_BUILD_LIB_SPEC}
        fitsy_STUB_LIB_SPEC=${fitsy_BUILD_STUB_LIB_SPEC}
        fitsy_STUB_LIB_PATH=${fitsy_BUILD_STUB_LIB_PATH}
        fitsy_INCLUDE_SPEC=${fitsy_BUILD_INCLUDE_SPEC}
        fitsy_LIBRARY_PATH=${fitsy_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${fitsy_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For FITSY_STUB library for LIBS" >&5
printf %s "checking For FITSY_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${FITSY_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${FITSY_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using FITSY_STUB_LIB_PATH ${FITSY_STUB_LIB_PATH}" >&5
printf "%s\n" "using FITSY_STUB_LIB_PATH ${FITSY_STUB_LIB_PATH}" >&6; }
	else

    vars="${FITSY_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using FITSY_STUB_LIB_SPEC ${FITSY_STUB_LIB_SPEC}" >&5
printf "%s\n" "using FITSY_STUB_LIB_SPEC ${FITSY_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For fitsy_STUB library for LIBS" >&5
printf %s "checking For fitsy_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${fitsy_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${fitsy_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using fitsy_STUB_LIB_PATH ${fitsy_STUB_LIB_PATH}" >&5
printf "%s\n" "using fitsy_STUB_LIB_PATH ${fitsy_STUB_LIB_PATH}" >&6; }
	else

    vars="${fitsy_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using fitsy_STUB_LIB_SPEC ${fitsy_STUB_LIB_SPEC}" >&5
printf "%s\n" "using fitsy_STUB_LIB_SPEC ${fitsy_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the tifftcl configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tifftcl
    #

    if test x"${no_tifftcl}" = x ; then
	# we reset no_tifftcl in case something fails here
	no_tifftcl=true

# Check whether --with-tifftcl was given.
if test ${with_tifftcl+y}
then :
  withval=$with_tifftcl; with_tifftclconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for tifftcl configuration" >&5
printf %s "checking for tifftcl configuration... " >&6; }
	if test ${ac_cv_c_tifftclconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-tifftcl was specified.
	    if test x"${with_tifftclconfig}" != x ; then
		case ${with_tifftclconfig} in
		    */tifftclConfig.sh )
			if test -f ${with_tifftclconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-tifftcl argument should refer to directory containing tifftclConfig.sh, not to tifftclConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-tifftcl argument should refer to directory containing tifftclConfig.sh, not to tifftclConfig.sh itself" >&2;}
			    with_tifftclconfig=`echo ${with_tifftclconfig} | sed 's!/tifftclConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_tifftclconfig}/tifftclConfig.sh" ; then
		    ac_cv_c_tifftclconfig=`(cd ${with_tifftclconfig}; pwd)`
		else
		    as_fn_error $? "${with_tifftclconfig} directory doesn't contain tifftclConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private tifftcl installation
	    if test x"${ac_cv_c_tifftclconfig}" = x ; then
		for i in \
			../tifftcl \
			`ls -dr ../tifftcl*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../tifftcl*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../tifftcl*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../tifftcl*[0-9].[0-9]* 2>/dev/null` \
			../../tifftcl \
			`ls -dr ../../tifftcl*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../tifftcl*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../tifftcl*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tifftcl*[0-9].[0-9]* 2>/dev/null` \
			../../../tifftcl \
			`ls -dr ../../../tifftcl*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../tifftcl*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../tifftcl*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tifftcl*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../tifftcl \
			`ls -dr ${srcdir}/../tifftcl*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tifftcl*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tifftcl*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tifftcl*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/tifftclConfig.sh" ; then
			ac_cv_c_tifftclconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/tifftclConfig.sh" ; then
			ac_cv_c_tifftclconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tifftclconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/tifftclConfig.sh" ; then
			ac_cv_c_tifftclconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tifftclconfig}" = x ; then
	    tifftcl_BIN_DIR="# no tifftcl configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find tifftcl configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find tifftcl configuration definitions" >&2;}
	    exit 0
	else
	    no_tifftcl=
	    tifftcl_BIN_DIR=${ac_cv_c_tifftclconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $tifftcl_BIN_DIR/tifftclConfig.sh" >&5
printf "%s\n" "found $tifftcl_BIN_DIR/tifftclConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${tifftcl_BIN_DIR}/tifftclConfig.sh" >&5
printf %s "checking for existence of ${tifftcl_BIN_DIR}/tifftclConfig.sh... " >&6; }

    if test -f "${tifftcl_BIN_DIR}/tifftclConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${tifftcl_BIN_DIR}/tifftclConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the tifftcl_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable tifftcl_LIB_SPEC will be set to the value
    # of tifftcl_BUILD_LIB_SPEC. An extension should make use of tifftcl_LIB_SPEC
    # instead of tifftcl_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${tifftcl_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for tifftcl" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for tifftcl" >&2;}
        tifftcl_LIB_SPEC=${tifftcl_BUILD_LIB_SPEC}
        tifftcl_STUB_LIB_SPEC=${tifftcl_BUILD_STUB_LIB_SPEC}
        tifftcl_STUB_LIB_PATH=${tifftcl_BUILD_STUB_LIB_PATH}
        tifftcl_INCLUDE_SPEC=${tifftcl_BUILD_INCLUDE_SPEC}
        tifftcl_LIBRARY_PATH=${tifftcl_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${tifftcl_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For TIFFTCL_STUB library for LIBS" >&5
printf %s "checking For TIFFTCL_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${TIFFTCL_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${TIFFTCL_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TIFFTCL_STUB_LIB_PATH ${TIFFTCL_STUB_LIB_PATH}" >&5
printf "%s\n" "using TIFFTCL_STUB_LIB_PATH ${TIFFTCL_STUB_LIB_PATH}" >&6; }
	else

    vars="${TIFFTCL_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TIFFTCL_STUB_LIB_SPEC ${TIFFTCL_STUB_LIB_SPEC}" >&5
printf "%s\n" "using TIFFTCL_STUB_LIB_SPEC ${TIFFTCL_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For tifftcl_STUB library for LIBS" >&5
printf %s "checking For tifftcl_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${tifftcl_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${tifftcl_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tifftcl_STUB_LIB_PATH ${tifftcl_STUB_LIB_PATH}" >&5
printf "%s\n" "using tifftcl_STUB_LIB_PATH ${tifftcl_STUB_LIB_PATH}" >&6; }
	else

    vars="${tifftcl_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tifftcl_STUB_LIB_SPEC ${tifftcl_STUB_LIB_SPEC}" >&5
printf "%s\n" "using tifftcl_STUB_LIB_SPEC ${tifftcl_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the jpegtcl configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-jpegtcl
    #

    if test x"${no_jpegtcl}" = x ; then
	# we reset no_jpegtcl in case something fails here
	no_jpegtcl=true

# Check whether --with-jpegtcl was given.
if test ${with_jpegtcl+y}
then :
  withval=$with_jpegtcl; with_jpegtclconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for jpegtcl configuration" >&5
printf %s "checking for jpegtcl configuration... " >&6; }
	if test ${ac_cv_c_jpegtclconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-jpegtcl was specified.
	    if test x"${with_jpegtclconfig}" != x ; then
		case ${with_jpegtclconfig} in
		    */jpegtclConfig.sh )
			if test -f ${with_jpegtclconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-jpegtcl argument should refer to directory containing jpegtclConfig.sh, not to jpegtclConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-jpegtcl argument should refer to directory containing jpegtclConfig.sh, not to jpegtclConfig.sh itself" >&2;}
			    with_jpegtclconfig=`echo ${with_jpegtclconfig} | sed 's!/jpegtclConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_jpegtclconfig}/jpegtclConfig.sh" ; then
		    ac_cv_c_jpegtclconfig=`(cd ${with_jpegtclconfig}; pwd)`
		else
		    as_fn_error $? "${with_jpegtclconfig} directory doesn't contain jpegtclConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private jpegtcl installation
	    if test x"${ac_cv_c_jpegtclconfig}" = x ; then
		for i in \
			../jpegtcl \
			`ls -dr ../jpegtcl*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../jpegtcl*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../jpegtcl*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../jpegtcl*[0-9].[0-9]* 2>/dev/null` \
			../../jpegtcl \
			`ls -dr ../../jpegtcl*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../jpegtcl*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../jpegtcl*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../jpegtcl*[0-9].[0-9]* 2>/dev/null` \
			../../../jpegtcl \
			`ls -dr ../../../jpegtcl*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../jpegtcl*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../jpegtcl*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../jpegtcl*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../jpegtcl \
			`ls -dr ${srcdir}/../jpegtcl*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../jpegtcl*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../jpegtcl*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../jpegtcl*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/jpegtclConfig.sh" ; then
			ac_cv_c_jpegtclconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/jpegtclConfig.sh" ; then
			ac_cv_c_jpegtclconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_jpegtclconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/jpegtclConfig.sh" ; then
			ac_cv_c_jpegtclconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_jpegtclconfig}" = x ; then
	    jpegtcl_BIN_DIR="# no jpegtcl configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find jpegtcl configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find jpegtcl configuration definitions" >&2;}
	    exit 0
	else
	    no_jpegtcl=
	    jpegtcl_BIN_DIR=${ac_cv_c_jpegtclconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $jpegtcl_BIN_DIR/jpegtclConfig.sh" >&5
printf "%s\n" "found $jpegtcl_BIN_DIR/jpegtclConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${jpegtcl_BIN_DIR}/jpegtclConfig.sh" >&5
printf %s "checking for existence of ${jpegtcl_BIN_DIR}/jpegtclConfig.sh... " >&6; }

    if test -f "${jpegtcl_BIN_DIR}/jpegtclConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${jpegtcl_BIN_DIR}/jpegtclConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the jpegtcl_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable jpegtcl_LIB_SPEC will be set to the value
    # of jpegtcl_BUILD_LIB_SPEC. An extension should make use of jpegtcl_LIB_SPEC
    # instead of jpegtcl_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${jpegtcl_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for jpegtcl" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for jpegtcl" >&2;}
        jpegtcl_LIB_SPEC=${jpegtcl_BUILD_LIB_SPEC}
        jpegtcl_STUB_LIB_SPEC=${jpegtcl_BUILD_STUB_LIB_SPEC}
        jpegtcl_STUB_LIB_PATH=${jpegtcl_BUILD_STUB_LIB_PATH}
        jpegtcl_INCLUDE_SPEC=${jpegtcl_BUILD_INCLUDE_SPEC}
        jpegtcl_LIBRARY_PATH=${jpegtcl_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${jpegtcl_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For JPEGTCL_STUB library for LIBS" >&5
printf %s "checking For JPEGTCL_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${JPEGTCL_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${JPEGTCL_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using JPEGTCL_STUB_LIB_PATH ${JPEGTCL_STUB_LIB_PATH}" >&5
printf "%s\n" "using JPEGTCL_STUB_LIB_PATH ${JPEGTCL_STUB_LIB_PATH}" >&6; }
	else

    vars="${JPEGTCL_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using JPEGTCL_STUB_LIB_SPEC ${JPEGTCL_STUB_LIB_SPEC}" >&5
printf "%s\n" "using JPEGTCL_STUB_LIB_SPEC ${JPEGTCL_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For jpegtcl_STUB library for LIBS" >&5
printf %s "checking For jpegtcl_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${jpegtcl_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${jpegtcl_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using jpegtcl_STUB_LIB_PATH ${jpegtcl_STUB_LIB_PATH}" >&5
printf "%s\n" "using jpegtcl_STUB_LIB_PATH ${jpegtcl_STUB_LIB_PATH}" >&6; }
	else

    vars="${jpegtcl_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using jpegtcl_STUB_LIB_SPEC ${jpegtcl_STUB_LIB_SPEC}" >&5
printf "%s\n" "using jpegtcl_STUB_LIB_SPEC ${jpegtcl_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the zlibtcl configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-zlibtcl
    #

    if test x"${no_zlibtcl}" = x ; then
	# we reset no_zlibtcl in case something fails here
	no_zlibtcl=true

# Check whether --with-zlibtcl was given.
if test ${with_zlibtcl+y}
then :
  withval=$with_zlibtcl; with_zlibtclconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for zlibtcl configuration" >&5
printf %s "checking for zlibtcl configuration... " >&6; }
	if test ${ac_cv_c_zlibtclconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-zlibtcl was specified.
	    if test x"${with_zlibtclconfig}" != x ; then
		case ${with_zlibtclconfig} in
		    */zlibtclConfig.sh )
			if test -f ${with_zlibtclconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-zlibtcl argument should refer to directory containing zlibtclConfig.sh, not to zlibtclConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-zlibtcl argument should refer to directory containing zlibtclConfig.sh, not to zlibtclConfig.sh itself" >&2;}
			    with_zlibtclconfig=`echo ${with_zlibtclconfig} | sed 's!/zlibtclConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_zlibtclconfig}/zlibtclConfig.sh" ; then
		    ac_cv_c_zlibtclconfig=`(cd ${with_zlibtclconfig}; pwd)`
		else
		    as_fn_error $? "${with_zlibtclconfig} directory doesn't contain zlibtclConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private zlibtcl installation
	    if test x"${ac_cv_c_zlibtclconfig}" = x ; then
		for i in \
			../zlibtcl \
			`ls -dr ../zlibtcl*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../zlibtcl*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../zlibtcl*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../zlibtcl*[0-9].[0-9]* 2>/dev/null` \
			../../zlibtcl \
			`ls -dr ../../zlibtcl*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../zlibtcl*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../zlibtcl*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../zlibtcl*[0-9].[0-9]* 2>/dev/null` \
			../../../zlibtcl \
			`ls -dr ../../../zlibtcl*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../zlibtcl*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../zlibtcl*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../zlibtcl*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../zlibtcl \
			`ls -dr ${srcdir}/../zlibtcl*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../zlibtcl*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../zlibtcl*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../zlibtcl*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/zlibtclConfig.sh" ; then
			ac_cv_c_zlibtclconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/zlibtclConfig.sh" ; then
			ac_cv_c_zlibtclconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_zlibtclconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/zlibtclConfig.sh" ; then
			ac_cv_c_zlibtclconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_zlibtclconfig}" = x ; then
	    zlibtcl_BIN_DIR="# no zlibtcl configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find zlibtcl configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find zlibtcl configuration definitions" >&2;}
	    exit 0
	else
	    no_zlibtcl=
	    zlibtcl_BIN_DIR=${ac_cv_c_zlibtclconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $zlibtcl_BIN_DIR/zlibtclConfig.sh" >&5
printf "%s\n" "found $zlibtcl_BIN_DIR/zlibtclConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${zlibtcl_BIN_DIR}/zlibtclConfig.sh" >&5
printf %s "checking for existence of ${zlibtcl_BIN_DIR}/zlibtclConfig.sh... " >&6; }

    if test -f "${zlibtcl_BIN_DIR}/zlibtclConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${zlibtcl_BIN_DIR}/zlibtclConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the zlibtcl_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable zlibtcl_LIB_SPEC will be set to the value
    # of zlibtcl_BUILD_LIB_SPEC. An extension should make use of zlibtcl_LIB_SPEC
    # instead of zlibtcl_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${zlibtcl_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for zlibtcl" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for zlibtcl" >&2;}
        zlibtcl_LIB_SPEC=${zlibtcl_BUILD_LIB_SPEC}
        zlibtcl_STUB_LIB_SPEC=${zlibtcl_BUILD_STUB_LIB_SPEC}
        zlibtcl_STUB_LIB_PATH=${zlibtcl_BUILD_STUB_LIB_PATH}
        zlibtcl_INCLUDE_SPEC=${zlibtcl_BUILD_INCLUDE_SPEC}
        zlibtcl_LIBRARY_PATH=${zlibtcl_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${zlibtcl_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For ZLIBTCL_STUB library for LIBS" >&5
printf %s "checking For ZLIBTCL_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${ZLIBTCL_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${ZLIBTCL_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using ZLIBTCL_STUB_LIB_PATH ${ZLIBTCL_STUB_LIB_PATH}" >&5
printf "%s\n" "using ZLIBTCL_STUB_LIB_PATH ${ZLIBTCL_STUB_LIB_PATH}" >&6; }
	else

    vars="${ZLIBTCL_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using ZLIBTCL_STUB_LIB_SPEC ${ZLIBTCL_STUB_LIB_SPEC}" >&5
printf "%s\n" "using ZLIBTCL_STUB_LIB_SPEC ${ZLIBTCL_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For zlibtcl_STUB library for LIBS" >&5
printf %s "checking For zlibtcl_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${zlibtcl_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${zlibtcl_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using zlibtcl_STUB_LIB_PATH ${zlibtcl_STUB_LIB_PATH}" >&5
printf "%s\n" "using zlibtcl_STUB_LIB_PATH ${zlibtcl_STUB_LIB_PATH}" >&6; }
	else

    vars="${zlibtcl_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using zlibtcl_STUB_LIB_SPEC ${zlibtcl_STUB_LIB_SPEC}" >&5
printf "%s\n" "using zlibtcl_STUB_LIB_SPEC ${zlibtcl_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the tcliis configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tcliis
    #

    if test x"${no_tcliis}" = x ; then
	# we reset no_tcliis in case something fails here
	no_tcliis=true

# Check whether --with-tcliis was given.
if test ${with_tcliis+y}
then :
  withval=$with_tcliis; with_tcliisconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for tcliis configuration" >&5
printf %s "checking for tcliis configuration... " >&6; }
	if test ${ac_cv_c_tcliisconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-tcliis was specified.
	    if test x"${with_tcliisconfig}" != x ; then
		case ${with_tcliisconfig} in
		    */tcliisConfig.sh )
			if test -f ${with_tcliisconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-tcliis argument should refer to directory containing tcliisConfig.sh, not to tcliisConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-tcliis argument should refer to directory containing tcliisConfig.sh, not to tcliisConfig.sh itself" >&2;}
			    with_tcliisconfig=`echo ${with_tcliisconfig} | sed 's!/tcliisConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_tcliisconfig}/tcliisConfig.sh" ; then
		    ac_cv_c_tcliisconfig=`(cd ${with_tcliisconfig}; pwd)`
		else
		    as_fn_error $? "${with_tcliisconfig} directory doesn't contain tcliisConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private tcliis installation
	    if test x"${ac_cv_c_tcliisconfig}" = x ; then
		for i in \
			../tcliis \
			`ls -dr ../tcliis*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../tcliis*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../tcliis*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../tcliis*[0-9].[0-9]* 2>/dev/null` \
			../../tcliis \
			`ls -dr ../../tcliis*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../tcliis*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../tcliis*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tcliis*[0-9].[0-9]* 2>/dev/null` \
			../../../tcliis \
			`ls -dr ../../../tcliis*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../tcliis*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../tcliis*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tcliis*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../tcliis \
			`ls -dr ${srcdir}/../tcliis*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tcliis*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tcliis*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tcliis*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/tcliisConfig.sh" ; then
			ac_cv_c_tcliisconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/tcliisConfig.sh" ; then
			ac_cv_c_tcliisconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tcliisconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/tcliisConfig.sh" ; then
			ac_cv_c_tcliisconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tcliisconfig}" = x ; then
	    tcliis_BIN_DIR="# no tcliis configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find tcliis configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find tcliis configuration definitions" >&2;}
	    exit 0
	else
	    no_tcliis=
	    tcliis_BIN_DIR=${ac_cv_c_tcliisconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $tcliis_BIN_DIR/tcliisConfig.sh" >&5
printf "%s\n" "found $tcliis_BIN_DIR/tcliisConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${tcliis_BIN_DIR}/tcliisConfig.sh" >&5
printf %s "checking for existence of ${tcliis_BIN_DIR}/tcliisConfig.sh... " >&6; }

    if test -f "${tcliis_BIN_DIR}/tcliisConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${tcliis_BIN_DIR}/tcliisConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the tcliis_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable tcliis_LIB_SPEC will be set to the value
    # of tcliis_BUILD_LIB_SPEC. An extension should make use of tcliis_LIB_SPEC
    # instead of tcliis_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${tcliis_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for tcliis" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for tcliis" >&2;}
        tcliis_LIB_SPEC=${tcliis_BUILD_LIB_SPEC}
        tcliis_STUB_LIB_SPEC=${tcliis_BUILD_STUB_LIB_SPEC}
        tcliis_STUB_LIB_PATH=${tcliis_BUILD_STUB_LIB_PATH}
        tcliis_INCLUDE_SPEC=${tcliis_BUILD_INCLUDE_SPEC}
        tcliis_LIBRARY_PATH=${tcliis_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${tcliis_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For TCLIIS_STUB library for LIBS" >&5
printf %s "checking For TCLIIS_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${TCLIIS_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${TCLIIS_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TCLIIS_STUB_LIB_PATH ${TCLIIS_STUB_LIB_PATH}" >&5
printf "%s\n" "using TCLIIS_STUB_LIB_PATH ${TCLIIS_STUB_LIB_PATH}" >&6; }
	else

    vars="${TCLIIS_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TCLIIS_STUB_LIB_SPEC ${TCLIIS_STUB_LIB_SPEC}" >&5
printf "%s\n" "using TCLIIS_STUB_LIB_SPEC ${TCLIIS_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For tcliis_STUB library for LIBS" >&5
printf %s "checking For tcliis_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${tcliis_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${tcliis_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tcliis_STUB_LIB_PATH ${tcliis_STUB_LIB_PATH}" >&5
printf "%s\n" "using tcliis_STUB_LIB_PATH ${tcliis_STUB_LIB_PATH}" >&6; }
	else

    vars="${tcliis_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tcliis_STUB_LIB_SPEC ${tcliis_STUB_LIB_SPEC}" >&5
printf "%s\n" "using tcliis_STUB_LIB_SPEC ${tcliis_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the tclfitsy configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tclfitsy
    #

    if test x"${no_tclfitsy}" = x ; then
	# we reset no_tclfitsy in case something fails here
	no_tclfitsy=true

# Check whether --with-tclfitsy was given.
if test ${with_tclfitsy+y}
then :
  withval=$with_tclfitsy; with_tclfitsyconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for tclfitsy configuration" >&5
printf %s "checking for tclfitsy configuration... " >&6; }
	if test ${ac_cv_c_tclfitsyconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-tclfitsy was specified.
	    if test x"${with_tclfitsyconfig}" != x ; then
		case ${with_tclfitsyconfig} in
		    */tclfitsyConfig.sh )
			if test -f ${with_tclfitsyconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-tclfitsy argument should refer to directory containing tclfitsyConfig.sh, not to tclfitsyConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-tclfitsy argument should refer to directory containing tclfitsyConfig.sh, not to tclfitsyConfig.sh itself" >&2;}
			    with_tclfitsyconfig=`echo ${with_tclfitsyconfig} | sed 's!/tclfitsyConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_tclfitsyconfig}/tclfitsyConfig.sh" ; then
		    ac_cv_c_tclfitsyconfig=`(cd ${with_tclfitsyconfig}; pwd)`
		else
		    as_fn_error $? "${with_tclfitsyconfig} directory doesn't contain tclfitsyConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private tclfitsy installation
	    if test x"${ac_cv_c_tclfitsyconfig}" = x ; then
		for i in \
			../tclfitsy \
			`ls -dr ../tclfitsy*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../tclfitsy*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../tclfitsy*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../tclfitsy*[0-9].[0-9]* 2>/dev/null` \
			../../tclfitsy \
			`ls -dr ../../tclfitsy*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../tclfitsy*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../tclfitsy*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tclfitsy*[0-9].[0-9]* 2>/dev/null` \
			../../../tclfitsy \
			`ls -dr ../../../tclfitsy*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../tclfitsy*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../tclfitsy*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tclfitsy*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../tclfitsy \
			`ls -dr ${srcdir}/../tclfitsy*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tclfitsy*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tclfitsy*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tclfitsy*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/tclfitsyConfig.sh" ; then
			ac_cv_c_tclfitsyconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/tclfitsyConfig.sh" ; then
			ac_cv_c_tclfitsyconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tclfitsyconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/tclfitsyConfig.sh" ; then
			ac_cv_c_tclfitsyconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tclfitsyconfig}" = x ; then
	    tclfitsy_BIN_DIR="# no tclfitsy configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find tclfitsy configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find tclfitsy configuration definitions" >&2;}
	    exit 0
	else
	    no_tclfitsy=
	    tclfitsy_BIN_DIR=${ac_cv_c_tclfitsyconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $tclfitsy_BIN_DIR/tclfitsyConfig.sh" >&5
printf "%s\n" "found $tclfitsy_BIN_DIR/tclfitsyConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${tclfitsy_BIN_DIR}/tclfitsyConfig.sh" >&5
printf %s "checking for existence of ${tclfitsy_BIN_DIR}/tclfitsyConfig.sh... " >&6; }

    if test -f "${tclfitsy_BIN_DIR}/tclfitsyConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${tclfitsy_BIN_DIR}/tclfitsyConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the tclfitsy_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable tclfitsy_LIB_SPEC will be set to the value
    # of tclfitsy_BUILD_LIB_SPEC. An extension should make use of tclfitsy_LIB_SPEC
    # instead of tclfitsy_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${tclfitsy_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for tclfitsy" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for tclfitsy" >&2;}
        tclfitsy_LIB_SPEC=${tclfitsy_BUILD_LIB_SPEC}
        tclfitsy_STUB_LIB_SPEC=${tclfitsy_BUILD_STUB_LIB_SPEC}
        tclfitsy_STUB_LIB_PATH=${tclfitsy_BUILD_STUB_LIB_PATH}
        tclfitsy_INCLUDE_SPEC=${tclfitsy_BUILD_INCLUDE_SPEC}
        tclfitsy_LIBRARY_PATH=${tclfitsy_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${tclfitsy_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For TCLFITSY_STUB library for LIBS" >&5
printf %s "checking For TCLFITSY_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${TCLFITSY_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${TCLFITSY_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TCLFITSY_STUB_LIB_PATH ${TCLFITSY_STUB_LIB_PATH}" >&5
printf "%s\n" "using TCLFITSY_STUB_LIB_PATH ${TCLFITSY_STUB_LIB_PATH}" >&6; }
	else

    vars="${TCLFITSY_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TCLFITSY_STUB_LIB_SPEC ${TCLFITSY_STUB_LIB_SPEC}" >&5
printf "%s\n" "using TCLFITSY_STUB_LIB_SPEC ${TCLFITSY_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For tclfitsy_STUB library for LIBS" >&5
printf %s "checking For tclfitsy_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${tclfitsy_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${tclfitsy_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tclfitsy_STUB_LIB_PATH ${tclfitsy_STUB_LIB_PATH}" >&5
printf "%s\n" "using tclfitsy_STUB_LIB_PATH ${tclfitsy_STUB_LIB_PATH}" >&6; }
	else

    vars="${tclfitsy_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tclfitsy_STUB_LIB_SPEC ${tclfitsy_STUB_LIB_SPEC}" >&5
printf "%s\n" "using tclfitsy_STUB_LIB_SPEC ${tclfitsy_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the tclsignal configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tclsignal
    #

    if test x"${no_tclsignal}" = x ; then
	# we reset no_tclsignal in case something fails here
	no_tclsignal=true

# Check whether --with-tclsignal was given.
if test ${with_tclsignal+y}
then :
  withval=$with_tclsignal; with_tclsignalconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for tclsignal configuration" >&5
printf %s "checking for tclsignal configuration... " >&6; }
	if test ${ac_cv_c_tclsignalconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-tclsignal was specified.
	    if test x"${with_tclsignalconfig}" != x ; then
		case ${with_tclsignalconfig} in
		    */tclsignalConfig.sh )
			if test -f ${with_tclsignalconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-tclsignal argument should refer to directory containing tclsignalConfig.sh, not to tclsignalConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-tclsignal argument should refer to directory containing tclsignalConfig.sh, not to tclsignalConfig.sh itself" >&2;}
			    with_tclsignalconfig=`echo ${with_tclsignalconfig} | sed 's!/tclsignalConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_tclsignalconfig}/tclsignalConfig.sh" ; then
		    ac_cv_c_tclsignalconfig=`(cd ${with_tclsignalconfig}; pwd)`
		else
		    as_fn_error $? "${with_tclsignalconfig} directory doesn't contain tclsignalConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private tclsignal installation
	    if test x"${ac_cv_c_tclsignalconfig}" = x ; then
		for i in \
			../tclsignal \
			`ls -dr ../tclsignal*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../tclsignal*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../tclsignal*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../tclsignal*[0-9].[0-9]* 2>/dev/null` \
			../../tclsignal \
			`ls -dr ../../tclsignal*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../tclsignal*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../tclsignal*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tclsignal*[0-9].[0-9]* 2>/dev/null` \
			../../../tclsignal \
			`ls -dr ../../../tclsignal*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../tclsignal*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../tclsignal*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tclsignal*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../tclsignal \
			`ls -dr ${srcdir}/../tclsignal*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tclsignal*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tclsignal*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tclsignal*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/tclsignalConfig.sh" ; then
			ac_cv_c_tclsignalconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/tclsignalConfig.sh" ; then
			ac_cv_c_tclsignalconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tclsignalconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/tclsignalConfig.sh" ; then
			ac_cv_c_tclsignalconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tclsignalconfig}" = x ; then
	    tclsignal_BIN_DIR="# no tclsignal configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find tclsignal configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find tclsignal configuration definitions" >&2;}
	    exit 0
	else
	    no_tclsignal=
	    tclsignal_BIN_DIR=${ac_cv_c_tclsignalconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $tclsignal_BIN_DIR/tclsignalConfig.sh" >&5
printf "%s\n" "found $tclsignal_BIN_DIR/tclsignalConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${tclsignal_BIN_DIR}/tclsignalConfig.sh" >&5
printf %s "checking for existence of ${tclsignal_BIN_DIR}/tclsignalConfig.sh... " >&6; }

    if test -f "${tclsignal_BIN_DIR}/tclsignalConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${tclsignal_BIN_DIR}/tclsignalConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the tclsignal_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable tclsignal_LIB_SPEC will be set to the value
    # of tclsignal_BUILD_LIB_SPEC. An extension should make use of tclsignal_LIB_SPEC
    # instead of tclsignal_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${tclsignal_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for tclsignal" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for tclsignal" >&2;}
        tclsignal_LIB_SPEC=${tclsignal_BUILD_LIB_SPEC}
        tclsignal_STUB_LIB_SPEC=${tclsignal_BUILD_STUB_LIB_SPEC}
        tclsignal_STUB_LIB_PATH=${tclsignal_BUILD_STUB_LIB_PATH}
        tclsignal_INCLUDE_SPEC=${tclsignal_BUILD_INCLUDE_SPEC}
        tclsignal_LIBRARY_PATH=${tclsignal_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${tclsignal_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For TCLSIGNAL_STUB library for LIBS" >&5
printf %s "checking For TCLSIGNAL_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${TCLSIGNAL_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${TCLSIGNAL_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TCLSIGNAL_STUB_LIB_PATH ${TCLSIGNAL_STUB_LIB_PATH}" >&5
printf "%s\n" "using TCLSIGNAL_STUB_LIB_PATH ${TCLSIGNAL_STUB_LIB_PATH}" >&6; }
	else

    vars="${TCLSIGNAL_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TCLSIGNAL_STUB_LIB_SPEC ${TCLSIGNAL_STUB_LIB_SPEC}" >&5
printf "%s\n" "using TCLSIGNAL_STUB_LIB_SPEC ${TCLSIGNAL_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For tclsignal_STUB library for LIBS" >&5
printf %s "checking For tclsignal_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${tclsignal_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${tclsignal_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tclsignal_STUB_LIB_PATH ${tclsignal_STUB_LIB_PATH}" >&5
printf "%s\n" "using tclsignal_STUB_LIB_PATH ${tclsignal_STUB_LIB_PATH}" >&6; }
	else

    vars="${tclsignal_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tclsignal_STUB_LIB_SPEC ${tclsignal_STUB_LIB_SPEC}" >&5
printf "%s\n" "using tclsignal_STUB_LIB_SPEC ${tclsignal_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the tclxml configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tclxml
    #

    if test x"${no_tclxml}" = x ; then
	# we reset no_tclxml in case something fails here
	no_tclxml=true

# Check whether --with-tclxml was given.
if test ${with_tclxml+y}
then :
  withval=$with_tclxml; with_tclxmlconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for tclxml configuration" >&5
printf %s "checking for tclxml configuration... " >&6; }
	if test ${ac_cv_c_tclxmlconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-tclxml was specified.
	    if test x"${with_tclxmlconfig}" != x ; then
		case ${with_tclxmlconfig} in
		    */tclxmlConfig.sh )
			if test -f ${with_tclxmlconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-tclxml argument should refer to directory containing tclxmlConfig.sh, not to tclxmlConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-tclxml argument should refer to directory containing tclxmlConfig.sh, not to tclxmlConfig.sh itself" >&2;}
			    with_tclxmlconfig=`echo ${with_tclxmlconfig} | sed 's!/tclxmlConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_tclxmlconfig}/tclxmlConfig.sh" ; then
		    ac_cv_c_tclxmlconfig=`(cd ${with_tclxmlconfig}; pwd)`
		else
		    as_fn_error $? "${with_tclxmlconfig} directory doesn't contain tclxmlConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private tclxml installation
	    if test x"${ac_cv_c_tclxmlconfig}" = x ; then
		for i in \
			../tclxml \
			`ls -dr ../tclxml*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../tclxml*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../tclxml*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../tclxml*[0-9].[0-9]* 2>/dev/null` \
			../../tclxml \
			`ls -dr ../../tclxml*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../tclxml*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../tclxml*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tclxml*[0-9].[0-9]* 2>/dev/null` \
			../../../tclxml \
			`ls -dr ../../../tclxml*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../tclxml*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../tclxml*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tclxml*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../tclxml \
			`ls -dr ${srcdir}/../tclxml*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tclxml*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tclxml*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tclxml*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/tclxmlConfig.sh" ; then
			ac_cv_c_tclxmlconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/tclxmlConfig.sh" ; then
			ac_cv_c_tclxmlconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tclxmlconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/tclxmlConfig.sh" ; then
			ac_cv_c_tclxmlconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tclxmlconfig}" = x ; then
	    tclxml_BIN_DIR="# no tclxml configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find tclxml configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find tclxml configuration definitions" >&2;}
	    exit 0
	else
	    no_tclxml=
	    tclxml_BIN_DIR=${ac_cv_c_tclxmlconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $tclxml_BIN_DIR/tclxmlConfig.sh" >&5
printf "%s\n" "found $tclxml_BIN_DIR/tclxmlConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${tclxml_BIN_DIR}/tclxmlConfig.sh" >&5
printf %s "checking for existence of ${tclxml_BIN_DIR}/tclxmlConfig.sh... " >&6; }

    if test -f "${tclxml_BIN_DIR}/tclxmlConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${tclxml_BIN_DIR}/tclxmlConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the tclxml_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable tclxml_LIB_SPEC will be set to the value
    # of tclxml_BUILD_LIB_SPEC. An extension should make use of tclxml_LIB_SPEC
    # instead of tclxml_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${tclxml_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for tclxml" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for tclxml" >&2;}
        tclxml_LIB_SPEC=${tclxml_BUILD_LIB_SPEC}
        tclxml_STUB_LIB_SPEC=${tclxml_BUILD_STUB_LIB_SPEC}
        tclxml_STUB_LIB_PATH=${tclxml_BUILD_STUB_LIB_PATH}
        tclxml_INCLUDE_SPEC=${tclxml_BUILD_INCLUDE_SPEC}
        tclxml_LIBRARY_PATH=${tclxml_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${tclxml_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For TCLXML_STUB library for LIBS" >&5
printf %s "checking For TCLXML_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${TCLXML_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${TCLXML_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TCLXML_STUB_LIB_PATH ${TCLXML_STUB_LIB_PATH}" >&5
printf "%s\n" "using TCLXML_STUB_LIB_PATH ${TCLXML_STUB_LIB_PATH}" >&6; }
	else

    vars="${TCLXML_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TCLXML_STUB_LIB_SPEC ${TCLXML_STUB_LIB_SPEC}" >&5
printf "%s\n" "using TCLXML_STUB_LIB_SPEC ${TCLXML_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For tclxml_STUB library for LIBS" >&5
printf %s "checking For tclxml_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${tclxml_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${tclxml_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tclxml_STUB_LIB_PATH ${tclxml_STUB_LIB_PATH}" >&5
printf "%s\n" "using tclxml_STUB_LIB_PATH ${tclxml_STUB_LIB_PATH}" >&6; }
	else

    vars="${tclxml_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tclxml_STUB_LIB_SPEC ${tclxml_STUB_LIB_SPEC}" >&5
printf "%s\n" "using tclxml_STUB_LIB_SPEC ${tclxml_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the tls configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tls
    #

    if test x"${no_tls}" = x ; then
	# we reset no_tls in case something fails here
	no_tls=true

# Check whether --with-tls was given.
if test ${with_tls+y}
then :
  withval=$with_tls; with_tlsconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for tls configuration" >&5
printf %s "checking for tls configuration... " >&6; }
	if test ${ac_cv_c_tlsconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-tls was specified.
	    if test x"${with_tlsconfig}" != x ; then
		case ${with_tlsconfig} in
		    */tlsConfig.sh )
			if test -f ${with_tlsconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-tls argument should refer to directory containing tlsConfig.sh, not to tlsConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-tls argument should refer to directory containing tlsConfig.sh, not to tlsConfig.sh itself" >&2;}
			    with_tlsconfig=`echo ${with_tlsconfig} | sed 's!/tlsConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_tlsconfig}/tlsConfig.sh" ; then
		    ac_cv_c_tlsconfig=`(cd ${with_tlsconfig}; pwd)`
		else
		    as_fn_error $? "${with_tlsconfig} directory doesn't contain tlsConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private tls installation
	    if test x"${ac_cv_c_tlsconfig}" = x ; then
		for i in \
			../tls \
			`ls -dr ../tls*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../tls*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../tls*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../tls*[0-9].[0-9]* 2>/dev/null` \
			../../tls \
			`ls -dr ../../tls*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../tls*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../tls*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tls*[0-9].[0-9]* 2>/dev/null` \
			../../../tls \
			`ls -dr ../../../tls*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../tls*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../tls*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tls*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../tls \
			`ls -dr ${srcdir}/../tls*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tls*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tls*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tls*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/tlsConfig.sh" ; then
			ac_cv_c_tlsconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/tlsConfig.sh" ; then
			ac_cv_c_tlsconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tlsconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/tlsConfig.sh" ; then
			ac_cv_c_tlsconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tlsconfig}" = x ; then
	    tls_BIN_DIR="# no tls configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find tls configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find tls configuration definitions" >&2;}
	    exit 0
	else
	    no_tls=
	    tls_BIN_DIR=${ac_cv_c_tlsconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $tls_BIN_DIR/tlsConfig.sh" >&5
printf "%s\n" "found $tls_BIN_DIR/tlsConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${tls_BIN_DIR}/tlsConfig.sh" >&5
printf %s "checking for existence of ${tls_BIN_DIR}/tlsConfig.sh... " >&6; }

    if test -f "${tls_BIN_DIR}/tlsConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${tls_BIN_DIR}/tlsConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the tls_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable tls_LIB_SPEC will be set to the value
    # of tls_BUILD_LIB_SPEC. An extension should make use of tls_LIB_SPEC
    # instead of tls_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${tls_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for tls" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for tls" >&2;}
        tls_LIB_SPEC=${tls_BUILD_LIB_SPEC}
        tls_STUB_LIB_SPEC=${tls_BUILD_STUB_LIB_SPEC}
        tls_STUB_LIB_PATH=${tls_BUILD_STUB_LIB_PATH}
        tls_INCLUDE_SPEC=${tls_BUILD_INCLUDE_SPEC}
        tls_LIBRARY_PATH=${tls_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${tls_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For TLS_STUB library for LIBS" >&5
printf %s "checking For TLS_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${TLS_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${TLS_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TLS_STUB_LIB_PATH ${TLS_STUB_LIB_PATH}" >&5
printf "%s\n" "using TLS_STUB_LIB_PATH ${TLS_STUB_LIB_PATH}" >&6; }
	else

    vars="${TLS_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TLS_STUB_LIB_SPEC ${TLS_STUB_LIB_SPEC}" >&5
printf "%s\n" "using TLS_STUB_LIB_SPEC ${TLS_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For tls_STUB library for LIBS" >&5
printf %s "checking For tls_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${tls_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${tls_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tls_STUB_LIB_PATH ${tls_STUB_LIB_PATH}" >&5
printf "%s\n" "using tls_STUB_LIB_PATH ${tls_STUB_LIB_PATH}" >&6; }
	else

    vars="${tls_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tls_STUB_LIB_SPEC ${tls_STUB_LIB_SPEC}" >&5
printf "%s\n" "using tls_STUB_LIB_SPEC ${tls_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the tkblt configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tkblt
    #

    if test x"${no_tkblt}" = x ; then
	# we reset no_tkblt in case something fails here
	no_tkblt=true

# Check whether --with-tkblt was given.
if test ${with_tkblt+y}
then :
  withval=$with_tkblt; with_tkbltconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for tkblt configuration" >&5
printf %s "checking for tkblt configuration... " >&6; }
	if test ${ac_cv_c_tkbltconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-tkblt was specified.
	    if test x"${with_tkbltconfig}" != x ; then
		case ${with_tkbltconfig} in
		    */tkbltConfig.sh )
			if test -f ${with_tkbltconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-tkblt argument should refer to directory containing tkbltConfig.sh, not to tkbltConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-tkblt argument should refer to directory containing tkbltConfig.sh, not to tkbltConfig.sh itself" >&2;}
			    with_tkbltconfig=`echo ${with_tkbltconfig} | sed 's!/tkbltConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_tkbltconfig}/tkbltConfig.sh" ; then
		    ac_cv_c_tkbltconfig=`(cd ${with_tkbltconfig}; pwd)`
		else
		    as_fn_error $? "${with_tkbltconfig} directory doesn't contain tkbltConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private tkblt installation
	    if test x"${ac_cv_c_tkbltconfig}" = x ; then
		for i in \
			../tkblt \
			`ls -dr ../tkblt*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../tkblt*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../tkblt*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../tkblt*[0-9].[0-9]* 2>/dev/null` \
			../../tkblt \
			`ls -dr ../../tkblt*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../tkblt*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../tkblt*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tkblt*[0-9].[0-9]* 2>/dev/null` \
			../../../tkblt \
			`ls -dr ../../../tkblt*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../tkblt*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../tkblt*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tkblt*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../tkblt \
			`ls -dr ${srcdir}/../tkblt*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tkblt*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tkblt*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tkblt*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/tkbltConfig.sh" ; then
			ac_cv_c_tkbltconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/tkbltConfig.sh" ; then
			ac_cv_c_tkbltconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tkbltconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/tkbltConfig.sh" ; then
			ac_cv_c_tkbltconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tkbltconfig}" = x ; then
	    tkblt_BIN_DIR="# no tkblt configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find tkblt configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find tkblt configuration definitions" >&2;}
	    exit 0
	else
	    no_tkblt=
	    tkblt_BIN_DIR=${ac_cv_c_tkbltconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $tkblt_BIN_DIR/tkbltConfig.sh" >&5
printf "%s\n" "found $tkblt_BIN_DIR/tkbltConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${tkblt_BIN_DIR}/tkbltConfig.sh" >&5
printf %s "checking for existence of ${tkblt_BIN_DIR}/tkbltConfig.sh... " >&6; }

    if test -f "${tkblt_BIN_DIR}/tkbltConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${tkblt_BIN_DIR}/tkbltConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the tkblt_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable tkblt_LIB_SPEC will be set to the value
    # of tkblt_BUILD_LIB_SPEC. An extension should make use of tkblt_LIB_SPEC
    # instead of tkblt_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${tkblt_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for tkblt" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for tkblt" >&2;}
        tkblt_LIB_SPEC=${tkblt_BUILD_LIB_SPEC}
        tkblt_STUB_LIB_SPEC=${tkblt_BUILD_STUB_LIB_SPEC}
        tkblt_STUB_LIB_PATH=${tkblt_BUILD_STUB_LIB_PATH}
        tkblt_INCLUDE_SPEC=${tkblt_BUILD_INCLUDE_SPEC}
        tkblt_LIBRARY_PATH=${tkblt_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${tkblt_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For TKBLT_STUB library for LIBS" >&5
printf %s "checking For TKBLT_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${TKBLT_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${TKBLT_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKBLT_STUB_LIB_PATH ${TKBLT_STUB_LIB_PATH}" >&5
printf "%s\n" "using TKBLT_STUB_LIB_PATH ${TKBLT_STUB_LIB_PATH}" >&6; }
	else

    vars="${TKBLT_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKBLT_STUB_LIB_SPEC ${TKBLT_STUB_LIB_SPEC}" >&5
printf "%s\n" "using TKBLT_STUB_LIB_SPEC ${TKBLT_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For tkblt_STUB library for LIBS" >&5
printf %s "checking For tkblt_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${tkblt_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${tkblt_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tkblt_STUB_LIB_PATH ${tkblt_STUB_LIB_PATH}" >&5
printf "%s\n" "using tkblt_STUB_LIB_PATH ${tkblt_STUB_LIB_PATH}" >&6; }
	else

    vars="${tkblt_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tkblt_STUB_LIB_SPEC ${tkblt_STUB_LIB_SPEC}" >&5
printf "%s\n" "using tkblt_STUB_LIB_SPEC ${tkblt_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the tkhtml1 configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tkhtml1
    #

    if test x"${no_tkhtml1}" = x ; then
	# we reset no_tkhtml1 in case something fails here
	no_tkhtml1=true

# Check whether --with-tkhtml1 was given.
if test ${with_tkhtml1+y}
then :
  withval=$with_tkhtml1; with_tkhtml1config=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for tkhtml1 configuration" >&5
printf %s "checking for tkhtml1 configuration... " >&6; }
	if test ${ac_cv_c_tkhtml1config+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-tkhtml1 was specified.
	    if test x"${with_tkhtml1config}" != x ; then
		case ${with_tkhtml1config} in
		    */tkhtml1Config.sh )
			if test -f ${with_tkhtml1config}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-tkhtml1 argument should refer to directory containing tkhtml1Config.sh, not to tkhtml1Config.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-tkhtml1 argument should refer to directory containing tkhtml1Config.sh, not to tkhtml1Config.sh itself" >&2;}
			    with_tkhtml1config=`echo ${with_tkhtml1config} | sed 's!/tkhtml1Config\.sh$!!'`
			fi;;
		esac
		if test -f "${with_tkhtml1config}/tkhtml1Config.sh" ; then
		    ac_cv_c_tkhtml1config=`(cd ${with_tkhtml1config}; pwd)`
		else
		    as_fn_error $? "${with_tkhtml1config} directory doesn't contain tkhtml1Config.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private tkhtml1 installation
	    if test x"${ac_cv_c_tkhtml1config}" = x ; then
		for i in \
			../tkhtml1 \
			`ls -dr ../tkhtml1*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../tkhtml1*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../tkhtml1*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../tkhtml1*[0-9].[0-9]* 2>/dev/null` \
			../../tkhtml1 \
			`ls -dr ../../tkhtml1*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../tkhtml1*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../tkhtml1*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tkhtml1*[0-9].[0-9]* 2>/dev/null` \
			../../../tkhtml1 \
			`ls -dr ../../../tkhtml1*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../tkhtml1*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../tkhtml1*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tkhtml1*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../tkhtml1 \
			`ls -dr ${srcdir}/../tkhtml1*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tkhtml1*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tkhtml1*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tkhtml1*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/tkhtml1Config.sh" ; then
			ac_cv_c_tkhtml1config=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/tkhtml1Config.sh" ; then
			ac_cv_c_tkhtml1config=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tkhtml1config}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/tkhtml1Config.sh" ; then
			ac_cv_c_tkhtml1config=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tkhtml1config}" = x ; then
	    tkhtml1_BIN_DIR="# no tkhtml1 configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find tkhtml1 configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find tkhtml1 configuration definitions" >&2;}
	    exit 0
	else
	    no_tkhtml1=
	    tkhtml1_BIN_DIR=${ac_cv_c_tkhtml1config}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $tkhtml1_BIN_DIR/tkhtml1Config.sh" >&5
printf "%s\n" "found $tkhtml1_BIN_DIR/tkhtml1Config.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${tkhtml1_BIN_DIR}/tkhtml1Config.sh" >&5
printf %s "checking for existence of ${tkhtml1_BIN_DIR}/tkhtml1Config.sh... " >&6; }

    if test -f "${tkhtml1_BIN_DIR}/tkhtml1Config.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${tkhtml1_BIN_DIR}/tkhtml1Config.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the tkhtml1_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable tkhtml1_LIB_SPEC will be set to the value
    # of tkhtml1_BUILD_LIB_SPEC. An extension should make use of tkhtml1_LIB_SPEC
    # instead of tkhtml1_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${tkhtml1_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for tkhtml1" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for tkhtml1" >&2;}
        tkhtml1_LIB_SPEC=${tkhtml1_BUILD_LIB_SPEC}
        tkhtml1_STUB_LIB_SPEC=${tkhtml1_BUILD_STUB_LIB_SPEC}
        tkhtml1_STUB_LIB_PATH=${tkhtml1_BUILD_STUB_LIB_PATH}
        tkhtml1_INCLUDE_SPEC=${tkhtml1_BUILD_INCLUDE_SPEC}
        tkhtml1_LIBRARY_PATH=${tkhtml1_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${tkhtml1_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For TKHTML1_STUB library for LIBS" >&5
printf %s "checking For TKHTML1_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${TKHTML1_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${TKHTML1_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKHTML1_STUB_LIB_PATH ${TKHTML1_STUB_LIB_PATH}" >&5
printf "%s\n" "using TKHTML1_STUB_LIB_PATH ${TKHTML1_STUB_LIB_PATH}" >&6; }
	else

    vars="${TKHTML1_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKHTML1_STUB_LIB_SPEC ${TKHTML1_STUB_LIB_SPEC}" >&5
printf "%s\n" "using TKHTML1_STUB_LIB_SPEC ${TKHTML1_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For tkhtml1_STUB library for LIBS" >&5
printf %s "checking For tkhtml1_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${tkhtml1_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${tkhtml1_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tkhtml1_STUB_LIB_PATH ${tkhtml1_STUB_LIB_PATH}" >&5
printf "%s\n" "using tkhtml1_STUB_LIB_PATH ${tkhtml1_STUB_LIB_PATH}" >&6; }
	else

    vars="${tkhtml1_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tkhtml1_STUB_LIB_SPEC ${tkhtml1_STUB_LIB_SPEC}" >&5
printf "%s\n" "using tkhtml1_STUB_LIB_SPEC ${tkhtml1_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the tkimg configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tkimg
    #

    if test x"${no_tkimg}" = x ; then
	# we reset no_tkimg in case something fails here
	no_tkimg=true

# Check whether --with-tkimg was given.
if test ${with_tkimg+y}
then :
  withval=$with_tkimg; with_tkimgconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for tkimg configuration" >&5
printf %s "checking for tkimg configuration... " >&6; }
	if test ${ac_cv_c_tkimgconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-tkimg was specified.
	    if test x"${with_tkimgconfig}" != x ; then
		case ${with_tkimgconfig} in
		    */tkimgConfig.sh )
			if test -f ${with_tkimgconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-tkimg argument should refer to directory containing tkimgConfig.sh, not to tkimgConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-tkimg argument should refer to directory containing tkimgConfig.sh, not to tkimgConfig.sh itself" >&2;}
			    with_tkimgconfig=`echo ${with_tkimgconfig} | sed 's!/tkimgConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_tkimgconfig}/tkimgConfig.sh" ; then
		    ac_cv_c_tkimgconfig=`(cd ${with_tkimgconfig}; pwd)`
		else
		    as_fn_error $? "${with_tkimgconfig} directory doesn't contain tkimgConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private tkimg installation
	    if test x"${ac_cv_c_tkimgconfig}" = x ; then
		for i in \
			../tkimg \
			`ls -dr ../tkimg*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../tkimg*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../tkimg*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../tkimg*[0-9].[0-9]* 2>/dev/null` \
			../../tkimg \
			`ls -dr ../../tkimg*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../tkimg*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../tkimg*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tkimg*[0-9].[0-9]* 2>/dev/null` \
			../../../tkimg \
			`ls -dr ../../../tkimg*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../tkimg*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../tkimg*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tkimg*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../tkimg \
			`ls -dr ${srcdir}/../tkimg*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tkimg*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tkimg*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tkimg*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/tkimgConfig.sh" ; then
			ac_cv_c_tkimgconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/tkimgConfig.sh" ; then
			ac_cv_c_tkimgconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tkimgconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/tkimgConfig.sh" ; then
			ac_cv_c_tkimgconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tkimgconfig}" = x ; then
	    tkimg_BIN_DIR="# no tkimg configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find tkimg configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find tkimg configuration definitions" >&2;}
	    exit 0
	else
	    no_tkimg=
	    tkimg_BIN_DIR=${ac_cv_c_tkimgconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $tkimg_BIN_DIR/tkimgConfig.sh" >&5
printf "%s\n" "found $tkimg_BIN_DIR/tkimgConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${tkimg_BIN_DIR}/tkimgConfig.sh" >&5
printf %s "checking for existence of ${tkimg_BIN_DIR}/tkimgConfig.sh... " >&6; }

    if test -f "${tkimg_BIN_DIR}/tkimgConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${tkimg_BIN_DIR}/tkimgConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the tkimg_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable tkimg_LIB_SPEC will be set to the value
    # of tkimg_BUILD_LIB_SPEC. An extension should make use of tkimg_LIB_SPEC
    # instead of tkimg_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${tkimg_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for tkimg" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for tkimg" >&2;}
        tkimg_LIB_SPEC=${tkimg_BUILD_LIB_SPEC}
        tkimg_STUB_LIB_SPEC=${tkimg_BUILD_STUB_LIB_SPEC}
        tkimg_STUB_LIB_PATH=${tkimg_BUILD_STUB_LIB_PATH}
        tkimg_INCLUDE_SPEC=${tkimg_BUILD_INCLUDE_SPEC}
        tkimg_LIBRARY_PATH=${tkimg_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${tkimg_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For TKIMG_STUB library for LIBS" >&5
printf %s "checking For TKIMG_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${TKIMG_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${TKIMG_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKIMG_STUB_LIB_PATH ${TKIMG_STUB_LIB_PATH}" >&5
printf "%s\n" "using TKIMG_STUB_LIB_PATH ${TKIMG_STUB_LIB_PATH}" >&6; }
	else

    vars="${TKIMG_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKIMG_STUB_LIB_SPEC ${TKIMG_STUB_LIB_SPEC}" >&5
printf "%s\n" "using TKIMG_STUB_LIB_SPEC ${TKIMG_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For tkimg_STUB library for LIBS" >&5
printf %s "checking For tkimg_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${tkimg_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${tkimg_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tkimg_STUB_LIB_PATH ${tkimg_STUB_LIB_PATH}" >&5
printf "%s\n" "using tkimg_STUB_LIB_PATH ${tkimg_STUB_LIB_PATH}" >&6; }
	else

    vars="${tkimg_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tkimg_STUB_LIB_SPEC ${tkimg_STUB_LIB_SPEC}" >&5
printf "%s\n" "using tkimg_STUB_LIB_SPEC ${tkimg_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the tkimgjpeg configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tkimgjpeg
    #

    if test x"${no_tkimgjpeg}" = x ; then
	# we reset no_tkimgjpeg in case something fails here
	no_tkimgjpeg=true

# Check whether --with-tkimgjpeg was given.
if test ${with_tkimgjpeg+y}
then :
  withval=$with_tkimgjpeg; with_tkimgjpegconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for tkimgjpeg configuration" >&5
printf %s "checking for tkimgjpeg configuration... " >&6; }
	if test ${ac_cv_c_tkimgjpegconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-tkimgjpeg was specified.
	    if test x"${with_tkimgjpegconfig}" != x ; then
		case ${with_tkimgjpegconfig} in
		    */tkimgjpegConfig.sh )
			if test -f ${with_tkimgjpegconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-tkimgjpeg argument should refer to directory containing tkimgjpegConfig.sh, not to tkimgjpegConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-tkimgjpeg argument should refer to directory containing tkimgjpegConfig.sh, not to tkimgjpegConfig.sh itself" >&2;}
			    with_tkimgjpegconfig=`echo ${with_tkimgjpegconfig} | sed 's!/tkimgjpegConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_tkimgjpegconfig}/tkimgjpegConfig.sh" ; then
		    ac_cv_c_tkimgjpegconfig=`(cd ${with_tkimgjpegconfig}; pwd)`
		else
		    as_fn_error $? "${with_tkimgjpegconfig} directory doesn't contain tkimgjpegConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private tkimgjpeg installation
	    if test x"${ac_cv_c_tkimgjpegconfig}" = x ; then
		for i in \
			../tkimgjpeg \
			`ls -dr ../tkimgjpeg*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../tkimgjpeg*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../tkimgjpeg*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../tkimgjpeg*[0-9].[0-9]* 2>/dev/null` \
			../../tkimgjpeg \
			`ls -dr ../../tkimgjpeg*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../tkimgjpeg*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../tkimgjpeg*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tkimgjpeg*[0-9].[0-9]* 2>/dev/null` \
			../../../tkimgjpeg \
			`ls -dr ../../../tkimgjpeg*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../tkimgjpeg*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../tkimgjpeg*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tkimgjpeg*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../tkimgjpeg \
			`ls -dr ${srcdir}/../tkimgjpeg*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tkimgjpeg*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tkimgjpeg*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tkimgjpeg*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/tkimgjpegConfig.sh" ; then
			ac_cv_c_tkimgjpegconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/tkimgjpegConfig.sh" ; then
			ac_cv_c_tkimgjpegconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tkimgjpegconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/tkimgjpegConfig.sh" ; then
			ac_cv_c_tkimgjpegconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tkimgjpegconfig}" = x ; then
	    tkimgjpeg_BIN_DIR="# no tkimgjpeg configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find tkimgjpeg configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find tkimgjpeg configuration definitions" >&2;}
	    exit 0
	else
	    no_tkimgjpeg=
	    tkimgjpeg_BIN_DIR=${ac_cv_c_tkimgjpegconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $tkimgjpeg_BIN_DIR/tkimgjpegConfig.sh" >&5
printf "%s\n" "found $tkimgjpeg_BIN_DIR/tkimgjpegConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${tkimgjpeg_BIN_DIR}/tkimgjpegConfig.sh" >&5
printf %s "checking for existence of ${tkimgjpeg_BIN_DIR}/tkimgjpegConfig.sh... " >&6; }

    if test -f "${tkimgjpeg_BIN_DIR}/tkimgjpegConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${tkimgjpeg_BIN_DIR}/tkimgjpegConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the tkimgjpeg_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable tkimgjpeg_LIB_SPEC will be set to the value
    # of tkimgjpeg_BUILD_LIB_SPEC. An extension should make use of tkimgjpeg_LIB_SPEC
    # instead of tkimgjpeg_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${tkimgjpeg_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for tkimgjpeg" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for tkimgjpeg" >&2;}
        tkimgjpeg_LIB_SPEC=${tkimgjpeg_BUILD_LIB_SPEC}
        tkimgjpeg_STUB_LIB_SPEC=${tkimgjpeg_BUILD_STUB_LIB_SPEC}
        tkimgjpeg_STUB_LIB_PATH=${tkimgjpeg_BUILD_STUB_LIB_PATH}
        tkimgjpeg_INCLUDE_SPEC=${tkimgjpeg_BUILD_INCLUDE_SPEC}
        tkimgjpeg_LIBRARY_PATH=${tkimgjpeg_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${tkimgjpeg_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For TKIMGJPEG_STUB library for LIBS" >&5
printf %s "checking For TKIMGJPEG_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${TKIMGJPEG_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${TKIMGJPEG_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKIMGJPEG_STUB_LIB_PATH ${TKIMGJPEG_STUB_LIB_PATH}" >&5
printf "%s\n" "using TKIMGJPEG_STUB_LIB_PATH ${TKIMGJPEG_STUB_LIB_PATH}" >&6; }
	else

    vars="${TKIMGJPEG_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKIMGJPEG_STUB_LIB_SPEC ${TKIMGJPEG_STUB_LIB_SPEC}" >&5
printf "%s\n" "using TKIMGJPEG_STUB_LIB_SPEC ${TKIMGJPEG_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For tkimgjpeg_STUB library for LIBS" >&5
printf %s "checking For tkimgjpeg_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${tkimgjpeg_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${tkimgjpeg_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tkimgjpeg_STUB_LIB_PATH ${tkimgjpeg_STUB_LIB_PATH}" >&5
printf "%s\n" "using tkimgjpeg_STUB_LIB_PATH ${tkimgjpeg_STUB_LIB_PATH}" >&6; }
	else

    vars="${tkimgjpeg_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tkimgjpeg_STUB_LIB_SPEC ${tkimgjpeg_STUB_LIB_SPEC}" >&5
printf "%s\n" "using tkimgjpeg_STUB_LIB_SPEC ${tkimgjpeg_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the tkimgtiff configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tkimgtiff
    #

    if test x"${no_tkimgtiff}" = x ; then
	# we reset no_tkimgtiff in case something fails here
	no_tkimgtiff=true

# Check whether --with-tkimgtiff was given.
if test ${with_tkimgtiff+y}
then :
  withval=$with_tkimgtiff; with_tkimgtiffconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for tkimgtiff configuration" >&5
printf %s "checking for tkimgtiff configuration... " >&6; }
	if test ${ac_cv_c_tkimgtiffconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-tkimgtiff was specified.
	    if test x"${with_tkimgtiffconfig}" != x ; then
		case ${with_tkimgtiffconfig} in
		    */tkimgtiffConfig.sh )
			if test -f ${with_tkimgtiffconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-tkimgtiff argument should refer to directory containing tkimgtiffConfig.sh, not to tkimgtiffConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-tkimgtiff argument should refer to directory containing tkimgtiffConfig.sh, not to tkimgtiffConfig.sh itself" >&2;}
			    with_tkimgtiffconfig=`echo ${with_tkimgtiffconfig} | sed 's!/tkimgtiffConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_tkimgtiffconfig}/tkimgtiffConfig.sh" ; then
		    ac_cv_c_tkimgtiffconfig=`(cd ${with_tkimgtiffconfig}; pwd)`
		else
		    as_fn_error $? "${with_tkimgtiffconfig} directory doesn't contain tkimgtiffConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private tkimgtiff installation
	    if test x"${ac_cv_c_tkimgtiffconfig}" = x ; then
		for i in \
			../tkimgtiff \
			`ls -dr ../tkimgtiff*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../tkimgtiff*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../tkimgtiff*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../tkimgtiff*[0-9].[0-9]* 2>/dev/null` \
			../../tkimgtiff \
			`ls -dr ../../tkimgtiff*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../tkimgtiff*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../tkimgtiff*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tkimgtiff*[0-9].[0-9]* 2>/dev/null` \
			../../../tkimgtiff \
			`ls -dr ../../../tkimgtiff*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../tkimgtiff*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../tkimgtiff*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tkimgtiff*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../tkimgtiff \
			`ls -dr ${srcdir}/../tkimgtiff*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tkimgtiff*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tkimgtiff*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tkimgtiff*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/tkimgtiffConfig.sh" ; then
			ac_cv_c_tkimgtiffconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/tkimgtiffConfig.sh" ; then
			ac_cv_c_tkimgtiffconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tkimgtiffconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/tkimgtiffConfig.sh" ; then
			ac_cv_c_tkimgtiffconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tkimgtiffconfig}" = x ; then
	    tkimgtiff_BIN_DIR="# no tkimgtiff configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find tkimgtiff configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find tkimgtiff configuration definitions" >&2;}
	    exit 0
	else
	    no_tkimgtiff=
	    tkimgtiff_BIN_DIR=${ac_cv_c_tkimgtiffconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $tkimgtiff_BIN_DIR/tkimgtiffConfig.sh" >&5
printf "%s\n" "found $tkimgtiff_BIN_DIR/tkimgtiffConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${tkimgtiff_BIN_DIR}/tkimgtiffConfig.sh" >&5
printf %s "checking for existence of ${tkimgtiff_BIN_DIR}/tkimgtiffConfig.sh... " >&6; }

    if test -f "${tkimgtiff_BIN_DIR}/tkimgtiffConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${tkimgtiff_BIN_DIR}/tkimgtiffConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the tkimgtiff_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable tkimgtiff_LIB_SPEC will be set to the value
    # of tkimgtiff_BUILD_LIB_SPEC. An extension should make use of tkimgtiff_LIB_SPEC
    # instead of tkimgtiff_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${tkimgtiff_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for tkimgtiff" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for tkimgtiff" >&2;}
        tkimgtiff_LIB_SPEC=${tkimgtiff_BUILD_LIB_SPEC}
        tkimgtiff_STUB_LIB_SPEC=${tkimgtiff_BUILD_STUB_LIB_SPEC}
        tkimgtiff_STUB_LIB_PATH=${tkimgtiff_BUILD_STUB_LIB_PATH}
        tkimgtiff_INCLUDE_SPEC=${tkimgtiff_BUILD_INCLUDE_SPEC}
        tkimgtiff_LIBRARY_PATH=${tkimgtiff_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${tkimgtiff_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For TKIMGTIFF_STUB library for LIBS" >&5
printf %s "checking For TKIMGTIFF_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${TKIMGTIFF_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${TKIMGTIFF_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKIMGTIFF_STUB_LIB_PATH ${TKIMGTIFF_STUB_LIB_PATH}" >&5
printf "%s\n" "using TKIMGTIFF_STUB_LIB_PATH ${TKIMGTIFF_STUB_LIB_PATH}" >&6; }
	else

    vars="${TKIMGTIFF_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKIMGTIFF_STUB_LIB_SPEC ${TKIMGTIFF_STUB_LIB_SPEC}" >&5
printf "%s\n" "using TKIMGTIFF_STUB_LIB_SPEC ${TKIMGTIFF_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For tkimgtiff_STUB library for LIBS" >&5
printf %s "checking For tkimgtiff_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${tkimgtiff_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${tkimgtiff_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tkimgtiff_STUB_LIB_PATH ${tkimgtiff_STUB_LIB_PATH}" >&5
printf "%s\n" "using tkimgtiff_STUB_LIB_PATH ${tkimgtiff_STUB_LIB_PATH}" >&6; }
	else

    vars="${tkimgtiff_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tkimgtiff_STUB_LIB_SPEC ${tkimgtiff_STUB_LIB_SPEC}" >&5
printf "%s\n" "using tkimgtiff_STUB_LIB_SPEC ${tkimgtiff_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the tkimgwindow configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tkimgwindow
    #

    if test x"${no_tkimgwindow}" = x ; then
	# we reset no_tkimgwindow in case something fails here
	no_tkimgwindow=true

# Check whether --with-tkimgwindow was given.
if test ${with_tkimgwindow+y}
then :
  withval=$with_tkimgwindow; with_tkimgwindowconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for tkimgwindow configuration" >&5
printf %s "checking for tkimgwindow configuration... " >&6; }
	if test ${ac_cv_c_tkimgwindowconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-tkimgwindow was specified.
	    if test x"${with_tkimgwindowconfig}" != x ; then
		case ${with_tkimgwindowconfig} in
		    */tkimgwindowConfig.sh )
			if test -f ${with_tkimgwindowconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-tkimgwindow argument should refer to directory containing tkimgwindowConfig.sh, not to tkimgwindowConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-tkimgwindow argument should refer to directory containing tkimgwindowConfig.sh, not to tkimgwindowConfig.sh itself" >&2;}
			    with_tkimgwindowconfig=`echo ${with_tkimgwindowconfig} | sed 's!/tkimgwindowConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_tkimgwindowconfig}/tkimgwindowConfig.sh" ; then
		    ac_cv_c_tkimgwindowconfig=`(cd ${with_tkimgwindowconfig}; pwd)`
		else
		    as_fn_error $? "${with_tkimgwindowconfig} directory doesn't contain tkimgwindowConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private tkimgwindow installation
	    if test x"${ac_cv_c_tkimgwindowconfig}" = x ; then
		for i in \
			../tkimgwindow \
			`ls -dr ../tkimgwindow*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../tkimgwindow*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../tkimgwindow*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../tkimgwindow*[0-9].[0-9]* 2>/dev/null` \
			../../tkimgwindow \
			`ls -dr ../../tkimgwindow*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../tkimgwindow*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../tkimgwindow*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tkimgwindow*[0-9].[0-9]* 2>/dev/null` \
			../../../tkimgwindow \
			`ls -dr ../../../tkimgwindow*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../tkimgwindow*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../tkimgwindow*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tkimgwindow*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../tkimgwindow \
			`ls -dr ${srcdir}/../tkimgwindow*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tkimgwindow*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tkimgwindow*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tkimgwindow*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/tkimgwindowConfig.sh" ; then
			ac_cv_c_tkimgwindowconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/tkimgwindowConfig.sh" ; then
			ac_cv_c_tkimgwindowconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tkimgwindowconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/tkimgwindowConfig.sh" ; then
			ac_cv_c_tkimgwindowconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tkimgwindowconfig}" = x ; then
	    tkimgwindow_BIN_DIR="# no tkimgwindow configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find tkimgwindow configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find tkimgwindow configuration definitions" >&2;}
	    exit 0
	else
	    no_tkimgwindow=
	    tkimgwindow_BIN_DIR=${ac_cv_c_tkimgwindowconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $tkimgwindow_BIN_DIR/tkimgwindowConfig.sh" >&5
printf "%s\n" "found $tkimgwindow_BIN_DIR/tkimgwindowConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${tkimgwindow_BIN_DIR}/tkimgwindowConfig.sh" >&5
printf %s "checking for existence of ${tkimgwindow_BIN_DIR}/tkimgwindowConfig.sh... " >&6; }

    if test -f "${tkimgwindow_BIN_DIR}/tkimgwindowConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${tkimgwindow_BIN_DIR}/tkimgwindowConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the tkimgwindow_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable tkimgwindow_LIB_SPEC will be set to the value
    # of tkimgwindow_BUILD_LIB_SPEC. An extension should make use of tkimgwindow_LIB_SPEC
    # instead of tkimgwindow_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${tkimgwindow_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for tkimgwindow" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for tkimgwindow" >&2;}
        tkimgwindow_LIB_SPEC=${tkimgwindow_BUILD_LIB_SPEC}
        tkimgwindow_STUB_LIB_SPEC=${tkimgwindow_BUILD_STUB_LIB_SPEC}
        tkimgwindow_STUB_LIB_PATH=${tkimgwindow_BUILD_STUB_LIB_PATH}
        tkimgwindow_INCLUDE_SPEC=${tkimgwindow_BUILD_INCLUDE_SPEC}
        tkimgwindow_LIBRARY_PATH=${tkimgwindow_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${tkimgwindow_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For TKIMGWINDOW_STUB library for LIBS" >&5
printf %s "checking For TKIMGWINDOW_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${TKIMGWINDOW_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${TKIMGWINDOW_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKIMGWINDOW_STUB_LIB_PATH ${TKIMGWINDOW_STUB_LIB_PATH}" >&5
printf "%s\n" "using TKIMGWINDOW_STUB_LIB_PATH ${TKIMGWINDOW_STUB_LIB_PATH}" >&6; }
	else

    vars="${TKIMGWINDOW_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKIMGWINDOW_STUB_LIB_SPEC ${TKIMGWINDOW_STUB_LIB_SPEC}" >&5
printf "%s\n" "using TKIMGWINDOW_STUB_LIB_SPEC ${TKIMGWINDOW_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For tkimgwindow_STUB library for LIBS" >&5
printf %s "checking For tkimgwindow_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${tkimgwindow_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${tkimgwindow_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tkimgwindow_STUB_LIB_PATH ${tkimgwindow_STUB_LIB_PATH}" >&5
printf "%s\n" "using tkimgwindow_STUB_LIB_PATH ${tkimgwindow_STUB_LIB_PATH}" >&6; }
	else

    vars="${tkimgwindow_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tkimgwindow_STUB_LIB_SPEC ${tkimgwindow_STUB_LIB_SPEC}" >&5
printf "%s\n" "using tkimgwindow_STUB_LIB_SPEC ${tkimgwindow_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the tkmacosx configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tkmacosx
    #

    if test x"${no_tkmacosx}" = x ; then
	# we reset no_tkmacosx in case something fails here
	no_tkmacosx=true

# Check whether --with-tkmacosx was given.
if test ${with_tkmacosx+y}
then :
  withval=$with_tkmacosx; with_tkmacosxconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for tkmacosx configuration" >&5
printf %s "checking for tkmacosx configuration... " >&6; }
	if test ${ac_cv_c_tkmacosxconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-tkmacosx was specified.
	    if test x"${with_tkmacosxconfig}" != x ; then
		case ${with_tkmacosxconfig} in
		    */tkmacosxConfig.sh )
			if test -f ${with_tkmacosxconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-tkmacosx argument should refer to directory containing tkmacosxConfig.sh, not to tkmacosxConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-tkmacosx argument should refer to directory containing tkmacosxConfig.sh, not to tkmacosxConfig.sh itself" >&2;}
			    with_tkmacosxconfig=`echo ${with_tkmacosxconfig} | sed 's!/tkmacosxConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_tkmacosxconfig}/tkmacosxConfig.sh" ; then
		    ac_cv_c_tkmacosxconfig=`(cd ${with_tkmacosxconfig}; pwd)`
		else
		    as_fn_error $? "${with_tkmacosxconfig} directory doesn't contain tkmacosxConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private tkmacosx installation
	    if test x"${ac_cv_c_tkmacosxconfig}" = x ; then
		for i in \
			../tkmacosx \
			`ls -dr ../tkmacosx*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../tkmacosx*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../tkmacosx*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../tkmacosx*[0-9].[0-9]* 2>/dev/null` \
			../../tkmacosx \
			`ls -dr ../../tkmacosx*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../tkmacosx*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../tkmacosx*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tkmacosx*[0-9].[0-9]* 2>/dev/null` \
			../../../tkmacosx \
			`ls -dr ../../../tkmacosx*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../tkmacosx*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../tkmacosx*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tkmacosx*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../tkmacosx \
			`ls -dr ${srcdir}/../tkmacosx*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tkmacosx*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tkmacosx*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tkmacosx*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/tkmacosxConfig.sh" ; then
			ac_cv_c_tkmacosxconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/tkmacosxConfig.sh" ; then
			ac_cv_c_tkmacosxconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tkmacosxconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/tkmacosxConfig.sh" ; then
			ac_cv_c_tkmacosxconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tkmacosxconfig}" = x ; then
	    tkmacosx_BIN_DIR="# no tkmacosx configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find tkmacosx configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find tkmacosx configuration definitions" >&2;}
	    exit 0
	else
	    no_tkmacosx=
	    tkmacosx_BIN_DIR=${ac_cv_c_tkmacosxconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $tkmacosx_BIN_DIR/tkmacosxConfig.sh" >&5
printf "%s\n" "found $tkmacosx_BIN_DIR/tkmacosxConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${tkmacosx_BIN_DIR}/tkmacosxConfig.sh" >&5
printf %s "checking for existence of ${tkmacosx_BIN_DIR}/tkmacosxConfig.sh... " >&6; }

    if test -f "${tkmacosx_BIN_DIR}/tkmacosxConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${tkmacosx_BIN_DIR}/tkmacosxConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the tkmacosx_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable tkmacosx_LIB_SPEC will be set to the value
    # of tkmacosx_BUILD_LIB_SPEC. An extension should make use of tkmacosx_LIB_SPEC
    # instead of tkmacosx_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${tkmacosx_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for tkmacosx" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for tkmacosx" >&2;}
        tkmacosx_LIB_SPEC=${tkmacosx_BUILD_LIB_SPEC}
        tkmacosx_STUB_LIB_SPEC=${tkmacosx_BUILD_STUB_LIB_SPEC}
        tkmacosx_STUB_LIB_PATH=${tkmacosx_BUILD_STUB_LIB_PATH}
        tkmacosx_INCLUDE_SPEC=${tkmacosx_BUILD_INCLUDE_SPEC}
        tkmacosx_LIBRARY_PATH=${tkmacosx_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${tkmacosx_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For TKMACOSX_STUB library for LIBS" >&5
printf %s "checking For TKMACOSX_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${TKMACOSX_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${TKMACOSX_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKMACOSX_STUB_LIB_PATH ${TKMACOSX_STUB_LIB_PATH}" >&5
printf "%s\n" "using TKMACOSX_STUB_LIB_PATH ${TKMACOSX_STUB_LIB_PATH}" >&6; }
	else

    vars="${TKMACOSX_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKMACOSX_STUB_LIB_SPEC ${TKMACOSX_STUB_LIB_SPEC}" >&5
printf "%s\n" "using TKMACOSX_STUB_LIB_SPEC ${TKMACOSX_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For tkmacosx_STUB library for LIBS" >&5
printf %s "checking For tkmacosx_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${tkmacosx_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${tkmacosx_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tkmacosx_STUB_LIB_PATH ${tkmacosx_STUB_LIB_PATH}" >&5
printf "%s\n" "using tkmacosx_STUB_LIB_PATH ${tkmacosx_STUB_LIB_PATH}" >&6; }
	else

    vars="${tkmacosx_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tkmacosx_STUB_LIB_SPEC ${tkmacosx_STUB_LIB_SPEC}" >&5
printf "%s\n" "using tkmacosx_STUB_LIB_SPEC ${tkmacosx_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the tkmpeg configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tkmpeg
    #

    if test x"${no_tkmpeg}" = x ; then
	# we reset no_tkmpeg in case something fails here
	no_tkmpeg=true

# Check whether --with-tkmpeg was given.
if test ${with_tkmpeg+y}
then :
  withval=$with_tkmpeg; with_tkmpegconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for tkmpeg configuration" >&5
printf %s "checking for tkmpeg configuration... " >&6; }
	if test ${ac_cv_c_tkmpegconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-tkmpeg was specified.
	    if test x"${with_tkmpegconfig}" != x ; then
		case ${with_tkmpegconfig} in
		    */tkmpegConfig.sh )
			if test -f ${with_tkmpegconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-tkmpeg argument should refer to directory containing tkmpegConfig.sh, not to tkmpegConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-tkmpeg argument should refer to directory containing tkmpegConfig.sh, not to tkmpegConfig.sh itself" >&2;}
			    with_tkmpegconfig=`echo ${with_tkmpegconfig} | sed 's!/tkmpegConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_tkmpegconfig}/tkmpegConfig.sh" ; then
		    ac_cv_c_tkmpegconfig=`(cd ${with_tkmpegconfig}; pwd)`
		else
		    as_fn_error $? "${with_tkmpegconfig} directory doesn't contain tkmpegConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private tkmpeg installation
	    if test x"${ac_cv_c_tkmpegconfig}" = x ; then
		for i in \
			../tkmpeg \
			`ls -dr ../tkmpeg*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../tkmpeg*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../tkmpeg*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../tkmpeg*[0-9].[0-9]* 2>/dev/null` \
			../../tkmpeg \
			`ls -dr ../../tkmpeg*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../tkmpeg*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../tkmpeg*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tkmpeg*[0-9].[0-9]* 2>/dev/null` \
			../../../tkmpeg \
			`ls -dr ../../../tkmpeg*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../tkmpeg*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../tkmpeg*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tkmpeg*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../tkmpeg \
			`ls -dr ${srcdir}/../tkmpeg*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tkmpeg*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tkmpeg*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tkmpeg*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/tkmpegConfig.sh" ; then
			ac_cv_c_tkmpegconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/tkmpegConfig.sh" ; then
			ac_cv_c_tkmpegconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tkmpegconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/tkmpegConfig.sh" ; then
			ac_cv_c_tkmpegconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tkmpegconfig}" = x ; then
	    tkmpeg_BIN_DIR="# no tkmpeg configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find tkmpeg configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find tkmpeg configuration definitions" >&2;}
	    exit 0
	else
	    no_tkmpeg=
	    tkmpeg_BIN_DIR=${ac_cv_c_tkmpegconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $tkmpeg_BIN_DIR/tkmpegConfig.sh" >&5
printf "%s\n" "found $tkmpeg_BIN_DIR/tkmpegConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${tkmpeg_BIN_DIR}/tkmpegConfig.sh" >&5
printf %s "checking for existence of ${tkmpeg_BIN_DIR}/tkmpegConfig.sh... " >&6; }

    if test -f "${tkmpeg_BIN_DIR}/tkmpegConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${tkmpeg_BIN_DIR}/tkmpegConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the tkmpeg_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable tkmpeg_LIB_SPEC will be set to the value
    # of tkmpeg_BUILD_LIB_SPEC. An extension should make use of tkmpeg_LIB_SPEC
    # instead of tkmpeg_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${tkmpeg_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for tkmpeg" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for tkmpeg" >&2;}
        tkmpeg_LIB_SPEC=${tkmpeg_BUILD_LIB_SPEC}
        tkmpeg_STUB_LIB_SPEC=${tkmpeg_BUILD_STUB_LIB_SPEC}
        tkmpeg_STUB_LIB_PATH=${tkmpeg_BUILD_STUB_LIB_PATH}
        tkmpeg_INCLUDE_SPEC=${tkmpeg_BUILD_INCLUDE_SPEC}
        tkmpeg_LIBRARY_PATH=${tkmpeg_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${tkmpeg_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For TKMPEG_STUB library for LIBS" >&5
printf %s "checking For TKMPEG_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${TKMPEG_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${TKMPEG_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKMPEG_STUB_LIB_PATH ${TKMPEG_STUB_LIB_PATH}" >&5
printf "%s\n" "using TKMPEG_STUB_LIB_PATH ${TKMPEG_STUB_LIB_PATH}" >&6; }
	else

    vars="${TKMPEG_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKMPEG_STUB_LIB_SPEC ${TKMPEG_STUB_LIB_SPEC}" >&5
printf "%s\n" "using TKMPEG_STUB_LIB_SPEC ${TKMPEG_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For tkmpeg_STUB library for LIBS" >&5
printf %s "checking For tkmpeg_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${tkmpeg_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${tkmpeg_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tkmpeg_STUB_LIB_PATH ${tkmpeg_STUB_LIB_PATH}" >&5
printf "%s\n" "using tkmpeg_STUB_LIB_PATH ${tkmpeg_STUB_LIB_PATH}" >&6; }
	else

    vars="${tkmpeg_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tkmpeg_STUB_LIB_SPEC ${tkmpeg_STUB_LIB_SPEC}" >&5
printf "%s\n" "using tkmpeg_STUB_LIB_SPEC ${tkmpeg_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the tksvg configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tksvg
    #

    if test x"${no_tksvg}" = x ; then
	# we reset no_tksvg in case something fails here
	no_tksvg=true

# Check whether --with-tksvg was given.
if test ${with_tksvg+y}
then :
  withval=$with_tksvg; with_tksvgconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for tksvg configuration" >&5
printf %s "checking for tksvg configuration... " >&6; }
	if test ${ac_cv_c_tksvgconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-tksvg was specified.
	    if test x"${with_tksvgconfig}" != x ; then
		case ${with_tksvgconfig} in
		    */tksvgConfig.sh )
			if test -f ${with_tksvgconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-tksvg argument should refer to directory containing tksvgConfig.sh, not to tksvgConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-tksvg argument should refer to directory containing tksvgConfig.sh, not to tksvgConfig.sh itself" >&2;}
			    with_tksvgconfig=`echo ${with_tksvgconfig} | sed 's!/tksvgConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_tksvgconfig}/tksvgConfig.sh" ; then
		    ac_cv_c_tksvgconfig=`(cd ${with_tksvgconfig}; pwd)`
		else
		    as_fn_error $? "${with_tksvgconfig} directory doesn't contain tksvgConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private tksvg installation
	    if test x"${ac_cv_c_tksvgconfig}" = x ; then
		for i in \
			../tksvg \
			`ls -dr ../tksvg*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../tksvg*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../tksvg*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../tksvg*[0-9].[0-9]* 2>/dev/null` \
			../../tksvg \
			`ls -dr ../../tksvg*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../tksvg*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../tksvg*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tksvg*[0-9].[0-9]* 2>/dev/null` \
			../../../tksvg \
			`ls -dr ../../../tksvg*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../tksvg*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../tksvg*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tksvg*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../tksvg \
			`ls -dr ${srcdir}/../tksvg*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tksvg*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tksvg*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tksvg*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/tksvgConfig.sh" ; then
			ac_cv_c_tksvgconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/tksvgConfig.sh" ; then
			ac_cv_c_tksvgconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tksvgconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/tksvgConfig.sh" ; then
			ac_cv_c_tksvgconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tksvgconfig}" = x ; then
	    tksvg_BIN_DIR="# no tksvg configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find tksvg configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find tksvg configuration definitions" >&2;}
	    exit 0
	else
	    no_tksvg=
	    tksvg_BIN_DIR=${ac_cv_c_tksvgconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $tksvg_BIN_DIR/tksvgConfig.sh" >&5
printf "%s\n" "found $tksvg_BIN_DIR/tksvgConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${tksvg_BIN_DIR}/tksvgConfig.sh" >&5
printf %s "checking for existence of ${tksvg_BIN_DIR}/tksvgConfig.sh... " >&6; }

    if test -f "${tksvg_BIN_DIR}/tksvgConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${tksvg_BIN_DIR}/tksvgConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the tksvg_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable tksvg_LIB_SPEC will be set to the value
    # of tksvg_BUILD_LIB_SPEC. An extension should make use of tksvg_LIB_SPEC
    # instead of tksvg_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${tksvg_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for tksvg" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for tksvg" >&2;}
        tksvg_LIB_SPEC=${tksvg_BUILD_LIB_SPEC}
        tksvg_STUB_LIB_SPEC=${tksvg_BUILD_STUB_LIB_SPEC}
        tksvg_STUB_LIB_PATH=${tksvg_BUILD_STUB_LIB_PATH}
        tksvg_INCLUDE_SPEC=${tksvg_BUILD_INCLUDE_SPEC}
        tksvg_LIBRARY_PATH=${tksvg_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${tksvg_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For TKSVG_STUB library for LIBS" >&5
printf %s "checking For TKSVG_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${TKSVG_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${TKSVG_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKSVG_STUB_LIB_PATH ${TKSVG_STUB_LIB_PATH}" >&5
printf "%s\n" "using TKSVG_STUB_LIB_PATH ${TKSVG_STUB_LIB_PATH}" >&6; }
	else

    vars="${TKSVG_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKSVG_STUB_LIB_SPEC ${TKSVG_STUB_LIB_SPEC}" >&5
printf "%s\n" "using TKSVG_STUB_LIB_SPEC ${TKSVG_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For tksvg_STUB library for LIBS" >&5
printf %s "checking For tksvg_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${tksvg_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${tksvg_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tksvg_STUB_LIB_PATH ${tksvg_STUB_LIB_PATH}" >&5
printf "%s\n" "using tksvg_STUB_LIB_PATH ${tksvg_STUB_LIB_PATH}" >&6; }
	else

    vars="${tksvg_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tksvg_STUB_LIB_SPEC ${tksvg_STUB_LIB_SPEC}" >&5
printf "%s\n" "using tksvg_STUB_LIB_SPEC ${tksvg_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the tkagif configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tkagif
    #

    if test x"${no_tkagif}" = x ; then
	# we reset no_tkagif in case something fails here
	no_tkagif=true

# Check whether --with-tkagif was given.
if test ${with_tkagif+y}
then :
  withval=$with_tkagif; with_tkagifconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for tkagif configuration" >&5
printf %s "checking for tkagif configuration... " >&6; }
	if test ${ac_cv_c_tkagifconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-tkagif was specified.
	    if test x"${with_tkagifconfig}" != x ; then
		case ${with_tkagifconfig} in
		    */tkagifConfig.sh )
			if test -f ${with_tkagifconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-tkagif argument should refer to directory containing tkagifConfig.sh, not to tkagifConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-tkagif argument should refer to directory containing tkagifConfig.sh, not to tkagifConfig.sh itself" >&2;}
			    with_tkagifconfig=`echo ${with_tkagifconfig} | sed 's!/tkagifConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_tkagifconfig}/tkagifConfig.sh" ; then
		    ac_cv_c_tkagifconfig=`(cd ${with_tkagifconfig}; pwd)`
		else
		    as_fn_error $? "${with_tkagifconfig} directory doesn't contain tkagifConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private tkagif installation
	    if test x"${ac_cv_c_tkagifconfig}" = x ; then
		for i in \
			../tkagif \
			`ls -dr ../tkagif*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../tkagif*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../tkagif*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../tkagif*[0-9].[0-9]* 2>/dev/null` \
			../../tkagif \
			`ls -dr ../../tkagif*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../tkagif*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../tkagif*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tkagif*[0-9].[0-9]* 2>/dev/null` \
			../../../tkagif \
			`ls -dr ../../../tkagif*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../tkagif*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../tkagif*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tkagif*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../tkagif \
			`ls -dr ${srcdir}/../tkagif*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tkagif*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tkagif*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tkagif*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/tkagifConfig.sh" ; then
			ac_cv_c_tkagifconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/tkagifConfig.sh" ; then
			ac_cv_c_tkagifconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tkagifconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/tkagifConfig.sh" ; then
			ac_cv_c_tkagifconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tkagifconfig}" = x ; then
	    tkagif_BIN_DIR="# no tkagif configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find tkagif configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find tkagif configuration definitions" >&2;}
	    exit 0
	else
	    no_tkagif=
	    tkagif_BIN_DIR=${ac_cv_c_tkagifconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $tkagif_BIN_DIR/tkagifConfig.sh" >&5
printf "%s\n" "found $tkagif_BIN_DIR/tkagifConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${tkagif_BIN_DIR}/tkagifConfig.sh" >&5
printf %s "checking for existence of ${tkagif_BIN_DIR}/tkagifConfig.sh... " >&6; }

    if test -f "${tkagif_BIN_DIR}/tkagifConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${tkagif_BIN_DIR}/tkagifConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the tkagif_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable tkagif_LIB_SPEC will be set to the value
    # of tkagif_BUILD_LIB_SPEC. An extension should make use of tkagif_LIB_SPEC
    # instead of tkagif_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${tkagif_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for tkagif" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for tkagif" >&2;}
        tkagif_LIB_SPEC=${tkagif_BUILD_LIB_SPEC}
        tkagif_STUB_LIB_SPEC=${tkagif_BUILD_STUB_LIB_SPEC}
        tkagif_STUB_LIB_PATH=${tkagif_BUILD_STUB_LIB_PATH}
        tkagif_INCLUDE_SPEC=${tkagif_BUILD_INCLUDE_SPEC}
        tkagif_LIBRARY_PATH=${tkagif_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${tkagif_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For TKAGIF_STUB library for LIBS" >&5
printf %s "checking For TKAGIF_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${TKAGIF_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${TKAGIF_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKAGIF_STUB_LIB_PATH ${TKAGIF_STUB_LIB_PATH}" >&5
printf "%s\n" "using TKAGIF_STUB_LIB_PATH ${TKAGIF_STUB_LIB_PATH}" >&6; }
	else

    vars="${TKAGIF_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKAGIF_STUB_LIB_SPEC ${TKAGIF_STUB_LIB_SPEC}" >&5
printf "%s\n" "using TKAGIF_STUB_LIB_SPEC ${TKAGIF_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For tkagif_STUB library for LIBS" >&5
printf %s "checking For tkagif_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${tkagif_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${tkagif_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tkagif_STUB_LIB_PATH ${tkagif_STUB_LIB_PATH}" >&5
printf "%s\n" "using tkagif_STUB_LIB_PATH ${tkagif_STUB_LIB_PATH}" >&6; }
	else

    vars="${tkagif_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tkagif_STUB_LIB_SPEC ${tkagif_STUB_LIB_SPEC}" >&5
printf "%s\n" "using tkagif_STUB_LIB_SPEC ${tkagif_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the tksao configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tksao
    #

    if test x"${no_tksao}" = x ; then
	# we reset no_tksao in case something fails here
	no_tksao=true

# Check whether --with-tksao was given.
if test ${with_tksao+y}
then :
  withval=$with_tksao; with_tksaoconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for tksao configuration" >&5
printf %s "checking for tksao configuration... " >&6; }
	if test ${ac_cv_c_tksaoconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-tksao was specified.
	    if test x"${with_tksaoconfig}" != x ; then
		case ${with_tksaoconfig} in
		    */tksaoConfig.sh )
			if test -f ${with_tksaoconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-tksao argument should refer to directory containing tksaoConfig.sh, not to tksaoConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-tksao argument should refer to directory containing tksaoConfig.sh, not to tksaoConfig.sh itself" >&2;}
			    with_tksaoconfig=`echo ${with_tksaoconfig} | sed 's!/tksaoConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_tksaoconfig}/tksaoConfig.sh" ; then
		    ac_cv_c_tksaoconfig=`(cd ${with_tksaoconfig}; pwd)`
		else
		    as_fn_error $? "${with_tksaoconfig} directory doesn't contain tksaoConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private tksao installation
	    if test x"${ac_cv_c_tksaoconfig}" = x ; then
		for i in \
			../tksao \
			`ls -dr ../tksao*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../tksao*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../tksao*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../tksao*[0-9].[0-9]* 2>/dev/null` \
			../../tksao \
			`ls -dr ../../tksao*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../tksao*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../tksao*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tksao*[0-9].[0-9]* 2>/dev/null` \
			../../../tksao \
			`ls -dr ../../../tksao*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../tksao*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../tksao*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tksao*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../tksao \
			`ls -dr ${srcdir}/../tksao*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tksao*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tksao*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tksao*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/tksaoConfig.sh" ; then
			ac_cv_c_tksaoconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/tksaoConfig.sh" ; then
			ac_cv_c_tksaoconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tksaoconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/tksaoConfig.sh" ; then
			ac_cv_c_tksaoconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tksaoconfig}" = x ; then
	    tksao_BIN_DIR="# no tksao configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find tksao configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find tksao configuration definitions" >&2;}
	    exit 0
	else
	    no_tksao=
	    tksao_BIN_DIR=${ac_cv_c_tksaoconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $tksao_BIN_DIR/tksaoConfig.sh" >&5
printf "%s\n" "found $tksao_BIN_DIR/tksaoConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${tksao_BIN_DIR}/tksaoConfig.sh" >&5
printf %s "checking for existence of ${tksao_BIN_DIR}/tksaoConfig.sh... " >&6; }

    if test -f "${tksao_BIN_DIR}/tksaoConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${tksao_BIN_DIR}/tksaoConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the tksao_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable tksao_LIB_SPEC will be set to the value
    # of tksao_BUILD_LIB_SPEC. An extension should make use of tksao_LIB_SPEC
    # instead of tksao_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${tksao_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for tksao" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for tksao" >&2;}
        tksao_LIB_SPEC=${tksao_BUILD_LIB_SPEC}
        tksao_STUB_LIB_SPEC=${tksao_BUILD_STUB_LIB_SPEC}
        tksao_STUB_LIB_PATH=${tksao_BUILD_STUB_LIB_PATH}
        tksao_INCLUDE_SPEC=${tksao_BUILD_INCLUDE_SPEC}
        tksao_LIBRARY_PATH=${tksao_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${tksao_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For TKSAO_STUB library for LIBS" >&5
printf %s "checking For TKSAO_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${TKSAO_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${TKSAO_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKSAO_STUB_LIB_PATH ${TKSAO_STUB_LIB_PATH}" >&5
printf "%s\n" "using TKSAO_STUB_LIB_PATH ${TKSAO_STUB_LIB_PATH}" >&6; }
	else

    vars="${TKSAO_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKSAO_STUB_LIB_SPEC ${TKSAO_STUB_LIB_SPEC}" >&5
printf "%s\n" "using TKSAO_STUB_LIB_SPEC ${TKSAO_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For tksao_STUB library for LIBS" >&5
printf %s "checking For tksao_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${tksao_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${tksao_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tksao_STUB_LIB_PATH ${tksao_STUB_LIB_PATH}" >&5
printf "%s\n" "using tksao_STUB_LIB_PATH ${tksao_STUB_LIB_PATH}" >&6; }
	else

    vars="${tksao_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tksao_STUB_LIB_SPEC ${tksao_STUB_LIB_SPEC}" >&5
printf "%s\n" "using tksao_STUB_LIB_SPEC ${tksao_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi



    #
    # Ok, lets find the tktable configuration
    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-tktable
    #

    if test x"${no_tktable}" = x ; then
	# we reset no_tktable in case something fails here
	no_tktable=true

# Check whether --with-tktable was given.
if test ${with_tktable+y}
then :
  withval=$with_tktable; with_tktableconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for tktable configuration" >&5
printf %s "checking for tktable configuration... " >&6; }
	if test ${ac_cv_c_tktableconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop


	    # First check to see if --with-tktable was specified.
	    if test x"${with_tktableconfig}" != x ; then
		case ${with_tktableconfig} in
		    */tktableConfig.sh )
			if test -f ${with_tktableconfig}; then
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: --with-tktable argument should refer to directory containing tktableConfig.sh, not to tktableConfig.sh itself" >&5
printf "%s\n" "$as_me: WARNING: --with-tktable argument should refer to directory containing tktableConfig.sh, not to tktableConfig.sh itself" >&2;}
			    with_tktableconfig=`echo ${with_tktableconfig} | sed 's!/tktableConfig\.sh$!!'`
			fi;;
		esac
		if test -f "${with_tktableconfig}/tktableConfig.sh" ; then
		    ac_cv_c_tktableconfig=`(cd ${with_tktableconfig}; pwd)`
		else
		    as_fn_error $? "${with_tktableconfig} directory doesn't contain tktableConfig.sh" "$LINENO" 5
		fi
	    fi

	    # then check for a private tktable installation
	    if test x"${ac_cv_c_tktableconfig}" = x ; then
		for i in \
			../tktable \
			`ls -dr ../tktable*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../tktable*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../tktable*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../tktable*[0-9].[0-9]* 2>/dev/null` \
			../../tktable \
			`ls -dr ../../tktable*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../tktable*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../tktable*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../tktable*[0-9].[0-9]* 2>/dev/null` \
			../../../tktable \
			`ls -dr ../../../tktable*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ../../../tktable*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ../../../tktable*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ../../../tktable*[0-9].[0-9]* 2>/dev/null` \
			${srcdir}/../tktable \
			`ls -dr ${srcdir}/../tktable*[0-9].[0-9]*.[0-9]* 2>/dev/null` \
			`ls -dr ${srcdir}/../tktable*[0-9].[0-9][0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tktable*[0-9].[0-9] 2>/dev/null` \
			`ls -dr ${srcdir}/../tktable*[0-9].[0-9]* 2>/dev/null` \
			; do
		    if test -f "$i/tktableConfig.sh" ; then
			ac_cv_c_tktableconfig=`(cd $i; pwd)`
			break
		    fi
		    if test -f "$i/unix/tktableConfig.sh" ; then
			ac_cv_c_tktableconfig=`(cd $i/unix; pwd)`
			break
		    fi
		done
	    fi

	    # check in a few common install locations
	    if test x"${ac_cv_c_tktableconfig}" = x ; then
		for i in `ls -d ${libdir} 2>/dev/null` \
			`ls -d ${exec_prefix}/lib 2>/dev/null` \
			`ls -d ${prefix}/lib 2>/dev/null` \
			`ls -d /usr/local/lib 2>/dev/null` \
			`ls -d /usr/contrib/lib 2>/dev/null` \
			`ls -d /usr/pkg/lib 2>/dev/null` \
			`ls -d /usr/lib 2>/dev/null` \
			`ls -d /usr/lib64 2>/dev/null` \
			; do
		    if test -f "$i/tktableConfig.sh" ; then
			ac_cv_c_tktableconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi


	if test x"${ac_cv_c_tktableconfig}" = x ; then
	    tktable_BIN_DIR="# no tktable configs found"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find tktable configuration definitions" >&5
printf "%s\n" "$as_me: WARNING: Cannot find tktable configuration definitions" >&2;}
	    exit 0
	else
	    no_tktable=
	    tktable_BIN_DIR=${ac_cv_c_tktableconfig}
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $tktable_BIN_DIR/tktableConfig.sh" >&5
printf "%s\n" "found $tktable_BIN_DIR/tktableConfig.sh" >&6; }
	fi
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for existence of ${tktable_BIN_DIR}/tktableConfig.sh" >&5
printf %s "checking for existence of ${tktable_BIN_DIR}/tktableConfig.sh... " >&6; }

    if test -f "${tktable_BIN_DIR}/tktableConfig.sh" ; then
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: loading" >&5
printf "%s\n" "loading" >&6; }
	. "${tktable_BIN_DIR}/tktableConfig.sh"
    else
        { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

    #
    # If the tktable_BIN_DIR is the build directory (not the install directory),
    # then set the common variable name to the value of the build variables.
    # For example, the variable tktable_LIB_SPEC will be set to the value
    # of tktable_BUILD_LIB_SPEC. An extension should make use of tktable_LIB_SPEC
    # instead of tktable_BUILD_LIB_SPEC since it will work with both an
    # installed and uninstalled version of Tcl.
    #

    if test -f "${tktable_BIN_DIR}/Makefile" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Found Makefile - using build library specs for tktable" >&5
printf "%s\n" "$as_me: WARNING: Found Makefile - using build library specs for tktable" >&2;}
        tktable_LIB_SPEC=${tktable_BUILD_LIB_SPEC}
        tktable_STUB_LIB_SPEC=${tktable_BUILD_STUB_LIB_SPEC}
        tktable_STUB_LIB_PATH=${tktable_BUILD_STUB_LIB_PATH}
        tktable_INCLUDE_SPEC=${tktable_BUILD_INCLUDE_SPEC}
        tktable_LIBRARY_PATH=${tktable_LIBRARY_PATH}
    fi












    # Allow the caller to prevent this auto-check by specifying any 2nd arg
    if test "x" = x
then :

	# Check both upper and lower-case variants
	# If a dev wanted non-stubs libs, this function could take an option
	# to not use _STUB in the paths below
	if test "x${tktable_STUB_LIB_SPEC}" = x
then :

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For TKTABLE_STUB library for LIBS" >&5
printf %s "checking For TKTABLE_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${TKTABLE_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${TKTABLE_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKTABLE_STUB_LIB_PATH ${TKTABLE_STUB_LIB_PATH}" >&5
printf "%s\n" "using TKTABLE_STUB_LIB_PATH ${TKTABLE_STUB_LIB_PATH}" >&6; }
	else

    vars="${TKTABLE_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using TKTABLE_STUB_LIB_SPEC ${TKTABLE_STUB_LIB_SPEC}" >&5
printf "%s\n" "using TKTABLE_STUB_LIB_SPEC ${TKTABLE_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

else $as_nop

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking For tktable_STUB library for LIBS" >&5
printf %s "checking For tktable_STUB library for LIBS... " >&6; }
    # This simplifies the use of stub libraries by automatically adding
    # the stub lib to your path.  Normally this would add to SHLIB_LD_LIBS,
    # but this is called before CONFIG_CFLAGS.  More importantly, this adds
    # to PKG_LIBS, which becomes LIBS, and that is only used by SHLIB_LD.
    if test "x${tktable_STUB_LIB_SPEC}" != "x" ; then
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes" ; then

    vars="\"`${CYGPATH} ${tktable_STUB_LIB_PATH}`\""
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tktable_STUB_LIB_PATH ${tktable_STUB_LIB_PATH}" >&5
printf "%s\n" "using tktable_STUB_LIB_PATH ${tktable_STUB_LIB_PATH}" >&6; }
	else

    vars="${tktable_STUB_LIB_SPEC}"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using tktable_STUB_LIB_SPEC ${tktable_STUB_LIB_SPEC}" >&5
printf "%s\n" "using tktable_STUB_LIB_SPEC ${tktable_STUB_LIB_SPEC}" >&6; }
	fi
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: file not found" >&5
printf "%s\n" "file not found" >&6; }
    fi

fi

fi


#-----------------------------------------------------------------------
# Handle the --prefix=... option by defaulting to what Tcl gave.
# Must be called after TEA_LOAD_TCLCONFIG and before TEA_SETUP_COMPILER.
#-----------------------------------------------------------------------


    if test "${prefix}" = "NONE"; then
	prefix_default=yes
	if test x"${TCL_PREFIX}" != x; then
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: --prefix defaulting to TCL_PREFIX ${TCL_PREFIX}" >&5
printf "%s\n" "$as_me: --prefix defaulting to TCL_PREFIX ${TCL_PREFIX}" >&6;}
	    prefix=${TCL_PREFIX}
	else
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: --prefix defaulting to /usr/local" >&5
printf "%s\n" "$as_me: --prefix defaulting to /usr/local" >&6;}
	    prefix=/usr/local
	fi
    fi
    if test "${exec_prefix}" = "NONE" -a x"${prefix_default}" = x"yes" \
	-o x"${exec_prefix_default}" = x"yes" ; then
	if test x"${TCL_EXEC_PREFIX}" != x; then
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: --exec-prefix defaulting to TCL_EXEC_PREFIX ${TCL_EXEC_PREFIX}" >&5
printf "%s\n" "$as_me: --exec-prefix defaulting to TCL_EXEC_PREFIX ${TCL_EXEC_PREFIX}" >&6;}
	    exec_prefix=${TCL_EXEC_PREFIX}
	else
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: --exec-prefix defaulting to ${prefix}" >&5
printf "%s\n" "$as_me: --exec-prefix defaulting to ${prefix}" >&6;}
	    exec_prefix=$prefix
	fi
    fi


#-----------------------------------------------------------------------
# Standard compiler checks.
# This sets up CC by using the CC env var, or looks for gcc otherwise.
# This also calls AC_PROG_CC and a few others to create the basic setup
# necessary to compile executables.
#-----------------------------------------------------------------------


    # Don't put any macros that use the compiler (e.g. AC_TRY_COMPILE)
    # in this macro, they need to go into TEA_SETUP_COMPILER instead.

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}gcc", so it can be a program name with args.
set dummy ${ac_tool_prefix}gcc; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_CC="${ac_tool_prefix}gcc"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
printf "%s\n" "$CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


fi
if test -z "$ac_cv_prog_CC"; then
  ac_ct_CC=$CC
  # Extract the first word of "gcc", so it can be a program name with args.
set dummy gcc; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_ac_ct_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_CC="gcc"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC" >&5
printf "%s\n" "$ac_ct_CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi

  if test "x$ac_ct_CC" = x; then
    CC=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    CC=$ac_ct_CC
  fi
else
  CC="$ac_cv_prog_CC"
fi

if test -z "$CC"; then
          if test -n "$ac_tool_prefix"; then
    # Extract the first word of "${ac_tool_prefix}cc", so it can be a program name with args.
set dummy ${ac_tool_prefix}cc; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_CC="${ac_tool_prefix}cc"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
printf "%s\n" "$CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


  fi
fi
if test -z "$CC"; then
  # Extract the first word of "cc", so it can be a program name with args.
set dummy cc; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  ac_prog_rejected=no
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    if test "$as_dir$ac_word$ac_exec_ext" = "/usr/ucb/cc"; then
       ac_prog_rejected=yes
       continue
     fi
    ac_cv_prog_CC="cc"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

if test $ac_prog_rejected = yes; then
  # We found a bogon in the path, so make sure we never use it.
  set dummy $ac_cv_prog_CC
  shift
  if test $# != 0; then
    # We chose a different compiler from the bogus one.
    # However, it has the same basename, so the bogon will be chosen
    # first if we set CC to just the basename; use the full file name.
    shift
    ac_cv_prog_CC="$as_dir$ac_word${1+' '}$@"
  fi
fi
fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
printf "%s\n" "$CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


fi
if test -z "$CC"; then
  if test -n "$ac_tool_prefix"; then
  for ac_prog in cl.exe
  do
    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
set dummy $ac_tool_prefix$ac_prog; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_CC="$ac_tool_prefix$ac_prog"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
printf "%s\n" "$CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


    test -n "$CC" && break
  done
fi
if test -z "$CC"; then
  ac_ct_CC=$CC
  for ac_prog in cl.exe
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_ac_ct_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_CC="$ac_prog"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC" >&5
printf "%s\n" "$ac_ct_CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


  test -n "$ac_ct_CC" && break
done

  if test "x$ac_ct_CC" = x; then
    CC=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    CC=$ac_ct_CC
  fi
fi

fi
if test -z "$CC"; then
  if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}clang", so it can be a program name with args.
set dummy ${ac_tool_prefix}clang; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_CC="${ac_tool_prefix}clang"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
printf "%s\n" "$CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


fi
if test -z "$ac_cv_prog_CC"; then
  ac_ct_CC=$CC
  # Extract the first word of "clang", so it can be a program name with args.
set dummy clang; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_ac_ct_CC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_CC="clang"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC" >&5
printf "%s\n" "$ac_ct_CC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi

  if test "x$ac_ct_CC" = x; then
    CC=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    CC=$ac_ct_CC
  fi
else
  CC="$ac_cv_prog_CC"
fi

fi


test -z "$CC" && { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "no acceptable C compiler found in \$PATH
See \`config.log' for more details" "$LINENO" 5; }

# Provide some information about the compiler.
printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for C compiler version" >&5
set X $ac_compile
ac_compiler=$2
for ac_option in --version -v -V -qversion -version; do
  { { ac_try="$ac_compiler $ac_option >&5"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_compiler $ac_option >&5") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    sed '10a\
... rest of stderr output deleted ...
         10q' conftest.err >conftest.er1
    cat conftest.er1 >&5
  fi
  rm -f conftest.er1 conftest.err
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
done

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether the compiler supports GNU C" >&5
printf %s "checking whether the compiler supports GNU C... " >&6; }
if test ${ac_cv_c_compiler_gnu+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
#ifndef __GNUC__
       choke me
#endif

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  ac_compiler_gnu=yes
else $as_nop
  ac_compiler_gnu=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
ac_cv_c_compiler_gnu=$ac_compiler_gnu

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_compiler_gnu" >&5
printf "%s\n" "$ac_cv_c_compiler_gnu" >&6; }
ac_compiler_gnu=$ac_cv_c_compiler_gnu

if test $ac_compiler_gnu = yes; then
  GCC=yes
else
  GCC=
fi
ac_test_CFLAGS=${CFLAGS+y}
ac_save_CFLAGS=$CFLAGS
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CC accepts -g" >&5
printf %s "checking whether $CC accepts -g... " >&6; }
if test ${ac_cv_prog_cc_g+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_save_c_werror_flag=$ac_c_werror_flag
   ac_c_werror_flag=yes
   ac_cv_prog_cc_g=no
   CFLAGS="-g"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  ac_cv_prog_cc_g=yes
else $as_nop
  CFLAGS=""
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

else $as_nop
  ac_c_werror_flag=$ac_save_c_werror_flag
	 CFLAGS="-g"
	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  ac_cv_prog_cc_g=yes
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
   ac_c_werror_flag=$ac_save_c_werror_flag
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_g" >&5
printf "%s\n" "$ac_cv_prog_cc_g" >&6; }
if test $ac_test_CFLAGS; then
  CFLAGS=$ac_save_CFLAGS
elif test $ac_cv_prog_cc_g = yes; then
  if test "$GCC" = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-g"
  fi
else
  if test "$GCC" = yes; then
    CFLAGS="-O2"
  else
    CFLAGS=
  fi
fi
ac_prog_cc_stdc=no
if test x$ac_prog_cc_stdc = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CC option to enable C11 features" >&5
printf %s "checking for $CC option to enable C11 features... " >&6; }
if test ${ac_cv_prog_cc_c11+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_cv_prog_cc_c11=no
ac_save_CC=$CC
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$ac_c_conftest_c11_program
_ACEOF
for ac_arg in '' -std=gnu11
do
  CC="$ac_save_CC $ac_arg"
  if ac_fn_c_try_compile "$LINENO"
then :
  ac_cv_prog_cc_c11=$ac_arg
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam
  test "x$ac_cv_prog_cc_c11" != "xno" && break
done
rm -f conftest.$ac_ext
CC=$ac_save_CC
fi

if test "x$ac_cv_prog_cc_c11" = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
printf "%s\n" "unsupported" >&6; }
else $as_nop
  if test "x$ac_cv_prog_cc_c11" = x
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
printf "%s\n" "none needed" >&6; }
else $as_nop
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c11" >&5
printf "%s\n" "$ac_cv_prog_cc_c11" >&6; }
     CC="$CC $ac_cv_prog_cc_c11"
fi
  ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c11
  ac_prog_cc_stdc=c11
fi
fi
if test x$ac_prog_cc_stdc = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CC option to enable C99 features" >&5
printf %s "checking for $CC option to enable C99 features... " >&6; }
if test ${ac_cv_prog_cc_c99+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_cv_prog_cc_c99=no
ac_save_CC=$CC
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$ac_c_conftest_c99_program
_ACEOF
for ac_arg in '' -std=gnu99 -std=c99 -c99 -qlanglvl=extc1x -qlanglvl=extc99 -AC99 -D_STDC_C99=
do
  CC="$ac_save_CC $ac_arg"
  if ac_fn_c_try_compile "$LINENO"
then :
  ac_cv_prog_cc_c99=$ac_arg
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam
  test "x$ac_cv_prog_cc_c99" != "xno" && break
done
rm -f conftest.$ac_ext
CC=$ac_save_CC
fi

if test "x$ac_cv_prog_cc_c99" = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
printf "%s\n" "unsupported" >&6; }
else $as_nop
  if test "x$ac_cv_prog_cc_c99" = x
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
printf "%s\n" "none needed" >&6; }
else $as_nop
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c99" >&5
printf "%s\n" "$ac_cv_prog_cc_c99" >&6; }
     CC="$CC $ac_cv_prog_cc_c99"
fi
  ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c99
  ac_prog_cc_stdc=c99
fi
fi
if test x$ac_prog_cc_stdc = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CC option to enable C89 features" >&5
printf %s "checking for $CC option to enable C89 features... " >&6; }
if test ${ac_cv_prog_cc_c89+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_cv_prog_cc_c89=no
ac_save_CC=$CC
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$ac_c_conftest_c89_program
_ACEOF
for ac_arg in '' -qlanglvl=extc89 -qlanglvl=ansi -std -Ae "-Aa -D_HPUX_SOURCE" "-Xc -D__EXTENSIONS__"
do
  CC="$ac_save_CC $ac_arg"
  if ac_fn_c_try_compile "$LINENO"
then :
  ac_cv_prog_cc_c89=$ac_arg
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam
  test "x$ac_cv_prog_cc_c89" != "xno" && break
done
rm -f conftest.$ac_ext
CC=$ac_save_CC
fi

if test "x$ac_cv_prog_cc_c89" = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
printf "%s\n" "unsupported" >&6; }
else $as_nop
  if test "x$ac_cv_prog_cc_c89" = x
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
printf "%s\n" "none needed" >&6; }
else $as_nop
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c89" >&5
printf "%s\n" "$ac_cv_prog_cc_c89" >&6; }
     CC="$CC $ac_cv_prog_cc_c89"
fi
  ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c89
  ac_prog_cc_stdc=c89
fi
fi

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking how to run the C preprocessor" >&5
printf %s "checking how to run the C preprocessor... " >&6; }
# On Suns, sometimes $CPP names a directory.
if test -n "$CPP" && test -d "$CPP"; then
  CPP=
fi
if test -z "$CPP"; then
  if test ${ac_cv_prog_CPP+y}
then :
  printf %s "(cached) " >&6
else $as_nop
      # Double quotes because $CC needs to be expanded
    for CPP in "$CC -E" "$CC -E -traditional-cpp" cpp /lib/cpp
    do
      ac_preproc_ok=false
for ac_c_preproc_warn_flag in '' yes
do
  # Use a header file that comes with gcc, so configuring glibc
  # with a fresh cross-compiler works.
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp. "Syntax error" is here to catch this case.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <limits.h>
		     Syntax error
_ACEOF
if ac_fn_c_try_cpp "$LINENO"
then :

else $as_nop
  # Broken: fails on valid input.
continue
fi
rm -f conftest.err conftest.i conftest.$ac_ext

  # OK, works on sane cases.  Now check whether nonexistent headers
  # can be detected and how.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <ac_nonexistent.h>
_ACEOF
if ac_fn_c_try_cpp "$LINENO"
then :
  # Broken: success on invalid input.
continue
else $as_nop
  # Passes both tests.
ac_preproc_ok=:
break
fi
rm -f conftest.err conftest.i conftest.$ac_ext

done
# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
rm -f conftest.i conftest.err conftest.$ac_ext
if $ac_preproc_ok
then :
  break
fi

    done
    ac_cv_prog_CPP=$CPP

fi
  CPP=$ac_cv_prog_CPP
else
  ac_cv_prog_CPP=$CPP
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CPP" >&5
printf "%s\n" "$CPP" >&6; }
ac_preproc_ok=false
for ac_c_preproc_warn_flag in '' yes
do
  # Use a header file that comes with gcc, so configuring glibc
  # with a fresh cross-compiler works.
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp. "Syntax error" is here to catch this case.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <limits.h>
		     Syntax error
_ACEOF
if ac_fn_c_try_cpp "$LINENO"
then :

else $as_nop
  # Broken: fails on valid input.
continue
fi
rm -f conftest.err conftest.i conftest.$ac_ext

  # OK, works on sane cases.  Now check whether nonexistent headers
  # can be detected and how.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <ac_nonexistent.h>
_ACEOF
if ac_fn_c_try_cpp "$LINENO"
then :
  # Broken: success on invalid input.
continue
else $as_nop
  # Passes both tests.
ac_preproc_ok=:
break
fi
rm -f conftest.err conftest.i conftest.$ac_ext

done
# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
rm -f conftest.i conftest.err conftest.$ac_ext
if $ac_preproc_ok
then :

else $as_nop
  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "C preprocessor \"$CPP\" fails sanity check
See \`config.log' for more details" "$LINENO" 5; }
fi

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


    #--------------------------------------------------------------------
    # Checks to see if the make program sets the $MAKE variable.
    #--------------------------------------------------------------------

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether ${MAKE-make} sets \$(MAKE)" >&5
printf %s "checking whether ${MAKE-make} sets \$(MAKE)... " >&6; }
set x ${MAKE-make}
ac_make=`printf "%s\n" "$2" | sed 's/+/p/g; s/[^a-zA-Z0-9_]/_/g'`
if eval test \${ac_cv_prog_make_${ac_make}_set+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat >conftest.make <<\_ACEOF
SHELL = /bin/sh
all:
	@echo '@@@%%%=$(MAKE)=@@@%%%'
_ACEOF
# GNU make sometimes prints "make[1]: Entering ...", which would confuse us.
case `${MAKE-make} -f conftest.make 2>/dev/null` in
  *@@@%%%=?*=@@@%%%*)
    eval ac_cv_prog_make_${ac_make}_set=yes;;
  *)
    eval ac_cv_prog_make_${ac_make}_set=no;;
esac
rm -f conftest.make
fi
if eval test \$ac_cv_prog_make_${ac_make}_set = yes; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
  SET_MAKE=
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
  SET_MAKE="MAKE=${MAKE-make}"
fi


    #--------------------------------------------------------------------
    # Find ranlib
    #--------------------------------------------------------------------

    if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}ranlib", so it can be a program name with args.
set dummy ${ac_tool_prefix}ranlib; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_RANLIB+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$RANLIB"; then
  ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
RANLIB=$ac_cv_prog_RANLIB
if test -n "$RANLIB"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $RANLIB" >&5
printf "%s\n" "$RANLIB" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


fi
if test -z "$ac_cv_prog_RANLIB"; then
  ac_ct_RANLIB=$RANLIB
  # Extract the first word of "ranlib", so it can be a program name with args.
set dummy ranlib; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_ac_ct_RANLIB+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$ac_ct_RANLIB"; then
  ac_cv_prog_ac_ct_RANLIB="$ac_ct_RANLIB" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_RANLIB="ranlib"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB
if test -n "$ac_ct_RANLIB"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_RANLIB" >&5
printf "%s\n" "$ac_ct_RANLIB" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi

  if test "x$ac_ct_RANLIB" = x; then
    RANLIB=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    RANLIB=$ac_ct_RANLIB
  fi
else
  RANLIB="$ac_cv_prog_RANLIB"
fi


    #--------------------------------------------------------------------
    # Determines the correct binary file extension (.o, .obj, .exe etc.)
    #--------------------------------------------------------------------




ac_header= ac_cache=
for ac_item in $ac_header_c_list
do
  if test $ac_cache; then
    ac_fn_c_check_header_compile "$LINENO" $ac_header ac_cv_header_$ac_cache "$ac_includes_default"
    if eval test \"x\$ac_cv_header_$ac_cache\" = xyes; then
      printf "%s\n" "#define $ac_item 1" >> confdefs.h
    fi
    ac_header= ac_cache=
  elif test $ac_header; then
    ac_cache=$ac_item
  else
    ac_header=$ac_item
  fi
done








if test $ac_cv_header_stdlib_h = yes && test $ac_cv_header_string_h = yes
then :

printf "%s\n" "#define STDC_HEADERS 1" >>confdefs.h

fi

    # Any macros that use the compiler (e.g. AC_TRY_COMPILE) have to go here.


    #------------------------------------------------------------------------
    # If we're using GCC, see if the compiler understands -pipe. If so, use it.
    # It makes compiling go faster.  (This is only a performance feature.)
    #------------------------------------------------------------------------

    if test -z "$no_pipe" -a -n "$GCC"; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if the compiler understands -pipe" >&5
printf %s "checking if the compiler understands -pipe... " >&6; }
if test ${tcl_cv_cc_pipe+y}
then :
  printf %s "(cached) " >&6
else $as_nop

	    hold_cflags=$CFLAGS; CFLAGS="$CFLAGS -pipe"
	    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  tcl_cv_cc_pipe=yes
else $as_nop
  tcl_cv_cc_pipe=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
	    CFLAGS=$hold_cflags
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $tcl_cv_cc_pipe" >&5
printf "%s\n" "$tcl_cv_cc_pipe" >&6; }
	if test $tcl_cv_cc_pipe = yes; then
	    CFLAGS="$CFLAGS -pipe"
	fi
    fi

    #--------------------------------------------------------------------
    # Common compiler flag setup
    #--------------------------------------------------------------------

     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether byte ordering is bigendian" >&5
printf %s "checking whether byte ordering is bigendian... " >&6; }
if test ${ac_cv_c_bigendian+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_cv_c_bigendian=unknown
    # See if we're dealing with a universal compiler.
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __APPLE_CC__
	       not a universal capable compiler
	     #endif
	     typedef int dummy;

_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :

	# Check for potential -arch flags.  It is not universal unless
	# there are at least two -arch flags with different values.
	ac_arch=
	ac_prev=
	for ac_word in $CC $CFLAGS $CPPFLAGS $LDFLAGS; do
	 if test -n "$ac_prev"; then
	   case $ac_word in
	     i?86 | x86_64 | ppc | ppc64)
	       if test -z "$ac_arch" || test "$ac_arch" = "$ac_word"; then
		 ac_arch=$ac_word
	       else
		 ac_cv_c_bigendian=universal
		 break
	       fi
	       ;;
	   esac
	   ac_prev=
	 elif test "x$ac_word" = "x-arch"; then
	   ac_prev=arch
	 fi
       done
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
    if test $ac_cv_c_bigendian = unknown; then
      # See if sys/param.h defines the BYTE_ORDER macro.
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/types.h>
	     #include <sys/param.h>

int
main (void)
{
#if ! (defined BYTE_ORDER && defined BIG_ENDIAN \
		     && defined LITTLE_ENDIAN && BYTE_ORDER && BIG_ENDIAN \
		     && LITTLE_ENDIAN)
	      bogus endian macros
	     #endif

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  # It does; now see whether it defined to BIG_ENDIAN or not.
	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/types.h>
		#include <sys/param.h>

int
main (void)
{
#if BYTE_ORDER != BIG_ENDIAN
		 not big endian
		#endif

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  ac_cv_c_bigendian=yes
else $as_nop
  ac_cv_c_bigendian=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
    fi
    if test $ac_cv_c_bigendian = unknown; then
      # See if <limits.h> defines _LITTLE_ENDIAN or _BIG_ENDIAN (e.g., Solaris).
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <limits.h>

int
main (void)
{
#if ! (defined _LITTLE_ENDIAN || defined _BIG_ENDIAN)
	      bogus endian macros
	     #endif

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  # It does; now see whether it defined to _BIG_ENDIAN or not.
	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <limits.h>

int
main (void)
{
#ifndef _BIG_ENDIAN
		 not big endian
		#endif

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  ac_cv_c_bigendian=yes
else $as_nop
  ac_cv_c_bigendian=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
    fi
    if test $ac_cv_c_bigendian = unknown; then
      # Compile a test program.
      if test "$cross_compiling" = yes
then :
  # Try to guess by grepping values from an object file.
	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
unsigned short int ascii_mm[] =
		  { 0x4249, 0x4765, 0x6E44, 0x6961, 0x6E53, 0x7953, 0 };
		unsigned short int ascii_ii[] =
		  { 0x694C, 0x5454, 0x656C, 0x6E45, 0x6944, 0x6E61, 0 };
		int use_ascii (int i) {
		  return ascii_mm[i] + ascii_ii[i];
		}
		unsigned short int ebcdic_ii[] =
		  { 0x89D3, 0xE3E3, 0x8593, 0x95C5, 0x89C4, 0x9581, 0 };
		unsigned short int ebcdic_mm[] =
		  { 0xC2C9, 0xC785, 0x95C4, 0x8981, 0x95E2, 0xA8E2, 0 };
		int use_ebcdic (int i) {
		  return ebcdic_mm[i] + ebcdic_ii[i];
		}
		extern int foo;

int
main (void)
{
return use_ascii (foo) == use_ebcdic (foo);
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  if grep BIGenDianSyS conftest.$ac_objext >/dev/null; then
	      ac_cv_c_bigendian=yes
	    fi
	    if grep LiTTleEnDian conftest.$ac_objext >/dev/null ; then
	      if test "$ac_cv_c_bigendian" = unknown; then
		ac_cv_c_bigendian=no
	      else
		# finding both strings is unlikely to happen, but who knows?
		ac_cv_c_bigendian=unknown
	      fi
	    fi
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$ac_includes_default
int
main (void)
{

	     /* Are we little or big endian?  From Harbison&Steele.  */
	     union
	     {
	       long int l;
	       char c[sizeof (long int)];
	     } u;
	     u.l = 1;
	     return u.c[sizeof (long int) - 1] == 1;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"
then :
  ac_cv_c_bigendian=no
else $as_nop
  ac_cv_c_bigendian=yes
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

    fi
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_bigendian" >&5
printf "%s\n" "$ac_cv_c_bigendian" >&6; }
 case $ac_cv_c_bigendian in #(
   yes)
     printf "%s\n" "#define WORDS_BIGENDIAN 1" >>confdefs.h
;; #(
   no)
      ;; #(
   universal)

printf "%s\n" "#define AC_APPLE_UNIVERSAL_BUILD 1" >>confdefs.h

     ;; #(
   *)
     as_fn_error $? "unknown endianness
 presetting ac_cv_c_bigendian=no (or yes) will help" "$LINENO" 5 ;;
 esac








ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
if test -z "$CXX"; then
  if test -n "$CCC"; then
    CXX=$CCC
  else
    if test -n "$ac_tool_prefix"; then
  for ac_prog in g++ c++ gpp aCC CC cxx cc++ cl.exe FCC KCC RCC xlC_r xlC clang++
  do
    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
set dummy $ac_tool_prefix$ac_prog; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_CXX+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$CXX"; then
  ac_cv_prog_CXX="$CXX" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_CXX="$ac_tool_prefix$ac_prog"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CXX=$ac_cv_prog_CXX
if test -n "$CXX"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $CXX" >&5
printf "%s\n" "$CXX" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


    test -n "$CXX" && break
  done
fi
if test -z "$CXX"; then
  ac_ct_CXX=$CXX
  for ac_prog in g++ c++ gpp aCC CC cxx cc++ cl.exe FCC KCC RCC xlC_r xlC clang++
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_ac_ct_CXX+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$ac_ct_CXX"; then
  ac_cv_prog_ac_ct_CXX="$ac_ct_CXX" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_CXX="$ac_prog"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_CXX=$ac_cv_prog_ac_ct_CXX
if test -n "$ac_ct_CXX"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CXX" >&5
printf "%s\n" "$ac_ct_CXX" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


  test -n "$ac_ct_CXX" && break
done

  if test "x$ac_ct_CXX" = x; then
    CXX="g++"
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    CXX=$ac_ct_CXX
  fi
fi

  fi
fi
# Provide some information about the compiler.
printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for C++ compiler version" >&5
set X $ac_compile
ac_compiler=$2
for ac_option in --version -v -V -qversion; do
  { { ac_try="$ac_compiler $ac_option >&5"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
printf "%s\n" "$ac_try_echo"; } >&5
  (eval "$ac_compiler $ac_option >&5") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    sed '10a\
... rest of stderr output deleted ...
         10q' conftest.err >conftest.er1
    cat conftest.er1 >&5
  fi
  rm -f conftest.er1 conftest.err
  printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
done

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether the compiler supports GNU C++" >&5
printf %s "checking whether the compiler supports GNU C++... " >&6; }
if test ${ac_cv_cxx_compiler_gnu+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
#ifndef __GNUC__
       choke me
#endif

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"
then :
  ac_compiler_gnu=yes
else $as_nop
  ac_compiler_gnu=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
ac_cv_cxx_compiler_gnu=$ac_compiler_gnu

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_cxx_compiler_gnu" >&5
printf "%s\n" "$ac_cv_cxx_compiler_gnu" >&6; }
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

if test $ac_compiler_gnu = yes; then
  GXX=yes
else
  GXX=
fi
ac_test_CXXFLAGS=${CXXFLAGS+y}
ac_save_CXXFLAGS=$CXXFLAGS
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $CXX accepts -g" >&5
printf %s "checking whether $CXX accepts -g... " >&6; }
if test ${ac_cv_prog_cxx_g+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_save_cxx_werror_flag=$ac_cxx_werror_flag
   ac_cxx_werror_flag=yes
   ac_cv_prog_cxx_g=no
   CXXFLAGS="-g"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"
then :
  ac_cv_prog_cxx_g=yes
else $as_nop
  CXXFLAGS=""
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"
then :

else $as_nop
  ac_cxx_werror_flag=$ac_save_cxx_werror_flag
	 CXXFLAGS="-g"
	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"
then :
  ac_cv_prog_cxx_g=yes
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
   ac_cxx_werror_flag=$ac_save_cxx_werror_flag
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cxx_g" >&5
printf "%s\n" "$ac_cv_prog_cxx_g" >&6; }
if test $ac_test_CXXFLAGS; then
  CXXFLAGS=$ac_save_CXXFLAGS
elif test $ac_cv_prog_cxx_g = yes; then
  if test "$GXX" = yes; then
    CXXFLAGS="-g -O2"
  else
    CXXFLAGS="-g"
  fi
else
  if test "$GXX" = yes; then
    CXXFLAGS="-O2"
  else
    CXXFLAGS=
  fi
fi
ac_prog_cxx_stdcxx=no
if test x$ac_prog_cxx_stdcxx = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CXX option to enable C++11 features" >&5
printf %s "checking for $CXX option to enable C++11 features... " >&6; }
if test ${ac_cv_prog_cxx_11+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_cv_prog_cxx_11=no
ac_save_CXX=$CXX
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$ac_cxx_conftest_cxx11_program
_ACEOF
for ac_arg in '' -std=gnu++11 -std=gnu++0x -std=c++11 -std=c++0x -qlanglvl=extended0x -AA
do
  CXX="$ac_save_CXX $ac_arg"
  if ac_fn_cxx_try_compile "$LINENO"
then :
  ac_cv_prog_cxx_cxx11=$ac_arg
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam
  test "x$ac_cv_prog_cxx_cxx11" != "xno" && break
done
rm -f conftest.$ac_ext
CXX=$ac_save_CXX
fi

if test "x$ac_cv_prog_cxx_cxx11" = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
printf "%s\n" "unsupported" >&6; }
else $as_nop
  if test "x$ac_cv_prog_cxx_cxx11" = x
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
printf "%s\n" "none needed" >&6; }
else $as_nop
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cxx_cxx11" >&5
printf "%s\n" "$ac_cv_prog_cxx_cxx11" >&6; }
     CXX="$CXX $ac_cv_prog_cxx_cxx11"
fi
  ac_cv_prog_cxx_stdcxx=$ac_cv_prog_cxx_cxx11
  ac_prog_cxx_stdcxx=cxx11
fi
fi
if test x$ac_prog_cxx_stdcxx = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CXX option to enable C++98 features" >&5
printf %s "checking for $CXX option to enable C++98 features... " >&6; }
if test ${ac_cv_prog_cxx_98+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_cv_prog_cxx_98=no
ac_save_CXX=$CXX
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$ac_cxx_conftest_cxx98_program
_ACEOF
for ac_arg in '' -std=gnu++98 -std=c++98 -qlanglvl=extended -AA
do
  CXX="$ac_save_CXX $ac_arg"
  if ac_fn_cxx_try_compile "$LINENO"
then :
  ac_cv_prog_cxx_cxx98=$ac_arg
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam
  test "x$ac_cv_prog_cxx_cxx98" != "xno" && break
done
rm -f conftest.$ac_ext
CXX=$ac_save_CXX
fi

if test "x$ac_cv_prog_cxx_cxx98" = xno
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
printf "%s\n" "unsupported" >&6; }
else $as_nop
  if test "x$ac_cv_prog_cxx_cxx98" = x
then :
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
printf "%s\n" "none needed" >&6; }
else $as_nop
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cxx_cxx98" >&5
printf "%s\n" "$ac_cv_prog_cxx_cxx98" >&6; }
     CXX="$CXX $ac_cv_prog_cxx_cxx98"
fi
  ac_cv_prog_cxx_stdcxx=$ac_cv_prog_cxx_cxx98
  ac_prog_cxx_stdcxx=cxx98
fi
fi

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


#-----------------------------------------------------------------------
# __CHANGE__
# Specify the C source files to compile in TEA_ADD_SOURCES,
# public headers that need to be installed in TEA_ADD_HEADERS,
# stub library C source files to compile in TEA_ADD_STUB_SOURCES,
# and runtime Tcl library files in TEA_ADD_TCL_SOURCES.
# This defines PKG(_STUB)_SOURCES, PKG(_STUB)_OBJECTS, PKG_HEADERS
# and PKG_TCL_SOURCES.
#-----------------------------------------------------------------------

#TEA_ADD_SOURCES([sample.c tclsample.c])
#TEA_ADD_HEADERS([])

    vars="-I${prefix}/tk8.6/macosx"
    for i in $vars; do
	PKG_INCLUDES="$PKG_INCLUDES $i"
    done


#TEA_ADD_LIBS()
#TEA_ADD_CFLAGS([])
#TEA_ADD_STUB_SOURCES([])
#TEA_ADD_TCL_SOURCES([])

#--------------------------------------------------------------------
# __CHANGE__
#
# You can add more files to clean if your extension creates any extra
# files by extending CLEANFILES.
# Add pkgIndex.tcl if it is generated in the Makefile instead of ./configure
# and change Makefile.in to move it from CONFIG_CLEAN_FILES to BINARIES var.
#
# A few miscellaneous platform-specific items:
# TEA_ADD_* any platform specific compiler/build info here.
#--------------------------------------------------------------------

#CLEANFILES="$CLEANFILES pkgIndex.tcl"
if test "${TEA_PLATFORM}" = "windows" ; then
    # Ensure no empty if clauses
    :
    #TEA_ADD_SOURCES([win/winFile.c])
    #TEA_ADD_INCLUDES([-I\"$(${CYGPATH} ${srcdir}/win)\"])
else
    # Ensure no empty else clauses
    :
    #TEA_ADD_SOURCES([unix/unixFile.c])
    #TEA_ADD_LIBS([-lsuperfly])
fi

#--------------------------------------------------------------------
# __CHANGE__
# Choose which headers you need.  Extension authors should try very
# hard to only rely on the Tcl public header files.  Internal headers
# contain private data structures and are subject to change without
# notice.
# This MUST be called after TEA_LOAD_TCLCONFIG / TEA_LOAD_TKCONFIG
#--------------------------------------------------------------------


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for Tcl public headers" >&5
printf %s "checking for Tcl public headers... " >&6; }


# Check whether --with-tclinclude was given.
if test ${with_tclinclude+y}
then :
  withval=$with_tclinclude; with_tclinclude=${withval}
fi


    if test ${ac_cv_c_tclh+y}
then :
  printf %s "(cached) " >&6
else $as_nop

	# Use the value from --with-tclinclude, if it was given

	if test x"${with_tclinclude}" != x ; then
	    if test -f "${with_tclinclude}/tcl.h" ; then
		ac_cv_c_tclh=${with_tclinclude}
	    else
		as_fn_error $? "${with_tclinclude} directory does not contain tcl.h" "$LINENO" 5
	    fi
	else
	    list=""
	    if test "`uname -s`" = "Darwin"; then
		# If Tcl was built as a framework, attempt to use
		# the framework's Headers directory
		case ${TCL_DEFS} in
		    *TCL_FRAMEWORK*)
			list="`ls -d ${TCL_BIN_DIR}/Headers 2>/dev/null`"
			;;
		esac
	    fi

	    # Look in the source dir only if Tcl is not installed,
	    # and in that situation, look there before installed locations.
	    if test -f "${TCL_BIN_DIR}/Makefile" ; then
		list="$list `ls -d ${TCL_SRC_DIR}/generic 2>/dev/null`"
	    fi

	    # Check order: pkg --prefix location, Tcl's --prefix location,
	    # relative to directory of tclConfig.sh.

	    eval "temp_includedir=${includedir}"
	    list="$list \
		`ls -d ${temp_includedir}        2>/dev/null` \
		`ls -d ${TCL_PREFIX}/include     2>/dev/null` \
		`ls -d ${TCL_BIN_DIR}/../include 2>/dev/null`"
	    if test "${TEA_PLATFORM}" != "windows" -o "$GCC" = "yes"; then
		list="$list /usr/local/include /usr/include"
		if test x"${TCL_INCLUDE_SPEC}" != x ; then
		    d=`echo "${TCL_INCLUDE_SPEC}" | sed -e 's/^-I//'`
		    list="$list `ls -d ${d} 2>/dev/null`"
		fi
	    fi
	    for i in $list ; do
		if test -f "$i/tcl.h" ; then
		    ac_cv_c_tclh=$i
		    break
		fi
	    done
	fi

fi


    # Print a message based on how we determined the include path

    if test x"${ac_cv_c_tclh}" = x ; then
	as_fn_error $? "tcl.h not found.  Please specify its location with --with-tclinclude" "$LINENO" 5
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${ac_cv_c_tclh}" >&5
printf "%s\n" "${ac_cv_c_tclh}" >&6; }
    fi

    # Convert to a native path and substitute into the output files.

    INCLUDE_DIR_NATIVE=`${CYGPATH} ${ac_cv_c_tclh}`

    TCL_INCLUDES=-I\"${INCLUDE_DIR_NATIVE}\"



#TEA_PRIVATE_TCL_HEADERS


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for Tk public headers" >&5
printf %s "checking for Tk public headers... " >&6; }


# Check whether --with-tkinclude was given.
if test ${with_tkinclude+y}
then :
  withval=$with_tkinclude; with_tkinclude=${withval}
fi


    if test ${ac_cv_c_tkh+y}
then :
  printf %s "(cached) " >&6
else $as_nop

	# Use the value from --with-tkinclude, if it was given

	if test x"${with_tkinclude}" != x ; then
	    if test -f "${with_tkinclude}/tk.h" ; then
		ac_cv_c_tkh=${with_tkinclude}
	    else
		as_fn_error $? "${with_tkinclude} directory does not contain tk.h" "$LINENO" 5
	    fi
	else
	    list=""
	    if test "`uname -s`" = "Darwin"; then
		# If Tk was built as a framework, attempt to use
		# the framework's Headers directory.
		case ${TK_DEFS} in
		    *TK_FRAMEWORK*)
			list="`ls -d ${TK_BIN_DIR}/Headers 2>/dev/null`"
			;;
		esac
	    fi

	    # Look in the source dir only if Tk is not installed,
	    # and in that situation, look there before installed locations.
	    if test -f "${TK_BIN_DIR}/Makefile" ; then
		list="$list `ls -d ${TK_SRC_DIR}/generic 2>/dev/null`"
	    fi

	    # Check order: pkg --prefix location, Tk's --prefix location,
	    # relative to directory of tkConfig.sh, Tcl's --prefix location,
	    # relative to directory of tclConfig.sh.

	    eval "temp_includedir=${includedir}"
	    list="$list \
		`ls -d ${temp_includedir}        2>/dev/null` \
		`ls -d ${TK_PREFIX}/include      2>/dev/null` \
		`ls -d ${TK_BIN_DIR}/../include  2>/dev/null` \
		`ls -d ${TCL_PREFIX}/include     2>/dev/null` \
		`ls -d ${TCL_BIN_DIR}/../include 2>/dev/null`"
	    if test "${TEA_PLATFORM}" != "windows" -o "$GCC" = "yes"; then
		list="$list /usr/local/include /usr/include"
		if test x"${TK_INCLUDE_SPEC}" != x ; then
		    d=`echo "${TK_INCLUDE_SPEC}" | sed -e 's/^-I//'`
		    list="$list `ls -d ${d} 2>/dev/null`"
		fi
	    fi
	    for i in $list ; do
		if test -f "$i/tk.h" ; then
		    ac_cv_c_tkh=$i
		    break
		fi
	    done
	fi

fi


    # Print a message based on how we determined the include path

    if test x"${ac_cv_c_tkh}" = x ; then
	as_fn_error $? "tk.h not found.  Please specify its location with --with-tkinclude" "$LINENO" 5
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${ac_cv_c_tkh}" >&5
printf "%s\n" "${ac_cv_c_tkh}" >&6; }
    fi

    # Convert to a native path and substitute into the output files.

    INCLUDE_DIR_NATIVE=`${CYGPATH} ${ac_cv_c_tkh}`

    TK_INCLUDES=-I\"${INCLUDE_DIR_NATIVE}\"



    if test "${TEA_WINDOWINGSYSTEM}" != "x11"; then
	# On Windows and Aqua, we need the X compat headers
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for X11 header files" >&5
printf %s "checking for X11 header files... " >&6; }
	if test ! -r "${INCLUDE_DIR_NATIVE}/X11/Xlib.h"; then
	    INCLUDE_DIR_NATIVE="`${CYGPATH} ${TK_SRC_DIR}/xlib`"
	    TK_XINCLUDES=-I\"${INCLUDE_DIR_NATIVE}\"

	fi
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${INCLUDE_DIR_NATIVE}" >&5
printf "%s\n" "${INCLUDE_DIR_NATIVE}" >&6; }
    fi

#TEA_PRIVATE_TK_HEADERS


    if test "${TEA_WINDOWINGSYSTEM}" = "x11" ; then

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for X" >&5
printf %s "checking for X... " >&6; }


# Check whether --with-x was given.
if test ${with_x+y}
then :
  withval=$with_x;
fi

# $have_x is `yes', `no', `disabled', or empty when we do not yet know.
if test "x$with_x" = xno; then
  # The user explicitly disabled X.
  have_x=disabled
else
  case $x_includes,$x_libraries in #(
    *\'*) as_fn_error $? "cannot use X directory names containing '" "$LINENO" 5;; #(
    *,NONE | NONE,*) if test ${ac_cv_have_x+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  # One or both of the vars are not set, and there is no cached value.
ac_x_includes=no
ac_x_libraries=no
# Do we need to do anything special at all?
ac_save_LIBS=$LIBS
LIBS="-lX11 $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <X11/Xlib.h>
int
main (void)
{
XrmInitialize ()
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  # We can compile and link X programs with no special options.
  ac_x_includes=
  ac_x_libraries=
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
LIBS="$ac_save_LIBS"
# If that didn't work, only try xmkmf and file system searches
# for native compilation.
if test x"$ac_x_includes" = xno && test "$cross_compiling" = no
then :
  rm -f -r conftest.dir
if mkdir conftest.dir; then
  cd conftest.dir
  cat >Imakefile <<'_ACEOF'
incroot:
	@echo incroot='${INCROOT}'
usrlibdir:
	@echo usrlibdir='${USRLIBDIR}'
libdir:
	@echo libdir='${LIBDIR}'
_ACEOF
  if (export CC; ${XMKMF-xmkmf}) >/dev/null 2>/dev/null && test -f Makefile; then
    # GNU make sometimes prints "make[1]: Entering ...", which would confuse us.
    for ac_var in incroot usrlibdir libdir; do
      eval "ac_im_$ac_var=\`\${MAKE-make} $ac_var 2>/dev/null | sed -n 's/^$ac_var=//p'\`"
    done
    # Open Windows xmkmf reportedly sets LIBDIR instead of USRLIBDIR.
    for ac_extension in a so sl dylib la dll; do
      if test ! -f "$ac_im_usrlibdir/libX11.$ac_extension" &&
	 test -f "$ac_im_libdir/libX11.$ac_extension"; then
	ac_im_usrlibdir=$ac_im_libdir; break
      fi
    done
    # Screen out bogus values from the imake configuration.  They are
    # bogus both because they are the default anyway, and because
    # using them would break gcc on systems where it needs fixed includes.
    case $ac_im_incroot in
	/usr/include) ac_x_includes= ;;
	*) test -f "$ac_im_incroot/X11/Xos.h" && ac_x_includes=$ac_im_incroot;;
    esac
    case $ac_im_usrlibdir in
	/usr/lib | /usr/lib64 | /lib | /lib64) ;;
	*) test -d "$ac_im_usrlibdir" && ac_x_libraries=$ac_im_usrlibdir ;;
    esac
  fi
  cd ..
  rm -f -r conftest.dir
fi

  # Standard set of common directories for X headers.
# Check X11 before X11Rn because it is often a symlink to the current release.
ac_x_header_dirs='
/usr/X11/include
/usr/X11R7/include
/usr/X11R6/include
/usr/X11R5/include
/usr/X11R4/include

/usr/include/X11
/usr/include/X11R7
/usr/include/X11R6
/usr/include/X11R5
/usr/include/X11R4

/usr/local/X11/include
/usr/local/X11R7/include
/usr/local/X11R6/include
/usr/local/X11R5/include
/usr/local/X11R4/include

/usr/local/include/X11
/usr/local/include/X11R7
/usr/local/include/X11R6
/usr/local/include/X11R5
/usr/local/include/X11R4

/opt/X11/include

/usr/X386/include
/usr/x386/include
/usr/XFree86/include/X11

/usr/include
/usr/local/include
/usr/unsupported/include
/usr/athena/include
/usr/local/x11r5/include
/usr/lpp/Xamples/include

/usr/openwin/include
/usr/openwin/share/include'

if test "$ac_x_includes" = no; then
  # Guess where to find include files, by looking for Xlib.h.
  # First, try using that file with no special directory specified.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <X11/Xlib.h>
_ACEOF
if ac_fn_c_try_cpp "$LINENO"
then :
  # We can compile using X headers with no special include directory.
ac_x_includes=
else $as_nop
  for ac_dir in $ac_x_header_dirs; do
  if test -r "$ac_dir/X11/Xlib.h"; then
    ac_x_includes=$ac_dir
    break
  fi
done
fi
rm -f conftest.err conftest.i conftest.$ac_ext
fi # $ac_x_includes = no

if test "$ac_x_libraries" = no; then
  # Check for the libraries.
  # See if we find them without any special options.
  # Don't add to $LIBS permanently.
  ac_save_LIBS=$LIBS
  LIBS="-lX11 $LIBS"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <X11/Xlib.h>
int
main (void)
{
XrmInitialize ()
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  LIBS=$ac_save_LIBS
# We can link X programs with no special library path.
ac_x_libraries=
else $as_nop
  LIBS=$ac_save_LIBS
for ac_dir in `printf "%s\n" "$ac_x_includes $ac_x_header_dirs" | sed s/include/lib/g`
do
  # Don't even attempt the hair of trying to link an X program!
  for ac_extension in a so sl dylib la dll; do
    if test -r "$ac_dir/libX11.$ac_extension"; then
      ac_x_libraries=$ac_dir
      break 2
    fi
  done
done
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
fi # $ac_x_libraries = no

fi
# Record the results.
case $ac_x_includes,$ac_x_libraries in #(
  no,* | *,no | *\'*) :
    # Didn't find X, or a directory has "'" in its name.
    ac_cv_have_x="have_x=no" ;; #(
  *) :
    # Record where we found X for the cache.
    ac_cv_have_x="have_x=yes\
	ac_x_includes='$ac_x_includes'\
	ac_x_libraries='$ac_x_libraries'" ;;
esac
fi
;; #(
    *) have_x=yes;;
  esac
  eval "$ac_cv_have_x"
fi # $with_x != no

if test "$have_x" != yes; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $have_x" >&5
printf "%s\n" "$have_x" >&6; }
  no_x=yes
else
  # If each of the values was on the command line, it overrides each guess.
  test "x$x_includes" = xNONE && x_includes=$ac_x_includes
  test "x$x_libraries" = xNONE && x_libraries=$ac_x_libraries
  # Update the cache value to reflect the command line values.
  ac_cv_have_x="have_x=yes\
	ac_x_includes='$x_includes'\
	ac_x_libraries='$x_libraries'"
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: libraries $x_libraries, headers $x_includes" >&5
printf "%s\n" "libraries $x_libraries, headers $x_includes" >&6; }
fi

    not_really_there=""
    if test "$no_x" = ""; then
	if test "$x_includes" = ""; then
	    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <X11/Xlib.h>
_ACEOF
if ac_fn_c_try_cpp "$LINENO"
then :

else $as_nop
  not_really_there="yes"
fi
rm -f conftest.err conftest.i conftest.$ac_ext
	else
	    if test ! -r $x_includes/X11/Xlib.h; then
		not_really_there="yes"
	    fi
	fi
    fi
    if test "$no_x" = "yes" -o "$not_really_there" = "yes"; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for X11 header files" >&5
printf %s "checking for X11 header files... " >&6; }
	found_xincludes="no"
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <X11/Xlib.h>
_ACEOF
if ac_fn_c_try_cpp "$LINENO"
then :
  found_xincludes="yes"
else $as_nop
  found_xincludes="no"
fi
rm -f conftest.err conftest.i conftest.$ac_ext
	if test "$found_xincludes" = "no"; then
	    dirs="/usr/unsupported/include /usr/local/include /usr/X386/include /usr/X11R6/include /usr/X11R5/include /usr/include/X11R5 /usr/include/X11R4 /usr/openwin/include /usr/X11/include /usr/sww/include"
	    for i in $dirs ; do
		if test -r $i/X11/Xlib.h; then
		    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $i" >&5
printf "%s\n" "$i" >&6; }
		    XINCLUDES=" -I$i"
		    found_xincludes="yes"
		    break
		fi
	    done
	fi
    else
	if test "$x_includes" != ""; then
	    XINCLUDES="-I$x_includes"
	    found_xincludes="yes"
	fi
    fi
    if test "$found_xincludes" = "no"; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: couldn't find any!" >&5
printf "%s\n" "couldn't find any!" >&6; }
    fi

    if test "$no_x" = yes; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for X11 libraries" >&5
printf %s "checking for X11 libraries... " >&6; }
	XLIBSW=nope
	dirs="/usr/unsupported/lib /usr/local/lib /usr/X386/lib /usr/X11R6/lib /usr/X11R5/lib /usr/lib/X11R5 /usr/lib/X11R4 /usr/openwin/lib /usr/X11/lib /usr/sww/X11/lib"
	for i in $dirs ; do
	    if test -r $i/libX11.a -o -r $i/libX11.so -o -r $i/libX11.sl -o -r $i/libX11.dylib; then
		{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $i" >&5
printf "%s\n" "$i" >&6; }
		XLIBSW="-L$i -lX11"
		x_libraries="$i"
		break
	    fi
	done
    else
	if test "$x_libraries" = ""; then
	    XLIBSW=-lX11
	else
	    XLIBSW="-L$x_libraries -lX11"
	fi
    fi
    if test "$XLIBSW" = nope ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for XCreateWindow in -lXwindow" >&5
printf %s "checking for XCreateWindow in -lXwindow... " >&6; }
if test ${ac_cv_lib_Xwindow_XCreateWindow+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lXwindow  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
char XCreateWindow ();
int
main (void)
{
return XCreateWindow ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  ac_cv_lib_Xwindow_XCreateWindow=yes
else $as_nop
  ac_cv_lib_Xwindow_XCreateWindow=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_Xwindow_XCreateWindow" >&5
printf "%s\n" "$ac_cv_lib_Xwindow_XCreateWindow" >&6; }
if test "x$ac_cv_lib_Xwindow_XCreateWindow" = xyes
then :
  XLIBSW=-lXwindow
fi

    fi
    if test "$XLIBSW" = nope ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: could not find any!  Using -lX11." >&5
printf "%s\n" "could not find any!  Using -lX11." >&6; }
	XLIBSW=-lX11
    fi
    # TEA specific:
    if test x"${XLIBSW}" != x ; then
	PKG_LIBS="${PKG_LIBS} ${XLIBSW}"
    fi

    fi


#--------------------------------------------------------------------
# Check whether --enable-threads or --disable-threads was given.
# This auto-enables if Tcl was compiled threaded.
#--------------------------------------------------------------------


    # Check whether --enable-threads was given.
if test ${enable_threads+y}
then :
  enableval=$enable_threads; tcl_ok=$enableval
else $as_nop
  tcl_ok=yes
fi


    if test "${enable_threads+set}" = set; then
	enableval="$enable_threads"
	tcl_ok=$enableval
    else
	tcl_ok=yes
    fi

    if test "$tcl_ok" = "yes" -o "${TCL_THREADS}" = 1; then
	TCL_THREADS=1

	if test "${TEA_PLATFORM}" != "windows" ; then
	    # We are always OK on Windows, so check what this platform wants:

	    # USE_THREAD_ALLOC tells us to try the special thread-based
	    # allocator that significantly reduces lock contention

printf "%s\n" "#define USE_THREAD_ALLOC 1" >>confdefs.h


printf "%s\n" "#define _REENTRANT 1" >>confdefs.h

	    if test "`uname -s`" = "SunOS" ; then

printf "%s\n" "#define _POSIX_PTHREAD_SEMANTICS 1" >>confdefs.h

	    fi

printf "%s\n" "#define _THREAD_SAFE 1" >>confdefs.h

	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for pthread_mutex_init in -lpthread" >&5
printf %s "checking for pthread_mutex_init in -lpthread... " >&6; }
if test ${ac_cv_lib_pthread_pthread_mutex_init+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lpthread  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
char pthread_mutex_init ();
int
main (void)
{
return pthread_mutex_init ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  ac_cv_lib_pthread_pthread_mutex_init=yes
else $as_nop
  ac_cv_lib_pthread_pthread_mutex_init=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_pthread_pthread_mutex_init" >&5
printf "%s\n" "$ac_cv_lib_pthread_pthread_mutex_init" >&6; }
if test "x$ac_cv_lib_pthread_pthread_mutex_init" = xyes
then :
  tcl_ok=yes
else $as_nop
  tcl_ok=no
fi

	    if test "$tcl_ok" = "no"; then
		# Check a little harder for __pthread_mutex_init in the same
		# library, as some systems hide it there until pthread.h is
		# defined.  We could alternatively do an AC_TRY_COMPILE with
		# pthread.h, but that will work with libpthread really doesn't
		# exist, like AIX 4.2.  [Bug: 4359]
		{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for __pthread_mutex_init in -lpthread" >&5
printf %s "checking for __pthread_mutex_init in -lpthread... " >&6; }
if test ${ac_cv_lib_pthread___pthread_mutex_init+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lpthread  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
char __pthread_mutex_init ();
int
main (void)
{
return __pthread_mutex_init ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  ac_cv_lib_pthread___pthread_mutex_init=yes
else $as_nop
  ac_cv_lib_pthread___pthread_mutex_init=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_pthread___pthread_mutex_init" >&5
printf "%s\n" "$ac_cv_lib_pthread___pthread_mutex_init" >&6; }
if test "x$ac_cv_lib_pthread___pthread_mutex_init" = xyes
then :
  tcl_ok=yes
else $as_nop
  tcl_ok=no
fi

	    fi

	    if test "$tcl_ok" = "yes"; then
		# The space is needed
		THREADS_LIBS=" -lpthread"
	    else
		{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for pthread_mutex_init in -lpthreads" >&5
printf %s "checking for pthread_mutex_init in -lpthreads... " >&6; }
if test ${ac_cv_lib_pthreads_pthread_mutex_init+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lpthreads  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
char pthread_mutex_init ();
int
main (void)
{
return pthread_mutex_init ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  ac_cv_lib_pthreads_pthread_mutex_init=yes
else $as_nop
  ac_cv_lib_pthreads_pthread_mutex_init=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_pthreads_pthread_mutex_init" >&5
printf "%s\n" "$ac_cv_lib_pthreads_pthread_mutex_init" >&6; }
if test "x$ac_cv_lib_pthreads_pthread_mutex_init" = xyes
then :
  tcl_ok=yes
else $as_nop
  tcl_ok=no
fi

		if test "$tcl_ok" = "yes"; then
		    # The space is needed
		    THREADS_LIBS=" -lpthreads"
		else
		    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for pthread_mutex_init in -lc" >&5
printf %s "checking for pthread_mutex_init in -lc... " >&6; }
if test ${ac_cv_lib_c_pthread_mutex_init+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lc  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
char pthread_mutex_init ();
int
main (void)
{
return pthread_mutex_init ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  ac_cv_lib_c_pthread_mutex_init=yes
else $as_nop
  ac_cv_lib_c_pthread_mutex_init=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_c_pthread_mutex_init" >&5
printf "%s\n" "$ac_cv_lib_c_pthread_mutex_init" >&6; }
if test "x$ac_cv_lib_c_pthread_mutex_init" = xyes
then :
  tcl_ok=yes
else $as_nop
  tcl_ok=no
fi

		    if test "$tcl_ok" = "no"; then
			{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for pthread_mutex_init in -lc_r" >&5
printf %s "checking for pthread_mutex_init in -lc_r... " >&6; }
if test ${ac_cv_lib_c_r_pthread_mutex_init+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lc_r  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
char pthread_mutex_init ();
int
main (void)
{
return pthread_mutex_init ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  ac_cv_lib_c_r_pthread_mutex_init=yes
else $as_nop
  ac_cv_lib_c_r_pthread_mutex_init=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_c_r_pthread_mutex_init" >&5
printf "%s\n" "$ac_cv_lib_c_r_pthread_mutex_init" >&6; }
if test "x$ac_cv_lib_c_r_pthread_mutex_init" = xyes
then :
  tcl_ok=yes
else $as_nop
  tcl_ok=no
fi

			if test "$tcl_ok" = "yes"; then
			    # The space is needed
			    THREADS_LIBS=" -pthread"
			else
			    TCL_THREADS=0
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Do not know how to find pthread lib on your system - thread support disabled" >&5
printf "%s\n" "$as_me: WARNING: Do not know how to find pthread lib on your system - thread support disabled" >&2;}
			fi
		    fi
		fi
	    fi
	fi
    else
	TCL_THREADS=0
    fi
    # Do checking message here to not mess up interleaved configure output
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for building with threads" >&5
printf %s "checking for building with threads... " >&6; }
    if test "${TCL_THREADS}" = 1; then

printf "%s\n" "#define TCL_THREADS 1" >>confdefs.h

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes (default)" >&5
printf "%s\n" "yes (default)" >&6; }
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
    fi
    # TCL_THREADS sanity checking.  See if our request for building with
    # threads is the same as the way Tcl was built.  If not, warn the user.
    case ${TCL_DEFS} in
	*THREADS=1*)
	    if test "${TCL_THREADS}" = "0"; then
		{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING:
    Building ${PACKAGE_NAME} without threads enabled, but building against Tcl
    that IS thread-enabled.  It is recommended to use --enable-threads." >&5
printf "%s\n" "$as_me: WARNING:
    Building ${PACKAGE_NAME} without threads enabled, but building against Tcl
    that IS thread-enabled.  It is recommended to use --enable-threads." >&2;}
	    fi
	    ;;
    esac



#--------------------------------------------------------------------
# The statement below defines a collection of symbols related to
# building as a shared library instead of a static library.
#--------------------------------------------------------------------


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking how to build libraries" >&5
printf %s "checking how to build libraries... " >&6; }
    # Check whether --enable-shared was given.
if test ${enable_shared+y}
then :
  enableval=$enable_shared; shared_ok=$enableval
else $as_nop
  shared_ok=yes
fi


    if test "${enable_shared+set}" = set; then
	enableval="$enable_shared"
	shared_ok=$enableval
    else
	shared_ok=yes
    fi

    # Check whether --enable-stubs was given.
if test ${enable_stubs+y}
then :
  enableval=$enable_stubs; stubs_ok=$enableval
else $as_nop
  stubs_ok=yes
fi


    if test "${enable_stubs+set}" = set; then
	enableval="$enable_stubs"
	stubs_ok=$enableval
    else
	stubs_ok=yes
    fi

    # Stubs are always enabled for shared builds
    if test "$shared_ok" = "yes" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: shared" >&5
printf "%s\n" "shared" >&6; }
	SHARED_BUILD=1
        STUBS_BUILD=1
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: static" >&5
printf "%s\n" "static" >&6; }
	SHARED_BUILD=0

printf "%s\n" "#define STATIC_BUILD 1" >>confdefs.h

        if test "$stubs_ok" = "yes" ; then
          STUBS_BUILD=1
        else
          STUBS_BUILD=0
        fi
    fi
    if test "${STUBS_BUILD}" = "1" ; then

printf "%s\n" "#define USE_TCL_STUBS 1" >>confdefs.h


printf "%s\n" "#define USE_TCLOO_STUBS 1" >>confdefs.h

      if test "${TEA_WINDOWINGSYSTEM}" != ""; then

printf "%s\n" "#define USE_TK_STUBS 1" >>confdefs.h

      fi
    fi





#--------------------------------------------------------------------
# This macro figures out what flags to use with the compiler/linker
# when building shared/static debug/optimized objects.  This information
# can be taken from the tclConfig.sh file, but this figures it all out.
#--------------------------------------------------------------------

if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}ranlib", so it can be a program name with args.
set dummy ${ac_tool_prefix}ranlib; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_RANLIB+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$RANLIB"; then
  ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
RANLIB=$ac_cv_prog_RANLIB
if test -n "$RANLIB"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $RANLIB" >&5
printf "%s\n" "$RANLIB" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


fi
if test -z "$ac_cv_prog_RANLIB"; then
  ac_ct_RANLIB=$RANLIB
  # Extract the first word of "ranlib", so it can be a program name with args.
set dummy ranlib; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_ac_ct_RANLIB+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$ac_ct_RANLIB"; then
  ac_cv_prog_ac_ct_RANLIB="$ac_ct_RANLIB" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_RANLIB="ranlib"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB
if test -n "$ac_ct_RANLIB"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_RANLIB" >&5
printf "%s\n" "$ac_ct_RANLIB" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi

  if test "x$ac_ct_RANLIB" = x; then
    RANLIB=":"
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    RANLIB=$ac_ct_RANLIB
  fi
else
  RANLIB="$ac_cv_prog_RANLIB"
fi




    # Step 0.a: Enable 64 bit support?

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if 64bit support is requested" >&5
printf %s "checking if 64bit support is requested... " >&6; }
    # Check whether --enable-64bit was given.
if test ${enable_64bit+y}
then :
  enableval=$enable_64bit; do64bit=$enableval
else $as_nop
  do64bit=no
fi

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $do64bit" >&5
printf "%s\n" "$do64bit" >&6; }

    # Step 0.b: Enable Solaris 64 bit VIS support?

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if 64bit Sparc VIS support is requested" >&5
printf %s "checking if 64bit Sparc VIS support is requested... " >&6; }
    # Check whether --enable-64bit-vis was given.
if test ${enable_64bit_vis+y}
then :
  enableval=$enable_64bit_vis; do64bitVIS=$enableval
else $as_nop
  do64bitVIS=no
fi

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $do64bitVIS" >&5
printf "%s\n" "$do64bitVIS" >&6; }
    # Force 64bit on with VIS
    if test "$do64bitVIS" = "yes"
then :
  do64bit=yes
fi

    # Step 0.c: Check if visibility support is available. Do this here so
    # that platform specific alternatives can be used below if this fails.

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if compiler supports visibility \"hidden\"" >&5
printf %s "checking if compiler supports visibility \"hidden\"... " >&6; }
if test ${tcl_cv_cc_visibility_hidden+y}
then :
  printf %s "(cached) " >&6
else $as_nop

	hold_cflags=$CFLAGS; CFLAGS="$CFLAGS -Werror"
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

	    extern __attribute__((__visibility__("hidden"))) void f(void);
	    void f(void) {}
int
main (void)
{
f();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  tcl_cv_cc_visibility_hidden=yes
else $as_nop
  tcl_cv_cc_visibility_hidden=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
	CFLAGS=$hold_cflags
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $tcl_cv_cc_visibility_hidden" >&5
printf "%s\n" "$tcl_cv_cc_visibility_hidden" >&6; }
    if test $tcl_cv_cc_visibility_hidden = yes
then :


printf "%s\n" "#define MODULE_SCOPE extern __attribute__((__visibility__(\"hidden\")))" >>confdefs.h


printf "%s\n" "#define HAVE_HIDDEN 1" >>confdefs.h


fi

    # Step 0.d: Disable -rpath support?

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if rpath support is requested" >&5
printf %s "checking if rpath support is requested... " >&6; }
    # Check whether --enable-rpath was given.
if test ${enable_rpath+y}
then :
  enableval=$enable_rpath; doRpath=$enableval
else $as_nop
  doRpath=yes
fi

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $doRpath" >&5
printf "%s\n" "$doRpath" >&6; }

    # TEA specific: Cross-compiling options for Windows/CE builds?

    if test "${TEA_PLATFORM}" = windows
then :

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if Windows/CE build is requested" >&5
printf %s "checking if Windows/CE build is requested... " >&6; }
	# Check whether --enable-wince was given.
if test ${enable_wince+y}
then :
  enableval=$enable_wince; doWince=$enableval
else $as_nop
  doWince=no
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $doWince" >&5
printf "%s\n" "$doWince" >&6; }

fi

    # Set the variable "system" to hold the name and version number
    # for the system.


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking system version" >&5
printf %s "checking system version... " >&6; }
if test ${tcl_cv_sys_version+y}
then :
  printf %s "(cached) " >&6
else $as_nop

	# TEA specific:
	if test "${TEA_PLATFORM}" = "windows" ; then
	    tcl_cv_sys_version=windows
	else
	    tcl_cv_sys_version=`uname -s`-`uname -r`
	    if test "$?" -ne 0 ; then
		{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: can't find uname command" >&5
printf "%s\n" "$as_me: WARNING: can't find uname command" >&2;}
		tcl_cv_sys_version=unknown
	    else
		if test "`uname -s`" = "AIX" ; then
		    tcl_cv_sys_version=AIX-`uname -v`.`uname -r`
		fi
	    fi
	fi

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $tcl_cv_sys_version" >&5
printf "%s\n" "$tcl_cv_sys_version" >&6; }
    system=$tcl_cv_sys_version


    # Require ranlib early so we can override it in special cases below.



    # Set configuration options based on system name and version.
    # This is similar to Tcl's unix/tcl.m4 except that we've added a
    # "windows" case and removed some core-only vars.

    do64bit_ok=no
    # default to '{$LIBS}' and set to "" on per-platform necessary basis
    SHLIB_LD_LIBS='${LIBS}'
    # When ld needs options to work in 64-bit mode, put them in
    # LDFLAGS_ARCH so they eventually end up in LDFLAGS even if [load]
    # is disabled by the user. [Bug 1016796]
    LDFLAGS_ARCH=""
    UNSHARED_LIB_SUFFIX=""
    # TEA specific: use PACKAGE_VERSION instead of VERSION
    TCL_TRIM_DOTS='`echo ${PACKAGE_VERSION} | tr -d .`'
    ECHO_VERSION='`echo ${PACKAGE_VERSION}`'
    TCL_LIB_VERSIONS_OK=ok
    CFLAGS_DEBUG=-g
    if test "$GCC" = yes
then :

	CFLAGS_OPTIMIZE=-O2
	CFLAGS_WARNING="-Wall"

else $as_nop

	CFLAGS_OPTIMIZE=-O
	CFLAGS_WARNING=""

fi
    if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}ar", so it can be a program name with args.
set dummy ${ac_tool_prefix}ar; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_AR+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$AR"; then
  ac_cv_prog_AR="$AR" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_AR="${ac_tool_prefix}ar"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
AR=$ac_cv_prog_AR
if test -n "$AR"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $AR" >&5
printf "%s\n" "$AR" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


fi
if test -z "$ac_cv_prog_AR"; then
  ac_ct_AR=$AR
  # Extract the first word of "ar", so it can be a program name with args.
set dummy ar; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_ac_ct_AR+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$ac_ct_AR"; then
  ac_cv_prog_ac_ct_AR="$ac_ct_AR" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_AR="ar"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_AR=$ac_cv_prog_ac_ct_AR
if test -n "$ac_ct_AR"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_AR" >&5
printf "%s\n" "$ac_ct_AR" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi

  if test "x$ac_ct_AR" = x; then
    AR=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    AR=$ac_ct_AR
  fi
else
  AR="$ac_cv_prog_AR"
fi

    STLIB_LD='${AR} cr'
    LD_LIBRARY_PATH_VAR="LD_LIBRARY_PATH"
    if test "x$SHLIB_VERSION" = x
then :
  SHLIB_VERSION=""
else $as_nop
  SHLIB_VERSION=".$SHLIB_VERSION"
fi
    case $system in
	# TEA specific:
	windows)
	    # This is a 2-stage check to make sure we have the 64-bit SDK
	    # We have to know where the SDK is installed.
	    # This magic is based on MS Platform SDK for Win2003 SP1 - hobbs
	    # MACHINE is IX86 for LINK, but this is used by the manifest,
	    # which requires x86|amd64|ia64.
	    MACHINE="X86"
	    if test "$do64bit" != "no" ; then
		if test "x${MSSDK}x" = "xx" ; then
		    MSSDK="C:/Progra~1/Microsoft Platform SDK"
		fi
		MSSDK=`echo "$MSSDK" | sed -e  's!\\\!/!g'`
		PATH64=""
		case "$do64bit" in
		    amd64|x64|yes)
			MACHINE="AMD64" ; # default to AMD64 64-bit build
			PATH64="${MSSDK}/Bin/Win64/x86/AMD64"
			;;
		    ia64)
			MACHINE="IA64"
			PATH64="${MSSDK}/Bin/Win64"
			;;
		esac
		if test "$GCC" != "yes" -a ! -d "${PATH64}" ; then
		    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Could not find 64-bit $MACHINE SDK to enable 64bit mode" >&5
printf "%s\n" "$as_me: WARNING: Could not find 64-bit $MACHINE SDK to enable 64bit mode" >&2;}
		    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Ensure latest Platform SDK is installed" >&5
printf "%s\n" "$as_me: WARNING: Ensure latest Platform SDK is installed" >&2;}
		    do64bit="no"
		else
		    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result:    Using 64-bit $MACHINE mode" >&5
printf "%s\n" "   Using 64-bit $MACHINE mode" >&6; }
		    do64bit_ok="yes"
		fi
	    fi

	    if test "$doWince" != "no" ; then
		if test "$do64bit" != "no" ; then
		    as_fn_error $? "Windows/CE and 64-bit builds incompatible" "$LINENO" 5
		fi
		if test "$GCC" = "yes" ; then
		    as_fn_error $? "Windows/CE and GCC builds incompatible" "$LINENO" 5
		fi

    # First, look for one uninstalled.
    # the alternative search directory is invoked by --with-celib

    if test x"${no_celib}" = x ; then
	# we reset no_celib in case something fails here
	no_celib=true

# Check whether --with-celib was given.
if test ${with_celib+y}
then :
  withval=$with_celib; with_celibconfig=${withval}
fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for Windows/CE celib directory" >&5
printf %s "checking for Windows/CE celib directory... " >&6; }
	if test ${ac_cv_c_celibconfig+y}
then :
  printf %s "(cached) " >&6
else $as_nop

	    # First check to see if --with-celibconfig was specified.
	    if test x"${with_celibconfig}" != x ; then
		if test -d "${with_celibconfig}/inc" ; then
		    ac_cv_c_celibconfig=`(cd ${with_celibconfig}; pwd)`
		else
		    as_fn_error $? "${with_celibconfig} directory doesn't contain inc directory" "$LINENO" 5
		fi
	    fi

	    # then check for a celib library
	    if test x"${ac_cv_c_celibconfig}" = x ; then
		for i in \
			../celib-palm-3.0 \
			../celib \
			../../celib-palm-3.0 \
			../../celib \
			`ls -dr ../celib-*3.[0-9]* 2>/dev/null` \
			${srcdir}/../celib-palm-3.0 \
			${srcdir}/../celib \
			`ls -dr ${srcdir}/../celib-*3.[0-9]* 2>/dev/null` \
			; do
		    if test -d "$i/inc" ; then
			ac_cv_c_celibconfig=`(cd $i; pwd)`
			break
		    fi
		done
	    fi

fi

	if test x"${ac_cv_c_celibconfig}" = x ; then
	    as_fn_error $? "Cannot find celib support library directory" "$LINENO" 5
	else
	    no_celib=
	    CELIB_DIR=${ac_cv_c_celibconfig}
	    CELIB_DIR=`echo "$CELIB_DIR" | sed -e 's!\\\!/!g'`
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: found $CELIB_DIR" >&5
printf "%s\n" "found $CELIB_DIR" >&6; }
	fi
    fi

		# Set defaults for common evc4/PPC2003 setup
		# Currently Tcl requires 300+, possibly 420+ for sockets
		CEVERSION=420; 		# could be 211 300 301 400 420 ...
		TARGETCPU=ARMV4;	# could be ARMV4 ARM MIPS SH3 X86 ...
		ARCH=ARM;		# could be ARM MIPS X86EM ...
		PLATFORM="Pocket PC 2003"; # or "Pocket PC 2002"
		if test "$doWince" != "yes"; then
		    # If !yes then the user specified something
		    # Reset ARCH to allow user to skip specifying it
		    ARCH=
		    eval `echo $doWince | awk -F, '{ \
	    if (length($1)) { printf "CEVERSION=\"%s\"\n", $1; \
	    if ($1 < 400)   { printf "PLATFORM=\"Pocket PC 2002\"\n" } }; \
	    if (length($2)) { printf "TARGETCPU=\"%s\"\n", toupper($2) }; \
	    if (length($3)) { printf "ARCH=\"%s\"\n", toupper($3) }; \
	    if (length($4)) { printf "PLATFORM=\"%s\"\n", $4 }; \
		    }'`
		    if test "x${ARCH}" = "x" ; then
			ARCH=$TARGETCPU;
		    fi
		fi
		OSVERSION=WCE$CEVERSION;
	    	if test "x${WCEROOT}" = "x" ; then
			WCEROOT="C:/Program Files/Microsoft eMbedded C++ 4.0"
		    if test ! -d "${WCEROOT}" ; then
			WCEROOT="C:/Program Files/Microsoft eMbedded Tools"
		    fi
		fi
		if test "x${SDKROOT}" = "x" ; then
		    SDKROOT="C:/Program Files/Windows CE Tools"
		    if test ! -d "${SDKROOT}" ; then
			SDKROOT="C:/Windows CE Tools"
		    fi
		fi
		WCEROOT=`echo "$WCEROOT" | sed -e 's!\\\!/!g'`
		SDKROOT=`echo "$SDKROOT" | sed -e 's!\\\!/!g'`
		if test ! -d "${SDKROOT}/${OSVERSION}/${PLATFORM}/Lib/${TARGETCPU}" \
		    -o ! -d "${WCEROOT}/EVC/${OSVERSION}/bin"; then
		    as_fn_error $? "could not find PocketPC SDK or target compiler to enable WinCE mode $CEVERSION,$TARGETCPU,$ARCH,$PLATFORM" "$LINENO" 5
		    doWince="no"
		else
		    # We could PATH_NOSPACE these, but that's not important,
		    # as long as we quote them when used.
		    CEINCLUDE="${SDKROOT}/${OSVERSION}/${PLATFORM}/include"
		    if test -d "${CEINCLUDE}/${TARGETCPU}" ; then
			CEINCLUDE="${CEINCLUDE}/${TARGETCPU}"
		    fi
		    CELIBPATH="${SDKROOT}/${OSVERSION}/${PLATFORM}/Lib/${TARGETCPU}"
    		fi
	    fi

	    if test "$GCC" != "yes" ; then
	        if test "${SHARED_BUILD}" = "0" ; then
		    runtime=-MT
	        else
		    runtime=-MD
	        fi
	        case "x`echo \${VisualStudioVersion}`" in
	            x1[4-9]*)
		        lflags="${lflags} -nodefaultlib:libucrt.lib"

    vars="ucrt.lib"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


	            ;;
	            *)
	            ;;
	        esac

                if test "$do64bit" != "no" ; then
		    # All this magic is necessary for the Win64 SDK RC1 - hobbs
		    CC="\"${PATH64}/cl.exe\""
		    CFLAGS="${CFLAGS} -I\"${MSSDK}/Include\" -I\"${MSSDK}/Include/crt\" -I\"${MSSDK}/Include/crt/sys\""
		    RC="\"${MSSDK}/bin/rc.exe\""
		    lflags="${lflags} -nologo -MACHINE:${MACHINE} -LIBPATH:\"${MSSDK}/Lib/${MACHINE}\""
		    LINKBIN="\"${PATH64}/link.exe\""
		    CFLAGS_DEBUG="-nologo -Zi -Od -W3 ${runtime}d"
		    CFLAGS_OPTIMIZE="-nologo -O2 -W2 ${runtime}"
		    # Avoid 'unresolved external symbol __security_cookie'
		    # errors, c.f. http://support.microsoft.com/?id=894573

    vars="bufferoverflowU.lib"
    for i in $vars; do
	if test "${TEA_PLATFORM}" = "windows" -a "$GCC" = "yes" ; then
	    # Convert foo.lib to -lfoo for GCC.  No-op if not *.lib
	    i=`echo "$i" | sed -e 's/^\([^-].*\)\.lib$/-l\1/i'`
	fi
	PKG_LIBS="$PKG_LIBS $i"
    done


		elif test "$doWince" != "no" ; then
		    CEBINROOT="${WCEROOT}/EVC/${OSVERSION}/bin"
		    if test "${TARGETCPU}" = "X86"; then
			CC="\"${CEBINROOT}/cl.exe\""
		    else
			CC="\"${CEBINROOT}/cl${ARCH}.exe\""
		    fi
		    CFLAGS="$CFLAGS -I\"${CELIB_DIR}/inc\" -I\"${CEINCLUDE}\""
		    RC="\"${WCEROOT}/Common/EVC/bin/rc.exe\""
		    arch=`echo ${ARCH} | awk '{print tolower($0)}'`
		    defs="${ARCH} _${ARCH}_ ${arch} PALM_SIZE _MT _WINDOWS"
		    if test "${SHARED_BUILD}" = "1" ; then
			# Static CE builds require static celib as well
		    	defs="${defs} _DLL"
		    fi
		    for i in $defs ; do

printf "%s\n" "#define $i 1" >>confdefs.h

		    done

printf "%s\n" "#define _WIN32_WCE $CEVERSION" >>confdefs.h


printf "%s\n" "#define UNDER_CE $CEVERSION" >>confdefs.h

		    CFLAGS_DEBUG="-nologo -Zi -Od"
		    CFLAGS_OPTIMIZE="-nologo -Ox"
		    lversion=`echo ${CEVERSION} | sed -e 's/\(.\)\(..\)/\1\.\2/'`
		    lflags="${lflags} -MACHINE:${ARCH} -LIBPATH:\"${CELIBPATH}\" -subsystem:windowsce,${lversion} -nologo"
		    LINKBIN="\"${CEBINROOT}/link.exe\""

		else
		    RC="rc"
		    lflags="${lflags} -nologo"
		    LINKBIN="link"
		    CFLAGS_DEBUG="-nologo -Z7 -Od -W3 -WX ${runtime}d"
		    CFLAGS_OPTIMIZE="-nologo -O2 -W2 ${runtime}"
		fi
	    fi

	    if test "$GCC" = "yes"; then
		# mingw gcc mode
		if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}windres", so it can be a program name with args.
set dummy ${ac_tool_prefix}windres; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_RC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$RC"; then
  ac_cv_prog_RC="$RC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_RC="${ac_tool_prefix}windres"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
RC=$ac_cv_prog_RC
if test -n "$RC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $RC" >&5
printf "%s\n" "$RC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi


fi
if test -z "$ac_cv_prog_RC"; then
  ac_ct_RC=$RC
  # Extract the first word of "windres", so it can be a program name with args.
set dummy windres; ac_word=$2
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
printf %s "checking for $ac_word... " >&6; }
if test ${ac_cv_prog_ac_ct_RC+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -n "$ac_ct_RC"; then
  ac_cv_prog_ac_ct_RC="$ac_ct_RC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_RC="windres"
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_RC=$ac_cv_prog_ac_ct_RC
if test -n "$ac_ct_RC"; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_RC" >&5
printf "%s\n" "$ac_ct_RC" >&6; }
else
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
fi

  if test "x$ac_ct_RC" = x; then
    RC=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    RC=$ac_ct_RC
  fi
else
  RC="$ac_cv_prog_RC"
fi

		CFLAGS_DEBUG="-g"
		CFLAGS_OPTIMIZE="-O2 -fomit-frame-pointer"
		SHLIB_LD='${CC} -shared'
		UNSHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.a'
		LDFLAGS_CONSOLE="-wl,--subsystem,console ${lflags}"
		LDFLAGS_WINDOW="-wl,--subsystem,windows ${lflags}"

		{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for cross-compile version of gcc" >&5
printf %s "checking for cross-compile version of gcc... " >&6; }
if test ${ac_cv_cross+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

			    #ifdef _WIN32
				#error cross-compiler
			    #endif

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  ac_cv_cross=yes
else $as_nop
  ac_cv_cross=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_cross" >&5
printf "%s\n" "$ac_cv_cross" >&6; }
		      if test "$ac_cv_cross" = "yes"; then
			case "$do64bit" in
			    amd64|x64|yes)
				CC="x86_64-w64-mingw32-gcc"
				LD="x86_64-w64-mingw32-ld"
				AR="x86_64-w64-mingw32-ar"
				RANLIB="x86_64-w64-mingw32-ranlib"
				RC="x86_64-w64-mingw32-windres"
			    ;;
			    *)
				CC="i686-w64-mingw32-gcc"
				LD="i686-w64-mingw32-ld"
				AR="i686-w64-mingw32-ar"
				RANLIB="i686-w64-mingw32-ranlib"
				RC="i686-w64-mingw32-windres"
			    ;;
			esac
		fi

	    else
		SHLIB_LD="${LINKBIN} -dll ${lflags}"
		# link -lib only works when -lib is the first arg
		STLIB_LD="${LINKBIN} -lib ${lflags}"
		UNSHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.lib'
		PATHTYPE=-w
		# For information on what debugtype is most useful, see:
		# http://msdn.microsoft.com/library/en-us/dnvc60/html/gendepdebug.asp
		# and also
		# http://msdn2.microsoft.com/en-us/library/y0zzbyt4%28VS.80%29.aspx
		# This essentially turns it all on.
		LDFLAGS_DEBUG="-debug -debugtype:cv"
		LDFLAGS_OPTIMIZE="-release"
		if test "$doWince" != "no" ; then
		    LDFLAGS_CONSOLE="-link ${lflags}"
		    LDFLAGS_WINDOW=${LDFLAGS_CONSOLE}
		else
		    LDFLAGS_CONSOLE="-link -subsystem:console ${lflags}"
		    LDFLAGS_WINDOW="-link -subsystem:windows ${lflags}"
		fi
	    fi

	    SHLIB_SUFFIX=".dll"
	    SHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.dll'

	    TCL_LIB_VERSIONS_OK=nodots
    	    ;;
	AIX-*)
	    if test "${TCL_THREADS}" = "1" -a "$GCC" != "yes"
then :

		# AIX requires the _r compiler when gcc isn't being used
		case "${CC}" in
		    *_r|*_r\ *)
			# ok ...
			;;
		    *)
			# Make sure only first arg gets _r
		    	CC=`echo "$CC" | sed -e 's/^\([^ ]*\)/\1_r/'`
			;;
		esac
		{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: Using $CC for compiling with threads" >&5
printf "%s\n" "Using $CC for compiling with threads" >&6; }

fi
	    LIBS="$LIBS -lc"
	    SHLIB_CFLAGS=""
	    SHLIB_SUFFIX=".so"

	    LD_LIBRARY_PATH_VAR="LIBPATH"

	    # Check to enable 64-bit flags for compiler/linker
	    if test "$do64bit" = yes
then :

		if test "$GCC" = yes
then :

		    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: 64bit mode not supported with GCC on $system" >&5
printf "%s\n" "$as_me: WARNING: 64bit mode not supported with GCC on $system" >&2;}

else $as_nop

		    do64bit_ok=yes
		    CFLAGS="$CFLAGS -q64"
		    LDFLAGS_ARCH="-q64"
		    RANLIB="${RANLIB} -X64"
		    AR="${AR} -X64"
		    SHLIB_LD_FLAGS="-b64"

fi

fi

	    if test "`uname -m`" = ia64
then :

		# AIX-5 uses ELF style dynamic libraries on IA-64, but not PPC
		SHLIB_LD="/usr/ccs/bin/ld -G -z text"
		if test "$GCC" = yes
then :

		    CC_SEARCH_FLAGS='-Wl,-R,${LIB_RUNTIME_DIR}'

else $as_nop

		    CC_SEARCH_FLAGS='-R${LIB_RUNTIME_DIR}'

fi
		LD_SEARCH_FLAGS='-R ${LIB_RUNTIME_DIR}'

else $as_nop

		if test "$GCC" = yes
then :

		    SHLIB_LD='${CC} -shared -Wl,-bexpall'

else $as_nop

		    SHLIB_LD="/bin/ld -bhalt:4 -bM:SRE -bexpall -H512 -T512 -bnoentry"
		    LDFLAGS="$LDFLAGS -brtl"

fi
		SHLIB_LD="${SHLIB_LD} ${SHLIB_LD_FLAGS}"
		CC_SEARCH_FLAGS='-L${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}

fi
	    ;;
	BeOS*)
	    SHLIB_CFLAGS="-fPIC"
	    SHLIB_LD='${CC} -nostart'
	    SHLIB_SUFFIX=".so"

	    #-----------------------------------------------------------
	    # Check for inet_ntoa in -lbind, for BeOS (which also needs
	    # -lsocket, even if the network functions are in -lnet which
	    # is always linked to, for compatibility.
	    #-----------------------------------------------------------
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for inet_ntoa in -lbind" >&5
printf %s "checking for inet_ntoa in -lbind... " >&6; }
if test ${ac_cv_lib_bind_inet_ntoa+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lbind  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
char inet_ntoa ();
int
main (void)
{
return inet_ntoa ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  ac_cv_lib_bind_inet_ntoa=yes
else $as_nop
  ac_cv_lib_bind_inet_ntoa=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_bind_inet_ntoa" >&5
printf "%s\n" "$ac_cv_lib_bind_inet_ntoa" >&6; }
if test "x$ac_cv_lib_bind_inet_ntoa" = xyes
then :
  LIBS="$LIBS -lbind -lsocket"
fi

	    ;;
	BSD/OS-4.*)
	    SHLIB_CFLAGS="-export-dynamic -fPIC"
	    SHLIB_LD='${CC} -shared'
	    SHLIB_SUFFIX=".so"
	    LDFLAGS="$LDFLAGS -export-dynamic"
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    ;;
	CYGWIN_*)
	    SHLIB_CFLAGS=""
	    SHLIB_LD='${CC} -shared'
	    SHLIB_LD_LIBS="${SHLIB_LD_LIBS} -Wl,--out-implib,\$@.a"
	    SHLIB_SUFFIX=".dll"
	    EXEEXT=".exe"
	    do64bit_ok=yes
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    ;;
	Haiku*)
	    LDFLAGS="$LDFLAGS -Wl,--export-dynamic"
	    SHLIB_CFLAGS="-fPIC"
	    SHLIB_SUFFIX=".so"
	    SHLIB_LD='${CC} ${CFLAGS} ${LDFLAGS} -shared'
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for inet_ntoa in -lnetwork" >&5
printf %s "checking for inet_ntoa in -lnetwork... " >&6; }
if test ${ac_cv_lib_network_inet_ntoa+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lnetwork  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
char inet_ntoa ();
int
main (void)
{
return inet_ntoa ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  ac_cv_lib_network_inet_ntoa=yes
else $as_nop
  ac_cv_lib_network_inet_ntoa=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_network_inet_ntoa" >&5
printf "%s\n" "$ac_cv_lib_network_inet_ntoa" >&6; }
if test "x$ac_cv_lib_network_inet_ntoa" = xyes
then :
  LIBS="$LIBS -lnetwork"
fi

	    ;;
	HP-UX-*.11.*)
	    # Use updated header definitions where possible

printf "%s\n" "#define _XOPEN_SOURCE_EXTENDED 1" >>confdefs.h

	    # TEA specific: Needed by Tcl, but not most extensions
	    #AC_DEFINE(_XOPEN_SOURCE, 1, [Do we want to use the XOPEN network library?])
	    #LIBS="$LIBS -lxnet"               # Use the XOPEN network library

	    if test "`uname -m`" = ia64
then :

		SHLIB_SUFFIX=".so"
		# Use newer C++ library for C++ extensions
		#if test "$GCC" != "yes" ; then
		#   CPPFLAGS="-AA"
		#fi

else $as_nop

		SHLIB_SUFFIX=".sl"

fi
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for shl_load in -ldld" >&5
printf %s "checking for shl_load in -ldld... " >&6; }
if test ${ac_cv_lib_dld_shl_load+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  ac_check_lib_save_LIBS=$LIBS
LIBS="-ldld  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
char shl_load ();
int
main (void)
{
return shl_load ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  ac_cv_lib_dld_shl_load=yes
else $as_nop
  ac_cv_lib_dld_shl_load=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dld_shl_load" >&5
printf "%s\n" "$ac_cv_lib_dld_shl_load" >&6; }
if test "x$ac_cv_lib_dld_shl_load" = xyes
then :
  tcl_ok=yes
else $as_nop
  tcl_ok=no
fi

	    if test "$tcl_ok" = yes
then :

		LDFLAGS="$LDFLAGS -Wl,-E"
		CC_SEARCH_FLAGS='-Wl,+s,+b,${LIB_RUNTIME_DIR}:.'
		LD_SEARCH_FLAGS='+s +b ${LIB_RUNTIME_DIR}:.'
		LD_LIBRARY_PATH_VAR="SHLIB_PATH"

fi
	    if test "$GCC" = yes
then :

		SHLIB_LD='${CC} -shared'
		LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}

else $as_nop

		CFLAGS="$CFLAGS -z"
		# Users may want PA-RISC 1.1/2.0 portable code - needs HP cc
		#CFLAGS="$CFLAGS +DAportable"
		SHLIB_CFLAGS="+z"
		SHLIB_LD="ld -b"

fi

	    # Check to enable 64-bit flags for compiler/linker
	    if test "$do64bit" = "yes"
then :

		if test "$GCC" = yes
then :

		    case `${CC} -dumpmachine` in
			hppa64*)
			    # 64-bit gcc in use.  Fix flags for GNU ld.
			    do64bit_ok=yes
			    SHLIB_LD='${CC} -shared'
			    if test $doRpath = yes
then :

				CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
fi
			    LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}
			    ;;
			*)
			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: 64bit mode not supported with GCC on $system" >&5
printf "%s\n" "$as_me: WARNING: 64bit mode not supported with GCC on $system" >&2;}
			    ;;
		    esac

else $as_nop

		    do64bit_ok=yes
		    CFLAGS="$CFLAGS +DD64"
		    LDFLAGS_ARCH="+DD64"

fi

fi ;;
	IRIX-6.*)
	    SHLIB_CFLAGS=""
	    SHLIB_LD="ld -n32 -shared -rdata_shared"
	    SHLIB_SUFFIX=".so"
	    if test $doRpath = yes
then :

		CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS='-rpath ${LIB_RUNTIME_DIR}'
fi
	    if test "$GCC" = yes
then :

		CFLAGS="$CFLAGS -mabi=n32"
		LDFLAGS="$LDFLAGS -mabi=n32"

else $as_nop

		case $system in
		    IRIX-6.3)
			# Use to build 6.2 compatible binaries on 6.3.
			CFLAGS="$CFLAGS -n32 -D_OLD_TERMIOS"
			;;
		    *)
			CFLAGS="$CFLAGS -n32"
			;;
		esac
		LDFLAGS="$LDFLAGS -n32"

fi
	    ;;
	IRIX64-6.*)
	    SHLIB_CFLAGS=""
	    SHLIB_LD="ld -n32 -shared -rdata_shared"
	    SHLIB_SUFFIX=".so"
	    if test $doRpath = yes
then :

		CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS='-rpath ${LIB_RUNTIME_DIR}'
fi

	    # Check to enable 64-bit flags for compiler/linker

	    if test "$do64bit" = yes
then :

	        if test "$GCC" = yes
then :

	            { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: 64bit mode not supported by gcc" >&5
printf "%s\n" "$as_me: WARNING: 64bit mode not supported by gcc" >&2;}

else $as_nop

	            do64bit_ok=yes
	            SHLIB_LD="ld -64 -shared -rdata_shared"
	            CFLAGS="$CFLAGS -64"
	            LDFLAGS_ARCH="-64"

fi

fi
	    ;;
	Linux*|GNU*|NetBSD-Debian)
	    SHLIB_CFLAGS="-fPIC"
	    SHLIB_SUFFIX=".so"

	    # TEA specific:
	    CFLAGS_OPTIMIZE="-O2 -fomit-frame-pointer"

	    # TEA specific: use LDFLAGS_DEFAULT instead of LDFLAGS
	    SHLIB_LD='${CC} ${CFLAGS} ${LDFLAGS_DEFAULT} -shared'
	    LDFLAGS="$LDFLAGS -Wl,--export-dynamic"
	    if test $doRpath = yes
then :

		CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
fi
	    LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}
	    if test "`uname -m`" = "alpha"
then :
  CFLAGS="$CFLAGS -mieee"
fi
	    if test $do64bit = yes
then :

		{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if compiler accepts -m64 flag" >&5
printf %s "checking if compiler accepts -m64 flag... " >&6; }
if test ${tcl_cv_cc_m64+y}
then :
  printf %s "(cached) " >&6
else $as_nop

		    hold_cflags=$CFLAGS
		    CFLAGS="$CFLAGS -m64"
		    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  tcl_cv_cc_m64=yes
else $as_nop
  tcl_cv_cc_m64=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
		    CFLAGS=$hold_cflags
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $tcl_cv_cc_m64" >&5
printf "%s\n" "$tcl_cv_cc_m64" >&6; }
		if test $tcl_cv_cc_m64 = yes
then :

		    CFLAGS="$CFLAGS -m64"
		    do64bit_ok=yes

fi

fi

	    # The combo of gcc + glibc has a bug related to inlining of
	    # functions like strtod(). The -fno-builtin flag should address
	    # this problem but it does not work. The -fno-inline flag is kind
	    # of overkill but it works. Disable inlining only when one of the
	    # files in compat/*.c is being linked in.

	    if test x"${USE_COMPAT}" != x
then :
  CFLAGS="$CFLAGS -fno-inline"
fi
	    ;;
	Lynx*)
	    SHLIB_CFLAGS="-fPIC"
	    SHLIB_SUFFIX=".so"
	    CFLAGS_OPTIMIZE=-02
	    SHLIB_LD='${CC} -shared'
	    LD_FLAGS="-Wl,--export-dynamic"
	    if test $doRpath = yes
then :

		CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
fi
	    ;;
	OpenBSD-*)
	    arch=`arch -s`
	    case "$arch" in
	    alpha|sparc64)
		SHLIB_CFLAGS="-fPIC"
		;;
	    *)
		SHLIB_CFLAGS="-fpic"
		;;
	    esac
	    SHLIB_LD='${CC} ${SHLIB_CFLAGS} -shared'
	    SHLIB_SUFFIX=".so"
	    if test $doRpath = yes
then :

		CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
fi
	    LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}
	    SHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.so${SHLIB_VERSION}'
	    LDFLAGS="-Wl,-export-dynamic"
	    CFLAGS_OPTIMIZE="-O2"
	    if test "${TCL_THREADS}" = "1"
then :

		# On OpenBSD:	Compile with -pthread
		#		Don't link with -lpthread
		LIBS=`echo $LIBS | sed s/-lpthread//`
		CFLAGS="$CFLAGS -pthread"

fi
	    # OpenBSD doesn't do version numbers with dots.
	    UNSHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.a'
	    TCL_LIB_VERSIONS_OK=nodots
	    ;;
	NetBSD-*)
	    # NetBSD has ELF and can use 'cc -shared' to build shared libs
	    SHLIB_CFLAGS="-fPIC"
	    SHLIB_LD='${CC} ${SHLIB_CFLAGS} -shared'
	    SHLIB_SUFFIX=".so"
	    LDFLAGS="$LDFLAGS -export-dynamic"
	    if test $doRpath = yes
then :

		CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
fi
	    LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}
	    if test "${TCL_THREADS}" = "1"
then :

		# The -pthread needs to go in the CFLAGS, not LIBS
		LIBS=`echo $LIBS | sed s/-pthread//`
		CFLAGS="$CFLAGS -pthread"
	    	LDFLAGS="$LDFLAGS -pthread"

fi
	    ;;
	DragonFly-*|FreeBSD-*)
	    # This configuration from FreeBSD Ports.
	    SHLIB_CFLAGS="-fPIC"
	    SHLIB_LD="${CC} -shared"
	    SHLIB_LD_LIBS="${SHLIB_LD_LIBS} -Wl,-soname,\$@"
	    SHLIB_SUFFIX=".so"
	    LDFLAGS=""
	    if test $doRpath = yes
then :

		CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
fi
	    if test "${TCL_THREADS}" = "1"
then :

		# The -pthread needs to go in the LDFLAGS, not LIBS
		LIBS=`echo $LIBS | sed s/-pthread//`
		CFLAGS="$CFLAGS $PTHREAD_CFLAGS"
		LDFLAGS="$LDFLAGS $PTHREAD_LIBS"
fi
	    case $system in
	    FreeBSD-3.*)
		# Version numbers are dot-stripped by system policy.
		TCL_TRIM_DOTS=`echo ${PACKAGE_VERSION} | tr -d .`
		UNSHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}.a'
		SHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}\$\{DBGX\}.so.1'
		TCL_LIB_VERSIONS_OK=nodots
		;;
	    esac
	    ;;
	Darwin-*)
	    CFLAGS_OPTIMIZE="-Os"
	    SHLIB_CFLAGS="-fno-common"
	    # To avoid discrepancies between what headers configure sees during
	    # preprocessing tests and compiling tests, move any -isysroot and
	    # -mmacosx-version-min flags from CFLAGS to CPPFLAGS:
	    CPPFLAGS="${CPPFLAGS} `echo " ${CFLAGS}" | \
		awk 'BEGIN {FS=" +-";ORS=" "}; {for (i=2;i<=NF;i++) \
		if ($i~/^(isysroot|mmacosx-version-min)/) print "-"$i}'`"
	    CFLAGS="`echo " ${CFLAGS}" | \
		awk 'BEGIN {FS=" +-";ORS=" "}; {for (i=2;i<=NF;i++) \
		if (!($i~/^(isysroot|mmacosx-version-min)/)) print "-"$i}'`"
	    if test $do64bit = yes
then :

		case `arch` in
		    ppc)
			{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if compiler accepts -arch ppc64 flag" >&5
printf %s "checking if compiler accepts -arch ppc64 flag... " >&6; }
if test ${tcl_cv_cc_arch_ppc64+y}
then :
  printf %s "(cached) " >&6
else $as_nop

			    hold_cflags=$CFLAGS
			    CFLAGS="$CFLAGS -arch ppc64 -mpowerpc64 -mcpu=G5"
			    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  tcl_cv_cc_arch_ppc64=yes
else $as_nop
  tcl_cv_cc_arch_ppc64=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
			    CFLAGS=$hold_cflags
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $tcl_cv_cc_arch_ppc64" >&5
printf "%s\n" "$tcl_cv_cc_arch_ppc64" >&6; }
			if test $tcl_cv_cc_arch_ppc64 = yes
then :

			    CFLAGS="$CFLAGS -arch ppc64 -mpowerpc64 -mcpu=G5"
			    do64bit_ok=yes

fi;;
		    i386)
			{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if compiler accepts -arch x86_64 flag" >&5
printf %s "checking if compiler accepts -arch x86_64 flag... " >&6; }
if test ${tcl_cv_cc_arch_x86_64+y}
then :
  printf %s "(cached) " >&6
else $as_nop

			    hold_cflags=$CFLAGS
			    CFLAGS="$CFLAGS -arch x86_64"
			    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  tcl_cv_cc_arch_x86_64=yes
else $as_nop
  tcl_cv_cc_arch_x86_64=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
			    CFLAGS=$hold_cflags
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $tcl_cv_cc_arch_x86_64" >&5
printf "%s\n" "$tcl_cv_cc_arch_x86_64" >&6; }
			if test $tcl_cv_cc_arch_x86_64 = yes
then :

			    CFLAGS="$CFLAGS -arch x86_64"
			    do64bit_ok=yes

fi;;
		    *)
			{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: Don't know how enable 64-bit on architecture \`arch\`" >&5
printf "%s\n" "$as_me: WARNING: Don't know how enable 64-bit on architecture \`arch\`" >&2;};;
		esac

else $as_nop

		# Check for combined 32-bit and 64-bit fat build
		if echo "$CFLAGS " |grep -E -q -- '-arch (ppc64|x86_64) ' \
		    && echo "$CFLAGS " |grep -E -q -- '-arch (ppc|i386) '
then :

		    fat_32_64=yes
fi

fi
	    # TEA specific: use LDFLAGS_DEFAULT instead of LDFLAGS
	    SHLIB_LD='${CC} -dynamiclib ${CFLAGS} ${LDFLAGS_DEFAULT}'
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if ld accepts -single_module flag" >&5
printf %s "checking if ld accepts -single_module flag... " >&6; }
if test ${tcl_cv_ld_single_module+y}
then :
  printf %s "(cached) " >&6
else $as_nop

		hold_ldflags=$LDFLAGS
		LDFLAGS="$LDFLAGS -dynamiclib -Wl,-single_module"
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
int i;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  tcl_cv_ld_single_module=yes
else $as_nop
  tcl_cv_ld_single_module=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
		LDFLAGS=$hold_ldflags
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $tcl_cv_ld_single_module" >&5
printf "%s\n" "$tcl_cv_ld_single_module" >&6; }
	    if test $tcl_cv_ld_single_module = yes
then :

		SHLIB_LD="${SHLIB_LD} -Wl,-single_module"

fi
	    # TEA specific: link shlib with current and compatibility version flags
	    vers=`echo ${PACKAGE_VERSION} | sed -e 's/^\([0-9]\{1,5\}\)\(\(\.[0-9]\{1,3\}\)\{0,2\}\).*$/\1\2/p' -e d`
	    SHLIB_LD="${SHLIB_LD} -current_version ${vers:-0} -compatibility_version ${vers:-0}"
	    SHLIB_SUFFIX=".dylib"
	    # Don't use -prebind when building for Mac OS X 10.4 or later only:
	    if test "`echo "${MACOSX_DEPLOYMENT_TARGET}" | awk -F '10\\.' '{print int($2)}'`" -lt 4 -a \
		"`echo "${CPPFLAGS}" | awk -F '-mmacosx-version-min=10\\.' '{print int($2)}'`" -lt 4
then :

		LDFLAGS="$LDFLAGS -prebind"
fi
	    LDFLAGS="$LDFLAGS -headerpad_max_install_names"
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if ld accepts -search_paths_first flag" >&5
printf %s "checking if ld accepts -search_paths_first flag... " >&6; }
if test ${tcl_cv_ld_search_paths_first+y}
then :
  printf %s "(cached) " >&6
else $as_nop

		hold_ldflags=$LDFLAGS
		LDFLAGS="$LDFLAGS -Wl,-search_paths_first"
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
int i;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  tcl_cv_ld_search_paths_first=yes
else $as_nop
  tcl_cv_ld_search_paths_first=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
		LDFLAGS=$hold_ldflags
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $tcl_cv_ld_search_paths_first" >&5
printf "%s\n" "$tcl_cv_ld_search_paths_first" >&6; }
	    if test $tcl_cv_ld_search_paths_first = yes
then :

		LDFLAGS="$LDFLAGS -Wl,-search_paths_first"

fi
	    if test "$tcl_cv_cc_visibility_hidden" != yes
then :


printf "%s\n" "#define MODULE_SCOPE __private_extern__" >>confdefs.h

		tcl_cv_cc_visibility_hidden=yes

fi
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    LD_LIBRARY_PATH_VAR="DYLD_LIBRARY_PATH"
	    # TEA specific: for combined 32 & 64 bit fat builds of Tk
	    # extensions, verify that 64-bit build is possible.
	    if test "$fat_32_64" = yes && test -n "${TK_BIN_DIR}"
then :

		if test "${TEA_WINDOWINGSYSTEM}" = x11
then :

		    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for 64-bit X11" >&5
printf %s "checking for 64-bit X11... " >&6; }
if test ${tcl_cv_lib_x11_64+y}
then :
  printf %s "(cached) " >&6
else $as_nop

			for v in CFLAGS CPPFLAGS LDFLAGS; do
			    eval 'hold_'$v'="$'$v'";'$v'="`echo "$'$v' "|sed -e "s/-arch ppc / /g" -e "s/-arch i386 / /g"`"'
			done
			CPPFLAGS="$CPPFLAGS -I/usr/X11R6/include"
			LDFLAGS="$LDFLAGS -L/usr/X11R6/lib -lX11"
			cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <X11/Xlib.h>
int
main (void)
{
XrmInitialize();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  tcl_cv_lib_x11_64=yes
else $as_nop
  tcl_cv_lib_x11_64=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
			for v in CFLAGS CPPFLAGS LDFLAGS; do
			    eval $v'="$hold_'$v'"'
			done
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $tcl_cv_lib_x11_64" >&5
printf "%s\n" "$tcl_cv_lib_x11_64" >&6; }

fi
		if test "${TEA_WINDOWINGSYSTEM}" = aqua
then :

		    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for 64-bit Tk" >&5
printf %s "checking for 64-bit Tk... " >&6; }
if test ${tcl_cv_lib_tk_64+y}
then :
  printf %s "(cached) " >&6
else $as_nop

			for v in CFLAGS CPPFLAGS LDFLAGS; do
			    eval 'hold_'$v'="$'$v'";'$v'="`echo "$'$v' "|sed -e "s/-arch ppc / /g" -e "s/-arch i386 / /g"`"'
			done
			CPPFLAGS="$CPPFLAGS -DUSE_TCL_STUBS=1 -DUSE_TK_STUBS=1 ${TCL_INCLUDES} ${TK_INCLUDES}"
			LDFLAGS="$LDFLAGS ${TCL_STUB_LIB_SPEC} ${TK_STUB_LIB_SPEC}"
			cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <tk.h>
int
main (void)
{
Tk_InitStubs(NULL, "", 0);
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  tcl_cv_lib_tk_64=yes
else $as_nop
  tcl_cv_lib_tk_64=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
			for v in CFLAGS CPPFLAGS LDFLAGS; do
			    eval $v'="$hold_'$v'"'
			done
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $tcl_cv_lib_tk_64" >&5
printf "%s\n" "$tcl_cv_lib_tk_64" >&6; }

fi
		# remove 64-bit arch flags from CFLAGS et al. if configuration
		# does not support 64-bit.
		if test "$tcl_cv_lib_tk_64" = no -o "$tcl_cv_lib_x11_64" = no
then :

		    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: Removing 64-bit architectures from compiler & linker flags" >&5
printf "%s\n" "$as_me: Removing 64-bit architectures from compiler & linker flags" >&6;}
		    for v in CFLAGS CPPFLAGS LDFLAGS; do
			eval $v'="`echo "$'$v' "|sed -e "s/-arch ppc64 / /g" -e "s/-arch x86_64 / /g"`"'
		    done
fi

fi
	    ;;
	OS/390-*)
	    CFLAGS_OPTIMIZE=""		# Optimizer is buggy

printf "%s\n" "#define _OE_SOCKETS 1" >>confdefs.h

	    ;;
	OSF1-V*)
	    # Digital OSF/1
	    SHLIB_CFLAGS=""
	    if test "$SHARED_BUILD" = 1
then :

	        SHLIB_LD='ld -shared -expect_unresolved "*"'

else $as_nop

	        SHLIB_LD='ld -non_shared -expect_unresolved "*"'

fi
	    SHLIB_SUFFIX=".so"
	    if test $doRpath = yes
then :

		CC_SEARCH_FLAGS='-Wl,-rpath,${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS='-rpath ${LIB_RUNTIME_DIR}'
fi
	    if test "$GCC" = yes
then :
  CFLAGS="$CFLAGS -mieee"
else $as_nop

		CFLAGS="$CFLAGS -DHAVE_TZSET -std1 -ieee"
fi
	    # see pthread_intro(3) for pthread support on osf1, k.furukawa
	    if test "${TCL_THREADS}" = 1
then :

		CFLAGS="$CFLAGS -DHAVE_PTHREAD_ATTR_SETSTACKSIZE"
		CFLAGS="$CFLAGS -DTCL_THREAD_STACK_MIN=PTHREAD_STACK_MIN*64"
		LIBS=`echo $LIBS | sed s/-lpthreads//`
		if test "$GCC" = yes
then :

		    LIBS="$LIBS -lpthread -lmach -lexc"

else $as_nop

		    CFLAGS="$CFLAGS -pthread"
		    LDFLAGS="$LDFLAGS -pthread"

fi

fi
	    ;;
	QNX-6*)
	    # QNX RTP
	    # This may work for all QNX, but it was only reported for v6.
	    SHLIB_CFLAGS="-fPIC"
	    SHLIB_LD="ld -Bshareable -x"
	    SHLIB_LD_LIBS=""
	    SHLIB_SUFFIX=".so"
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    ;;
	SCO_SV-3.2*)
	    if test "$GCC" = yes
then :

		SHLIB_CFLAGS="-fPIC -melf"
		LDFLAGS="$LDFLAGS -melf -Wl,-Bexport"

else $as_nop

		SHLIB_CFLAGS="-Kpic -belf"
		LDFLAGS="$LDFLAGS -belf -Wl,-Bexport"

fi
	    SHLIB_LD="ld -G"
	    SHLIB_LD_LIBS=""
	    SHLIB_SUFFIX=".so"
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    ;;
	SunOS-5.[0-6])
	    # Careful to not let 5.10+ fall into this case

	    # Note: If _REENTRANT isn't defined, then Solaris
	    # won't define thread-safe library routines.


printf "%s\n" "#define _REENTRANT 1" >>confdefs.h


printf "%s\n" "#define _POSIX_PTHREAD_SEMANTICS 1" >>confdefs.h


	    SHLIB_CFLAGS="-KPIC"
	    SHLIB_SUFFIX=".so"
	    if test "$GCC" = yes
then :

		SHLIB_LD='${CC} -shared'
		CC_SEARCH_FLAGS='-Wl,-R,${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}

else $as_nop

		SHLIB_LD="/usr/ccs/bin/ld -G -z text"
		CC_SEARCH_FLAGS='-R ${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}

fi
	    ;;
	SunOS-5*)
	    # Note: If _REENTRANT isn't defined, then Solaris
	    # won't define thread-safe library routines.


printf "%s\n" "#define _REENTRANT 1" >>confdefs.h


printf "%s\n" "#define _POSIX_PTHREAD_SEMANTICS 1" >>confdefs.h


	    SHLIB_CFLAGS="-KPIC"

	    # Check to enable 64-bit flags for compiler/linker
	    if test "$do64bit" = yes
then :

		arch=`isainfo`
		if test "$arch" = "sparcv9 sparc"
then :

		    if test "$GCC" = yes
then :

			if test "`${CC} -dumpversion | awk -F. '{print $1}'`" -lt 3
then :

			    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: 64bit mode not supported with GCC < 3.2 on $system" >&5
printf "%s\n" "$as_me: WARNING: 64bit mode not supported with GCC < 3.2 on $system" >&2;}

else $as_nop

			    do64bit_ok=yes
			    CFLAGS="$CFLAGS -m64 -mcpu=v9"
			    LDFLAGS="$LDFLAGS -m64 -mcpu=v9"
			    SHLIB_CFLAGS="-fPIC"

fi

else $as_nop

			do64bit_ok=yes
			if test "$do64bitVIS" = yes
then :

			    CFLAGS="$CFLAGS -xarch=v9a"
			    LDFLAGS_ARCH="-xarch=v9a"

else $as_nop

			    CFLAGS="$CFLAGS -xarch=v9"
			    LDFLAGS_ARCH="-xarch=v9"

fi
			# Solaris 64 uses this as well
			#LD_LIBRARY_PATH_VAR="LD_LIBRARY_PATH_64"

fi

else $as_nop
  if test "$arch" = "amd64 i386"
then :

		    if test "$GCC" = yes
then :

			case $system in
			    SunOS-5.1[1-9]*|SunOS-5.[2-9][0-9]*)
				do64bit_ok=yes
				CFLAGS="$CFLAGS -m64"
				LDFLAGS="$LDFLAGS -m64";;
			    *)
				{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: 64bit mode not supported with GCC on $system" >&5
printf "%s\n" "$as_me: WARNING: 64bit mode not supported with GCC on $system" >&2;};;
			esac

else $as_nop

			do64bit_ok=yes
			case $system in
			    SunOS-5.1[1-9]*|SunOS-5.[2-9][0-9]*)
				CFLAGS="$CFLAGS -m64"
				LDFLAGS="$LDFLAGS -m64";;
			    *)
				CFLAGS="$CFLAGS -xarch=amd64"
				LDFLAGS="$LDFLAGS -xarch=amd64";;
			esac

fi

else $as_nop
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: 64bit mode not supported for $arch" >&5
printf "%s\n" "$as_me: WARNING: 64bit mode not supported for $arch" >&2;}
fi
fi

fi

	    SHLIB_SUFFIX=".so"
	    if test "$GCC" = yes
then :

		SHLIB_LD='${CC} -shared'
		CC_SEARCH_FLAGS='-Wl,-R,${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS=${CC_SEARCH_FLAGS}
		if test "$do64bit_ok" = yes
then :

		    if test "$arch" = "sparcv9 sparc"
then :

			# We need to specify -static-libgcc or we need to
			# add the path to the sparv9 libgcc.
			# JH: static-libgcc is necessary for core Tcl, but may
			# not be necessary for extensions.
			SHLIB_LD="$SHLIB_LD -m64 -mcpu=v9 -static-libgcc"
			# for finding sparcv9 libgcc, get the regular libgcc
			# path, remove so name and append 'sparcv9'
			#v9gcclibdir="`gcc -print-file-name=libgcc_s.so` | ..."
			#CC_SEARCH_FLAGS="${CC_SEARCH_FLAGS},-R,$v9gcclibdir"

else $as_nop
  if test "$arch" = "amd64 i386"
then :

			# JH: static-libgcc is necessary for core Tcl, but may
			# not be necessary for extensions.
			SHLIB_LD="$SHLIB_LD -m64 -static-libgcc"

fi
fi

fi

else $as_nop

		case $system in
		    SunOS-5.[1-9][0-9]*)
			# TEA specific: use LDFLAGS_DEFAULT instead of LDFLAGS
			SHLIB_LD='${CC} -G -z text ${LDFLAGS_DEFAULT}';;
		    *)
			SHLIB_LD='/usr/ccs/bin/ld -G -z text';;
		esac
		CC_SEARCH_FLAGS='-Wl,-R,${LIB_RUNTIME_DIR}'
		LD_SEARCH_FLAGS='-R ${LIB_RUNTIME_DIR}'

fi
	    ;;
	UNIX_SV* | UnixWare-5*)
	    SHLIB_CFLAGS="-KPIC"
	    SHLIB_LD='${CC} -G'
	    SHLIB_LD_LIBS=""
	    SHLIB_SUFFIX=".so"
	    # Some UNIX_SV* systems (unixware 1.1.2 for example) have linkers
	    # that don't grok the -Bexport option.  Test that it does.
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for ld accepts -Bexport flag" >&5
printf %s "checking for ld accepts -Bexport flag... " >&6; }
if test ${tcl_cv_ld_Bexport+y}
then :
  printf %s "(cached) " >&6
else $as_nop

		hold_ldflags=$LDFLAGS
		LDFLAGS="$LDFLAGS -Wl,-Bexport"
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
int i;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"
then :
  tcl_cv_ld_Bexport=yes
else $as_nop
  tcl_cv_ld_Bexport=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam \
    conftest$ac_exeext conftest.$ac_ext
	        LDFLAGS=$hold_ldflags
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $tcl_cv_ld_Bexport" >&5
printf "%s\n" "$tcl_cv_ld_Bexport" >&6; }
	    if test $tcl_cv_ld_Bexport = yes
then :

		LDFLAGS="$LDFLAGS -Wl,-Bexport"

fi
	    CC_SEARCH_FLAGS=""
	    LD_SEARCH_FLAGS=""
	    ;;
    esac

    if test "$do64bit" = yes -a "$do64bit_ok" = no
then :

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: 64bit support being disabled -- don't know magic for this platform" >&5
printf "%s\n" "$as_me: WARNING: 64bit support being disabled -- don't know magic for this platform" >&2;}

fi



    # Add in the arch flags late to ensure it wasn't removed.
    # Not necessary in TEA, but this is aligned with core
    LDFLAGS="$LDFLAGS $LDFLAGS_ARCH"

    # If we're running gcc, then change the C flags for compiling shared
    # libraries to the right flags for gcc, instead of those for the
    # standard manufacturer compiler.

    if test "$GCC" = yes
then :

	case $system in
	    AIX-*) ;;
	    BSD/OS*) ;;
	    CYGWIN_*|MINGW32_*|MINGW64_*) ;;
	    IRIX*) ;;
	    NetBSD-*|DragonFly-*|FreeBSD-*|OpenBSD-*) ;;
	    Darwin-*) ;;
	    SCO_SV-3.2*) ;;
	    windows) ;;
	    *) SHLIB_CFLAGS="-fPIC" ;;
	esac
fi

    if test "$tcl_cv_cc_visibility_hidden" != yes
then :


printf "%s\n" "#define MODULE_SCOPE extern" >>confdefs.h


fi

    if test "$SHARED_LIB_SUFFIX" = ""
then :

    # TEA specific: use PACKAGE_VERSION instead of VERSION
    SHARED_LIB_SUFFIX='${PACKAGE_VERSION}${SHLIB_SUFFIX}'
fi
    if test "$UNSHARED_LIB_SUFFIX" = ""
then :

    # TEA specific: use PACKAGE_VERSION instead of VERSION
    UNSHARED_LIB_SUFFIX='${PACKAGE_VERSION}.a'
fi

    if test "${GCC}" = "yes" -a ${SHLIB_SUFFIX} = ".dll"; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for SEH support in compiler" >&5
printf %s "checking for SEH support in compiler... " >&6; }
if test ${tcl_cv_seh+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test "$cross_compiling" = yes
then :
  tcl_cv_seh=no
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#define WIN32_LEAN_AND_MEAN
#include <windows.h>
#undef WIN32_LEAN_AND_MEAN

	    int main(int argc, char** argv) {
		int a, b = 0;
		__try {
		    a = 666 / b;
		}
		__except (EXCEPTION_EXECUTE_HANDLER) {
		    return 0;
		}
		return 1;
	    }

_ACEOF
if ac_fn_c_try_run "$LINENO"
then :
  tcl_cv_seh=yes
else $as_nop
  tcl_cv_seh=no
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi


fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $tcl_cv_seh" >&5
printf "%s\n" "$tcl_cv_seh" >&6; }
	if test "$tcl_cv_seh" = "no" ; then

printf "%s\n" "#define HAVE_NO_SEH 1" >>confdefs.h

	fi

	#
	# Check to see if the excpt.h include file provided contains the
	# definition for EXCEPTION_DISPOSITION; if not, which is the case
	# with Cygwin's version as of 2002-04-10, define it to be int,
	# sufficient for getting the current code to work.
	#
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for EXCEPTION_DISPOSITION support in include files" >&5
printf %s "checking for EXCEPTION_DISPOSITION support in include files... " >&6; }
if test ${tcl_cv_eh_disposition+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#	    define WIN32_LEAN_AND_MEAN
#	    include <windows.h>
#	    undef WIN32_LEAN_AND_MEAN

int
main (void)
{

		EXCEPTION_DISPOSITION x;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  tcl_cv_eh_disposition=yes
else $as_nop
  tcl_cv_eh_disposition=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $tcl_cv_eh_disposition" >&5
printf "%s\n" "$tcl_cv_eh_disposition" >&6; }
	if test "$tcl_cv_eh_disposition" = "no" ; then

printf "%s\n" "#define EXCEPTION_DISPOSITION int" >>confdefs.h

	fi

	# Check to see if winnt.h defines CHAR, SHORT, and LONG
	# even if VOID has already been #defined. The win32api
	# used by mingw and cygwin is known to do this.

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for winnt.h that ignores VOID define" >&5
printf %s "checking for winnt.h that ignores VOID define... " >&6; }
if test ${tcl_cv_winnt_ignore_void+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#define VOID void
#define WIN32_LEAN_AND_MEAN
#include <windows.h>
#undef WIN32_LEAN_AND_MEAN

int
main (void)
{

		CHAR c;
		SHORT s;
		LONG l;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  tcl_cv_winnt_ignore_void=yes
else $as_nop
  tcl_cv_winnt_ignore_void=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $tcl_cv_winnt_ignore_void" >&5
printf "%s\n" "$tcl_cv_winnt_ignore_void" >&6; }
	if test "$tcl_cv_winnt_ignore_void" = "yes" ; then

printf "%s\n" "#define HAVE_WINNT_IGNORE_VOID 1" >>confdefs.h

	fi
    fi

	# See if the compiler supports casting to a union type.
	# This is used to stop gcc from printing a compiler
	# warning when initializing a union member.

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for cast to union support" >&5
printf %s "checking for cast to union support... " >&6; }
if test ${tcl_cv_cast_to_union+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{

		  union foo { int i; double d; };
		  union foo f = (union foo) (int) 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  tcl_cv_cast_to_union=yes
else $as_nop
  tcl_cv_cast_to_union=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $tcl_cv_cast_to_union" >&5
printf "%s\n" "$tcl_cv_cast_to_union" >&6; }
	if test "$tcl_cv_cast_to_union" = "yes"; then

printf "%s\n" "#define HAVE_CAST_TO_UNION 1" >>confdefs.h

	fi













    # These must be called after we do the basic CFLAGS checks and
    # verify any possible 64-bit or similar switches are necessary

    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for required early compiler flags" >&5
printf %s "checking for required early compiler flags... " >&6; }
    tcl_flags=""

    if test ${tcl_cv_flag__isoc99_source+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdlib.h>
int
main (void)
{
char *p = (char *)strtoll; char *q = (char *)strtoull;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  tcl_cv_flag__isoc99_source=no
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#define _ISOC99_SOURCE 1
#include <stdlib.h>
int
main (void)
{
char *p = (char *)strtoll; char *q = (char *)strtoull;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  tcl_cv_flag__isoc99_source=yes
else $as_nop
  tcl_cv_flag__isoc99_source=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

    if test "x${tcl_cv_flag__isoc99_source}" = "xyes" ; then

printf "%s\n" "#define _ISOC99_SOURCE 1" >>confdefs.h

	tcl_flags="$tcl_flags _ISOC99_SOURCE"
    fi


    if test ${tcl_cv_flag__largefile64_source+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/stat.h>
int
main (void)
{
struct stat64 buf; int i = stat64("/", &buf);
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  tcl_cv_flag__largefile64_source=no
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#define _LARGEFILE64_SOURCE 1
#include <sys/stat.h>
int
main (void)
{
struct stat64 buf; int i = stat64("/", &buf);
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  tcl_cv_flag__largefile64_source=yes
else $as_nop
  tcl_cv_flag__largefile64_source=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

    if test "x${tcl_cv_flag__largefile64_source}" = "xyes" ; then

printf "%s\n" "#define _LARGEFILE64_SOURCE 1" >>confdefs.h

	tcl_flags="$tcl_flags _LARGEFILE64_SOURCE"
    fi


    if test ${tcl_cv_flag__largefile_source64+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/stat.h>
int
main (void)
{
char *p = (char *)open64;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  tcl_cv_flag__largefile_source64=no
else $as_nop
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#define _LARGEFILE_SOURCE64 1
#include <sys/stat.h>
int
main (void)
{
char *p = (char *)open64;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  tcl_cv_flag__largefile_source64=yes
else $as_nop
  tcl_cv_flag__largefile_source64=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

    if test "x${tcl_cv_flag__largefile_source64}" = "xyes" ; then

printf "%s\n" "#define _LARGEFILE_SOURCE64 1" >>confdefs.h

	tcl_flags="$tcl_flags _LARGEFILE_SOURCE64"
    fi

    if test "x${tcl_flags}" = "x" ; then
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none" >&5
printf "%s\n" "none" >&6; }
    else
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${tcl_flags}" >&5
printf "%s\n" "${tcl_flags}" >&6; }
    fi


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for 64-bit integer type" >&5
printf %s "checking for 64-bit integer type... " >&6; }
    if test ${tcl_cv_type_64bit+y}
then :
  printf %s "(cached) " >&6
else $as_nop

	tcl_cv_type_64bit=none
	# See if the compiler knows natively about __int64
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
__int64 value = (__int64) 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  tcl_type_64bit=__int64
else $as_nop
  tcl_type_64bit="long long"
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
	# See if we should use long anyway  Note that we substitute in the
	# type that is our current guess for a 64-bit type inside this check
	# program, so it should be modified only carefully...
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main (void)
{
switch (0) {
            case 1: case (sizeof(${tcl_type_64bit})==sizeof(long)): ;
        }
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  tcl_cv_type_64bit=${tcl_type_64bit}
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

    if test "${tcl_cv_type_64bit}" = none ; then

printf "%s\n" "#define TCL_WIDE_INT_IS_LONG 1" >>confdefs.h

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using long" >&5
printf "%s\n" "using long" >&6; }
    elif test "${tcl_cv_type_64bit}" = "__int64" \
		-a "${TEA_PLATFORM}" = "windows" ; then
	# TEA specific: We actually want to use the default tcl.h checks in
	# this case to handle both TCL_WIDE_INT_TYPE and TCL_LL_MODIFIER*
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: using Tcl header defaults" >&5
printf "%s\n" "using Tcl header defaults" >&6; }
    else

printf "%s\n" "#define TCL_WIDE_INT_TYPE ${tcl_cv_type_64bit}" >>confdefs.h

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${tcl_cv_type_64bit}" >&5
printf "%s\n" "${tcl_cv_type_64bit}" >&6; }

	# Now check for auxiliary declarations
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for struct dirent64" >&5
printf %s "checking for struct dirent64... " >&6; }
if test ${tcl_cv_struct_dirent64+y}
then :
  printf %s "(cached) " >&6
else $as_nop

	    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/types.h>
#include <dirent.h>
int
main (void)
{
struct dirent64 p;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  tcl_cv_struct_dirent64=yes
else $as_nop
  tcl_cv_struct_dirent64=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $tcl_cv_struct_dirent64" >&5
printf "%s\n" "$tcl_cv_struct_dirent64" >&6; }
	if test "x${tcl_cv_struct_dirent64}" = "xyes" ; then

printf "%s\n" "#define HAVE_STRUCT_DIRENT64 1" >>confdefs.h

	fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for struct stat64" >&5
printf %s "checking for struct stat64... " >&6; }
if test ${tcl_cv_struct_stat64+y}
then :
  printf %s "(cached) " >&6
else $as_nop

	    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/stat.h>
int
main (void)
{
struct stat64 p;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  tcl_cv_struct_stat64=yes
else $as_nop
  tcl_cv_struct_stat64=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $tcl_cv_struct_stat64" >&5
printf "%s\n" "$tcl_cv_struct_stat64" >&6; }
	if test "x${tcl_cv_struct_stat64}" = "xyes" ; then

printf "%s\n" "#define HAVE_STRUCT_STAT64 1" >>confdefs.h

	fi

	ac_fn_c_check_func "$LINENO" "open64" "ac_cv_func_open64"
if test "x$ac_cv_func_open64" = xyes
then :
  printf "%s\n" "#define HAVE_OPEN64 1" >>confdefs.h

fi
ac_fn_c_check_func "$LINENO" "lseek64" "ac_cv_func_lseek64"
if test "x$ac_cv_func_lseek64" = xyes
then :
  printf "%s\n" "#define HAVE_LSEEK64 1" >>confdefs.h

fi

	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for off64_t" >&5
printf %s "checking for off64_t... " >&6; }
	if test ${tcl_cv_type_off64_t+y}
then :
  printf %s "(cached) " >&6
else $as_nop

	    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/types.h>
int
main (void)
{
off64_t offset;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"
then :
  tcl_cv_type_off64_t=yes
else $as_nop
  tcl_cv_type_off64_t=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

			if test "x${tcl_cv_type_off64_t}" = "xyes" && \
	        test "x${ac_cv_func_lseek64}" = "xyes" && \
	        test "x${ac_cv_func_open64}" = "xyes" ; then

printf "%s\n" "#define HAVE_TYPE_OFF64_T 1" >>confdefs.h

	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
printf "%s\n" "yes" >&6; }
	else
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
	fi
    fi



#--------------------------------------------------------------------
# Set the default compiler switches based on the --enable-symbols option.
#--------------------------------------------------------------------



    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for build with symbols" >&5
printf %s "checking for build with symbols... " >&6; }
    # Check whether --enable-symbols was given.
if test ${enable_symbols+y}
then :
  enableval=$enable_symbols; tcl_ok=$enableval
else $as_nop
  tcl_ok=no
fi

    DBGX=""
    if test "$tcl_ok" = "no"; then
	CFLAGS_DEFAULT="${CFLAGS_OPTIMIZE} -DNDEBUG"
	LDFLAGS_DEFAULT="${LDFLAGS_OPTIMIZE}"
	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
printf "%s\n" "no" >&6; }
    else
	CFLAGS_DEFAULT="${CFLAGS_DEBUG}"
	LDFLAGS_DEFAULT="${LDFLAGS_DEBUG}"
	if test "$tcl_ok" = "yes"; then
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes (standard debugging)" >&5
printf "%s\n" "yes (standard debugging)" >&6; }
	fi
    fi
    # TEA specific:
    if test "${TEA_PLATFORM}" != "windows" ; then
	LDFLAGS_DEFAULT="${LDFLAGS}"
    fi




    if test "$tcl_ok" = "mem" -o "$tcl_ok" = "all"; then

printf "%s\n" "#define TCL_MEM_DEBUG 1" >>confdefs.h

    fi

    if test "$tcl_ok" != "yes" -a "$tcl_ok" != "no"; then
	if test "$tcl_ok" = "all"; then
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: enabled symbols mem debugging" >&5
printf "%s\n" "enabled symbols mem debugging" >&6; }
	else
	    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: enabled $tcl_ok debugging" >&5
printf "%s\n" "enabled $tcl_ok debugging" >&6; }
	fi
    fi


#--------------------------------------------------------------------
# This macro generates a line to use when building a library.  It
# depends on values set by the TEA_ENABLE_SHARED, TEA_ENABLE_SYMBOLS,
# and TEA_LOAD_TCLCONFIG macros above.
#--------------------------------------------------------------------

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for grep that handles long lines and -e" >&5
printf %s "checking for grep that handles long lines and -e... " >&6; }
if test ${ac_cv_path_GREP+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if test -z "$GREP"; then
  ac_path_GREP_found=false
  # Loop through the user's path and test for each of PROGNAME-LIST
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_prog in grep ggrep
   do
    for ac_exec_ext in '' $ac_executable_extensions; do
      ac_path_GREP="$as_dir$ac_prog$ac_exec_ext"
      as_fn_executable_p "$ac_path_GREP" || continue
# Check for GNU ac_path_GREP and select it if it is found.
  # Check for GNU $ac_path_GREP
case `"$ac_path_GREP" --version 2>&1` in
*GNU*)
  ac_cv_path_GREP="$ac_path_GREP" ac_path_GREP_found=:;;
*)
  ac_count=0
  printf %s 0123456789 >"conftest.in"
  while :
  do
    cat "conftest.in" "conftest.in" >"conftest.tmp"
    mv "conftest.tmp" "conftest.in"
    cp "conftest.in" "conftest.nl"
    printf "%s\n" 'GREP' >> "conftest.nl"
    "$ac_path_GREP" -e 'GREP$' -e '-(cannot match)-' < "conftest.nl" >"conftest.out" 2>/dev/null || break
    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
    as_fn_arith $ac_count + 1 && ac_count=$as_val
    if test $ac_count -gt ${ac_path_GREP_max-0}; then
      # Best one so far, save it but keep looking for a better one
      ac_cv_path_GREP="$ac_path_GREP"
      ac_path_GREP_max=$ac_count
    fi
    # 10*(2^10) chars as input seems more than enough
    test $ac_count -gt 10 && break
  done
  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
esac

      $ac_path_GREP_found && break 3
    done
  done
  done
IFS=$as_save_IFS
  if test -z "$ac_cv_path_GREP"; then
    as_fn_error $? "no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
  fi
else
  ac_cv_path_GREP=$GREP
fi

fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_GREP" >&5
printf "%s\n" "$ac_cv_path_GREP" >&6; }
 GREP="$ac_cv_path_GREP"


{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for egrep" >&5
printf %s "checking for egrep... " >&6; }
if test ${ac_cv_path_EGREP+y}
then :
  printf %s "(cached) " >&6
else $as_nop
  if echo a | $GREP -E '(a|b)' >/dev/null 2>&1
   then ac_cv_path_EGREP="$GREP -E"
   else
     if test -z "$EGREP"; then
  ac_path_EGREP_found=false
  # Loop through the user's path and test for each of PROGNAME-LIST
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    for ac_prog in egrep
   do
    for ac_exec_ext in '' $ac_executable_extensions; do
      ac_path_EGREP="$as_dir$ac_prog$ac_exec_ext"
      as_fn_executable_p "$ac_path_EGREP" || continue
# Check for GNU ac_path_EGREP and select it if it is found.
  # Check for GNU $ac_path_EGREP
case `"$ac_path_EGREP" --version 2>&1` in
*GNU*)
  ac_cv_path_EGREP="$ac_path_EGREP" ac_path_EGREP_found=:;;
*)
  ac_count=0
  printf %s 0123456789 >"conftest.in"
  while :
  do
    cat "conftest.in" "conftest.in" >"conftest.tmp"
    mv "conftest.tmp" "conftest.in"
    cp "conftest.in" "conftest.nl"
    printf "%s\n" 'EGREP' >> "conftest.nl"
    "$ac_path_EGREP" 'EGREP$' < "conftest.nl" >"conftest.out" 2>/dev/null || break
    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
    as_fn_arith $ac_count + 1 && ac_count=$as_val
    if test $ac_count -gt ${ac_path_EGREP_max-0}; then
      # Best one so far, save it but keep looking for a better one
      ac_cv_path_EGREP="$ac_path_EGREP"
      ac_path_EGREP_max=$ac_count
    fi
    # 10*(2^10) chars as input seems more than enough
    test $ac_count -gt 10 && break
  done
  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
esac

      $ac_path_EGREP_found && break 3
    done
  done
  done
IFS=$as_save_IFS
  if test -z "$ac_cv_path_EGREP"; then
    as_fn_error $? "no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
  fi
else
  ac_cv_path_EGREP=$EGREP
fi

   fi
fi
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_EGREP" >&5
printf "%s\n" "$ac_cv_path_EGREP" >&6; }
 EGREP="$ac_cv_path_EGREP"



    if test "${TEA_PLATFORM}" = "windows" -a "$GCC" != "yes"; then
	MAKE_STATIC_LIB="\${STLIB_LD} -out:\$@ \$(PKG_OBJECTS)"
	MAKE_SHARED_LIB="\${SHLIB_LD} \${SHLIB_LD_LIBS} \${LDFLAGS_DEFAULT} -out:\$@ \$(PKG_OBJECTS)"
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#if defined(_MSC_VER) && _MSC_VER >= 1400
print("manifest needed")
#endif

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "manifest needed" >/dev/null 2>&1
then :

	# Could do a CHECK_PROG for mt, but should always be with MSVC8+
	VC_MANIFEST_EMBED_DLL="if test -f \$@.manifest ; then mt.exe -nologo -manifest \$@.manifest -outputresource:\$@\;2 ; fi"
	VC_MANIFEST_EMBED_EXE="if test -f \$@.manifest ; then mt.exe -nologo -manifest \$@.manifest -outputresource:\$@\;1 ; fi"
	MAKE_SHARED_LIB="${MAKE_SHARED_LIB} ; ${VC_MANIFEST_EMBED_DLL}"

    CLEANFILES="$CLEANFILES *.manifest"


fi
rm -rf conftest*

	MAKE_STUB_LIB="\${STLIB_LD} -nodefaultlib -out:\$@ \$(PKG_STUB_OBJECTS)"
    else
	MAKE_STATIC_LIB="\${STLIB_LD} \$@ \$(PKG_OBJECTS)"
	MAKE_SHARED_LIB="\${SHLIB_LD} -o \$@ \$(PKG_OBJECTS) \${SHLIB_LD_LIBS}"
	MAKE_STUB_LIB="\${STLIB_LD} \$@ \$(PKG_STUB_OBJECTS)"
    fi

    if test "${SHARED_BUILD}" = "1" ; then
	MAKE_LIB="${MAKE_SHARED_LIB} "
    else
	MAKE_LIB="${MAKE_STATIC_LIB} "
    fi

    #--------------------------------------------------------------------
    # Shared libraries and static libraries have different names.
    # Use the double eval to make sure any variables in the suffix is
    # substituted. (@@@ Might not be necessary anymore)
    #--------------------------------------------------------------------

    if test "${TEA_PLATFORM}" = "windows" ; then
	if test "${SHARED_BUILD}" = "1" ; then
	    # We force the unresolved linking of symbols that are really in
	    # the private libraries of Tcl and Tk.
	    if test x"${TK_BIN_DIR}" != x ; then
		SHLIB_LD_LIBS="${SHLIB_LD_LIBS} \"`${CYGPATH} ${TK_BIN_DIR}/${TK_STUB_LIB_FILE}`\""
	    fi
	    SHLIB_LD_LIBS="${SHLIB_LD_LIBS} \"`${CYGPATH} ${TCL_BIN_DIR}/${TCL_STUB_LIB_FILE}`\""
	    if test "$GCC" = "yes"; then
		SHLIB_LD_LIBS="${SHLIB_LD_LIBS} -static-libgcc"
	    fi
	    eval eval "PKG_LIB_FILE=${PACKAGE_LIB_PREFIX}${PACKAGE_NAME}${SHARED_LIB_SUFFIX}"
	else
	    eval eval "PKG_LIB_FILE=${PACKAGE_LIB_PREFIX}${PACKAGE_NAME}${UNSHARED_LIB_SUFFIX}"
	    if test "$GCC" = "yes"; then
		PKG_LIB_FILE=lib${PKG_LIB_FILE}
	    fi
	fi
	# Some packages build their own stubs libraries
	eval eval "PKG_STUB_LIB_FILE=${PACKAGE_LIB_PREFIX}${PACKAGE_NAME}stub${UNSHARED_LIB_SUFFIX}"
	if test "$GCC" = "yes"; then
	    PKG_STUB_LIB_FILE=lib${PKG_STUB_LIB_FILE}
	fi
	# These aren't needed on Windows (either MSVC or gcc)
	RANLIB=:
	RANLIB_STUB=:
    else
	RANLIB_STUB="${RANLIB}"
	if test "${SHARED_BUILD}" = "1" ; then
	    SHLIB_LD_LIBS="${SHLIB_LD_LIBS} ${TCL_STUB_LIB_SPEC}"
	    if test x"${TK_BIN_DIR}" != x ; then
		SHLIB_LD_LIBS="${SHLIB_LD_LIBS} ${TK_STUB_LIB_SPEC}"
	    fi
	    eval eval "PKG_LIB_FILE=lib${PACKAGE_LIB_PREFIX}${PACKAGE_NAME}${SHARED_LIB_SUFFIX}"
	    RANLIB=:
	else
	    eval eval "PKG_LIB_FILE=lib${PACKAGE_LIB_PREFIX}${PACKAGE_NAME}${UNSHARED_LIB_SUFFIX}"
	fi
	# Some packages build their own stubs libraries
	eval eval "PKG_STUB_LIB_FILE=lib${PACKAGE_LIB_PREFIX}${PACKAGE_NAME}stub${UNSHARED_LIB_SUFFIX}"
    fi

    # These are escaped so that only CFLAGS is picked up at configure time.
    # The other values will be substituted at make time.
    CFLAGS="${CFLAGS} \${CFLAGS_DEFAULT} \${CFLAGS_WARNING}"
    if test "${SHARED_BUILD}" = "1" ; then
	CFLAGS="${CFLAGS} \${SHLIB_CFLAGS}"
    fi










#--------------------------------------------------------------------
# Determine the name of the tclsh and/or wish executables in the
# Tcl and Tk build directories or the location they were installed
# into. These paths are used to support running test cases only,
# the Makefile should not be making use of these paths to generate
# a pkgIndex.tcl file or anything else at extension build time.
#--------------------------------------------------------------------


    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for tclsh" >&5
printf %s "checking for tclsh... " >&6; }
    if test -f "${TCL_BIN_DIR}/Makefile" ; then
        # tclConfig.sh is in Tcl build directory
        if test "${TEA_PLATFORM}" = "windows"; then
          if test -f "${TCL_BIN_DIR}/tclsh${TCL_MAJOR_VERSION}${TCL_MINOR_VERSION}${TCL_DBGX}${EXEEXT}" ; then
            TCLSH_PROG="${TCL_BIN_DIR}/tclsh${TCL_MAJOR_VERSION}${TCL_MINOR_VERSION}${TCL_DBGX}${EXEEXT}"
          elif test -f "${TCL_BIN_DIR}/tclsh${TCL_MAJOR_VERSION}${TCL_MINOR_VERSION}${TCL_DBGX}s${EXEEXT}" ; then
            TCLSH_PROG="${TCL_BIN_DIR}/tclsh${TCL_MAJOR_VERSION}${TCL_MINOR_VERSION}${TCL_DBGX}s${EXEEXT}"
          elif test -f "${TCL_BIN_DIR}/tclsh${TCL_MAJOR_VERSION}${TCL_MINOR_VERSION}${TCL_DBGX}t${EXEEXT}" ; then
            TCLSH_PROG="${TCL_BIN_DIR}/tclsh${TCL_MAJOR_VERSION}${TCL_MINOR_VERSION}${TCL_DBGX}t${EXEEXT}"
          elif test -f "${TCL_BIN_DIR}/tclsh${TCL_MAJOR_VERSION}${TCL_MINOR_VERSION}${TCL_DBGX}st${EXEEXT}" ; then
            TCLSH_PROG="${TCL_BIN_DIR}/tclsh${TCL_MAJOR_VERSION}${TCL_MINOR_VERSION}${TCL_DBGX}st${EXEEXT}"
          fi
        else
            TCLSH_PROG="${TCL_BIN_DIR}/tclsh"
        fi
    else
        # tclConfig.sh is in install location
        if test "${TEA_PLATFORM}" = "windows"; then
            TCLSH_PROG="tclsh${TCL_MAJOR_VERSION}${TCL_MINOR_VERSION}${TCL_DBGX}${EXEEXT}"
        else
            TCLSH_PROG="tclsh${TCL_MAJOR_VERSION}.${TCL_MINOR_VERSION}${TCL_DBGX}"
        fi
        list="`ls -d ${TCL_BIN_DIR}/../bin 2>/dev/null` \
              `ls -d ${TCL_BIN_DIR}/..     2>/dev/null` \
              `ls -d ${TCL_PREFIX}/bin     2>/dev/null`"
        for i in $list ; do
            if test -f "$i/${TCLSH_PROG}" ; then
                REAL_TCL_BIN_DIR="`cd "$i"; pwd`/"
                break
            fi
        done
        TCLSH_PROG="${REAL_TCL_BIN_DIR}${TCLSH_PROG}"
    fi
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${TCLSH_PROG}" >&5
printf "%s\n" "${TCLSH_PROG}" >&6; }


#TEA_PROG_WISH

#--------------------------------------------------------------------
# Load libxml2 configuration
#--------------------------------------------------------------------

{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for xml2-config script" >&5
printf %s "checking for xml2-config script... " >&6; }


# Check whether --with-xml2-config was given.
if test ${with_xml2_config+y}
then :
  withval=$with_xml2_config; with_xml2_config=${withval}
fi


LIBXML2_CONFIG=
if test "x${with_xml2_config}" = "x" ; then
    for c in \
	${prefix}/bin/xml2-config \
	/usr/bin/xml2-config \
	/usr/local/bin/xml2-config
    do
	if test -x "$c" ; then
	    LIBXML2_CONFIG="$c"
	    break
	fi
    done
else
    LIBXML2_CONFIG="${with_xml2_config}"
fi
if test "x$LIBXML2_CONFIG" = "x" ; then
    as_fn_error $? "unable to find xml2-config" "$LINENO" 5
else
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: ${LIBXML2_CONFIG}" >&5
printf "%s\n" "${LIBXML2_CONFIG}" >&6; }
    XML2_CFLAGS=`${LIBXML2_CONFIG} --cflags`
    XML2_LIBS="`${LIBXML2_CONFIG} --libs`"
fi




#--------------------------------------------------------------------
# Setup a *Config.sh.in configuration file.
#--------------------------------------------------------------------

#TEA_EXPORT_CONFIG([sample])
#AC_SUBST(SAMPLE_VAR)

#--------------------------------------------------------------------
# Specify files to substitute AC variables in. You may alternatively
# have a special pkgIndex.tcl.in or other files which require
# substituting the AC variables in. Include these here.
#--------------------------------------------------------------------

ac_config_files="$ac_config_files Makefile"

#AC_CONFIG_FILES([sampleConfig.sh])

#--------------------------------------------------------------------
# Finally, substitute all of the various values into the files
# specified with AC_CONFIG_FILES.
#--------------------------------------------------------------------

cat >confcache <<\_ACEOF
# This file is a shell script that caches the results of configure
# tests run on this system so they can be shared between configure
# scripts and configure runs, see configure's option --config-cache.
# It is not useful on other systems.  If it contains results you don't
# want to keep, you may remove or edit it.
#
# config.status only pays attention to the cache file if you give it
# the --recheck option to rerun configure.
#
# `ac_cv_env_foo' variables (set or unset) will be overridden when
# loading this file, other *unset* `ac_cv_foo' will be assigned the
# following values.

_ACEOF

# The following way of writing the cache mishandles newlines in values,
# but we know of no workaround that is simple, portable, and efficient.
# So, we kill variables containing newlines.
# Ultrix sh set writes to stderr and can't be redirected directly,
# and sets the high bit in the cache file unless we assign to the vars.
(
  for ac_var in `(set) 2>&1 | sed -n 's/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'`; do
    eval ac_val=\$$ac_var
    case $ac_val in #(
    *${as_nl}*)
      case $ac_var in #(
      *_cv_*) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: cache variable $ac_var contains a newline" >&5
printf "%s\n" "$as_me: WARNING: cache variable $ac_var contains a newline" >&2;} ;;
      esac
      case $ac_var in #(
      _ | IFS | as_nl) ;; #(
      BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(
      *) { eval $ac_var=; unset $ac_var;} ;;
      esac ;;
    esac
  done

  (set) 2>&1 |
    case $as_nl`(ac_space=' '; set) 2>&1` in #(
    *${as_nl}ac_space=\ *)
      # `set' does not quote correctly, so add quotes: double-quote
      # substitution turns \\\\ into \\, and sed turns \\ into \.
      sed -n \
	"s/'/'\\\\''/g;
	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p"
      ;; #(
    *)
      # `set' quotes correctly as required by POSIX, so do not add quotes.
      sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
      ;;
    esac |
    sort
) |
  sed '
     /^ac_cv_env_/b end
     t clear
     :clear
     s/^\([^=]*\)=\(.*[{}].*\)$/test ${\1+y} || &/
     t end
     s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
     :end' >>confcache
if diff "$cache_file" confcache >/dev/null 2>&1; then :; else
  if test -w "$cache_file"; then
    if test "x$cache_file" != "x/dev/null"; then
      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: updating cache $cache_file" >&5
printf "%s\n" "$as_me: updating cache $cache_file" >&6;}
      if test ! -f "$cache_file" || test -h "$cache_file"; then
	cat confcache >"$cache_file"
      else
        case $cache_file in #(
        */* | ?:*)
	  mv -f confcache "$cache_file"$$ &&
	  mv -f "$cache_file"$$ "$cache_file" ;; #(
        *)
	  mv -f confcache "$cache_file" ;;
	esac
      fi
    fi
  else
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: not updating unwritable cache $cache_file" >&5
printf "%s\n" "$as_me: not updating unwritable cache $cache_file" >&6;}
  fi
fi
rm -f confcache

test "x$prefix" = xNONE && prefix=$ac_default_prefix
# Let make expand exec_prefix.
test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'

# Transform confdefs.h into DEFS.
# Protect against shell expansion while executing Makefile rules.
# Protect against Makefile macro expansion.
#
# If the first sed substitution is executed (which looks for macros that
# take arguments), then branch to the quote section.  Otherwise,
# look for a macro that doesn't take arguments.
ac_script='
:mline
/\\$/{
 N
 s,\\\n,,
 b mline
}
t clear
:clear
s/^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 (][^	 (]*([^)]*)\)[	 ]*\(.*\)/-D\1=\2/g
t quote
s/^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 ][^	 ]*\)[	 ]*\(.*\)/-D\1=\2/g
t quote
b any
:quote
s/[	 `~#$^&*(){}\\|;'\''"<>?]/\\&/g
s/\[/\\&/g
s/\]/\\&/g
s/\$/$$/g
H
:any
${
	g
	s/^\n//
	s/\n/ /g
	p
}
'
DEFS=`sed -n "$ac_script" confdefs.h`


ac_libobjs=
ac_ltlibobjs=
U=
for ac_i in : $LIBOBJS; do test "x$ac_i" = x: && continue
  # 1. Remove the extension, and $U if already installed.
  ac_script='s/\$U\././;s/\.o$//;s/\.obj$//'
  ac_i=`printf "%s\n" "$ac_i" | sed "$ac_script"`
  # 2. Prepend LIBOBJDIR.  When used with automake>=1.10 LIBOBJDIR
  #    will be set to the directory where LIBOBJS objects are built.
  as_fn_append ac_libobjs " \${LIBOBJDIR}$ac_i\$U.$ac_objext"
  as_fn_append ac_ltlibobjs " \${LIBOBJDIR}$ac_i"'$U.lo'
done
LIBOBJS=$ac_libobjs

LTLIBOBJS=$ac_ltlibobjs



CFLAGS="${CFLAGS} ${CPPFLAGS}"; CPPFLAGS=""

: "${CONFIG_STATUS=./config.status}"
ac_write_fail=0
ac_clean_files_save=$ac_clean_files
ac_clean_files="$ac_clean_files $CONFIG_STATUS"
{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: creating $CONFIG_STATUS" >&5
printf "%s\n" "$as_me: creating $CONFIG_STATUS" >&6;}
as_write_fail=0
cat >$CONFIG_STATUS <<_ASEOF || as_write_fail=1
#! $SHELL
# Generated by $as_me.
# Run this file to recreate the current configuration.
# Compiler output produced by configure, useful for debugging
# configure, is in config.log if it exists.

debug=false
ac_cs_recheck=false
ac_cs_silent=false

SHELL=\${CONFIG_SHELL-$SHELL}
export SHELL
_ASEOF
cat >>$CONFIG_STATUS <<\_ASEOF || as_write_fail=1
## -------------------- ##
## M4sh Initialization. ##
## -------------------- ##

# Be more Bourne compatible
DUALCASE=1; export DUALCASE # for MKS sh
as_nop=:
if test ${ZSH_VERSION+y} && (emulate sh) >/dev/null 2>&1
then :
  emulate sh
  NULLCMD=:
  # Pre-4.2 versions of Zsh do word splitting on ${1+"$@"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '${1+"$@"}'='"$@"'
  setopt NO_GLOB_SUBST
else $as_nop
  case `(set -o) 2>/dev/null` in #(
  *posix*) :
    set -o posix ;; #(
  *) :
     ;;
esac
fi



# Reset variables that may have inherited troublesome values from
# the environment.

# IFS needs to be set, to space, tab, and newline, in precisely that order.
# (If _AS_PATH_WALK were called with IFS unset, it would have the
# side effect of setting IFS to empty, thus disabling word splitting.)
# Quoting is to prevent editors from complaining about space-tab.
as_nl='
'
export as_nl
IFS=" ""	$as_nl"

PS1='$ '
PS2='> '
PS4='+ '

# Ensure predictable behavior from utilities with locale-dependent output.
LC_ALL=C
export LC_ALL
LANGUAGE=C
export LANGUAGE

# We cannot yet rely on "unset" to work, but we need these variables
# to be unset--not just set to an empty or harmless value--now, to
# avoid bugs in old shells (e.g. pre-3.0 UWIN ksh).  This construct
# also avoids known problems related to "unset" and subshell syntax
# in other old shells (e.g. bash 2.01 and pdksh 5.2.14).
for as_var in BASH_ENV ENV MAIL MAILPATH CDPATH
do eval test \${$as_var+y} \
  && ( (unset $as_var) || exit 1) >/dev/null 2>&1 && unset $as_var || :
done

# Ensure that fds 0, 1, and 2 are open.
if (exec 3>&0) 2>/dev/null; then :; else exec 0</dev/null; fi
if (exec 3>&1) 2>/dev/null; then :; else exec 1>/dev/null; fi
if (exec 3>&2)            ; then :; else exec 2>/dev/null; fi

# The user is always right.
if ${PATH_SEPARATOR+false} :; then
  PATH_SEPARATOR=:
  (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {
    (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 ||
      PATH_SEPARATOR=';'
  }
fi


# Find who we are.  Look in the path if we contain no directory separator.
as_myself=
case $0 in #((
  *[\\/]* ) as_myself=$0 ;;
  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  case $as_dir in #(((
    '') as_dir=./ ;;
    */) ;;
    *) as_dir=$as_dir/ ;;
  esac
    test -r "$as_dir$0" && as_myself=$as_dir$0 && break
  done
IFS=$as_save_IFS

     ;;
esac
# We did not find ourselves, most probably we were run as `sh COMMAND'
# in which case we are not to be found in the path.
if test "x$as_myself" = x; then
  as_myself=$0
fi
if test ! -f "$as_myself"; then
  printf "%s\n" "$as_myself: error: cannot find myself; rerun with an absolute file name" >&2
  exit 1
fi



# as_fn_error STATUS ERROR [LINENO LOG_FD]
# ----------------------------------------
# Output "`basename $0`: error: ERROR" to stderr. If LINENO and LOG_FD are
# provided, also output the error to LOG_FD, referencing LINENO. Then exit the
# script with STATUS, using 1 if that was 0.
as_fn_error ()
{
  as_status=$1; test $as_status -eq 0 && as_status=1
  if test "$4"; then
    as_lineno=${as_lineno-"$3"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
    printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: $2" >&$4
  fi
  printf "%s\n" "$as_me: error: $2" >&2
  as_fn_exit $as_status
} # as_fn_error



# as_fn_set_status STATUS
# -----------------------
# Set $? to STATUS, without forking.
as_fn_set_status ()
{
  return $1
} # as_fn_set_status

# as_fn_exit STATUS
# -----------------
# Exit the shell with STATUS, even in a "trap 0" or "set -e" context.
as_fn_exit ()
{
  set +e
  as_fn_set_status $1
  exit $1
} # as_fn_exit

# as_fn_unset VAR
# ---------------
# Portably unset VAR.
as_fn_unset ()
{
  { eval $1=; unset $1;}
}
as_unset=as_fn_unset

# as_fn_append VAR VALUE
# ----------------------
# Append the text in VALUE to the end of the definition contained in VAR. Take
# advantage of any shell optimizations that allow amortized linear growth over
# repeated appends, instead of the typical quadratic growth present in naive
# implementations.
if (eval "as_var=1; as_var+=2; test x\$as_var = x12") 2>/dev/null
then :
  eval 'as_fn_append ()
  {
    eval $1+=\$2
  }'
else $as_nop
  as_fn_append ()
  {
    eval $1=\$$1\$2
  }
fi # as_fn_append

# as_fn_arith ARG...
# ------------------
# Perform arithmetic evaluation on the ARGs, and store the result in the
# global $as_val. Take advantage of shells that can avoid forks. The arguments
# must be portable across $(()) and expr.
if (eval "test \$(( 1 + 1 )) = 2") 2>/dev/null
then :
  eval 'as_fn_arith ()
  {
    as_val=$(( $* ))
  }'
else $as_nop
  as_fn_arith ()
  {
    as_val=`expr "$@" || test $? -eq 1`
  }
fi # as_fn_arith


if expr a : '\(a\)' >/dev/null 2>&1 &&
   test "X`expr 00001 : '.*\(...\)'`" = X001; then
  as_expr=expr
else
  as_expr=false
fi

if (basename -- /) >/dev/null 2>&1 && test "X`basename -- / 2>&1`" = "X/"; then
  as_basename=basename
else
  as_basename=false
fi

if (as_dir=`dirname -- /` && test "X$as_dir" = X/) >/dev/null 2>&1; then
  as_dirname=dirname
else
  as_dirname=false
fi

as_me=`$as_basename -- "$0" ||
$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
	 X"$0" : 'X\(//\)$' \| \
	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
printf "%s\n" X/"$0" |
    sed '/^.*\/\([^/][^/]*\)\/*$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`

# Avoid depending upon Character Ranges.
as_cr_letters='abcdefghijklmnopqrstuvwxyz'
as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
as_cr_Letters=$as_cr_letters$as_cr_LETTERS
as_cr_digits='0123456789'
as_cr_alnum=$as_cr_Letters$as_cr_digits


# Determine whether it's possible to make 'echo' print without a newline.
# These variables are no longer used directly by Autoconf, but are AC_SUBSTed
# for compatibility with existing Makefiles.
ECHO_C= ECHO_N= ECHO_T=
case `echo -n x` in #(((((
-n*)
  case `echo 'xy\c'` in
  *c*) ECHO_T='	';;	# ECHO_T is single tab character.
  xy)  ECHO_C='\c';;
  *)   echo `echo ksh88 bug on AIX 6.1` > /dev/null
       ECHO_T='	';;
  esac;;
*)
  ECHO_N='-n';;
esac

# For backward compatibility with old third-party macros, we provide
# the shell variables $as_echo and $as_echo_n.  New code should use
# AS_ECHO(["message"]) and AS_ECHO_N(["message"]), respectively.
as_echo='printf %s\n'
as_echo_n='printf %s'

rm -f conf$$ conf$$.exe conf$$.file
if test -d conf$$.dir; then
  rm -f conf$$.dir/conf$$.file
else
  rm -f conf$$.dir
  mkdir conf$$.dir 2>/dev/null
fi
if (echo >conf$$.file) 2>/dev/null; then
  if ln -s conf$$.file conf$$ 2>/dev/null; then
    as_ln_s='ln -s'
    # ... but there are two gotchas:
    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
    # In both cases, we have to default to `cp -pR'.
    ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
      as_ln_s='cp -pR'
  elif ln conf$$.file conf$$ 2>/dev/null; then
    as_ln_s=ln
  else
    as_ln_s='cp -pR'
  fi
else
  as_ln_s='cp -pR'
fi
rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
rmdir conf$$.dir 2>/dev/null


# as_fn_mkdir_p
# -------------
# Create "$as_dir" as a directory, including parents if necessary.
as_fn_mkdir_p ()
{

  case $as_dir in #(
  -*) as_dir=./$as_dir;;
  esac
  test -d "$as_dir" || eval $as_mkdir_p || {
    as_dirs=
    while :; do
      case $as_dir in #(
      *\'*) as_qdir=`printf "%s\n" "$as_dir" | sed "s/'/'\\\\\\\\''/g"`;; #'(
      *) as_qdir=$as_dir;;
      esac
      as_dirs="'$as_qdir' $as_dirs"
      as_dir=`$as_dirname -- "$as_dir" ||
$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$as_dir" : 'X\(//\)[^/]' \| \
	 X"$as_dir" : 'X\(//\)$' \| \
	 X"$as_dir" : 'X\(/\)' \| . 2>/dev/null ||
printf "%s\n" X"$as_dir" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
      test -d "$as_dir" && break
    done
    test -z "$as_dirs" || eval "mkdir $as_dirs"
  } || test -d "$as_dir" || as_fn_error $? "cannot create directory $as_dir"


} # as_fn_mkdir_p
if mkdir -p . 2>/dev/null; then
  as_mkdir_p='mkdir -p "$as_dir"'
else
  test -d ./-p && rmdir ./-p
  as_mkdir_p=false
fi


# as_fn_executable_p FILE
# -----------------------
# Test if FILE is an executable regular file.
as_fn_executable_p ()
{
  test -f "$1" && test -x "$1"
} # as_fn_executable_p
as_test_x='test -x'
as_executable_p=as_fn_executable_p

# Sed expression to map a string onto a valid CPP name.
as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"

# Sed expression to map a string onto a valid variable name.
as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"


exec 6>&1
## ----------------------------------- ##
## Main body of $CONFIG_STATUS script. ##
## ----------------------------------- ##
_ASEOF
test $as_write_fail = 0 && chmod +x $CONFIG_STATUS || ac_write_fail=1

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
# Save the log message, to keep $0 and so on meaningful, and to
# report actual input values of CONFIG_FILES etc. instead of their
# values after options handling.
ac_log="
This file was extended by ds9 $as_me 8.3, which was
generated by GNU Autoconf 2.71.  Invocation command line was

  CONFIG_FILES    = $CONFIG_FILES
  CONFIG_HEADERS  = $CONFIG_HEADERS
  CONFIG_LINKS    = $CONFIG_LINKS
  CONFIG_COMMANDS = $CONFIG_COMMANDS
  $ $0 $@

on `(hostname || uname -n) 2>/dev/null | sed 1q`
"

_ACEOF

case $ac_config_files in *"
"*) set x $ac_config_files; shift; ac_config_files=$*;;
esac



cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
# Files that config.status was made for.
config_files="$ac_config_files"

_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
ac_cs_usage="\
\`$as_me' instantiates files and other configuration actions
from templates according to the current configuration.  Unless the files
and actions are specified as TAGs, all are instantiated by default.

Usage: $0 [OPTION]... [TAG]...

  -h, --help       print this help, then exit
  -V, --version    print version number and configuration settings, then exit
      --config     print configuration, then exit
  -q, --quiet, --silent
                   do not print progress messages
  -d, --debug      don't remove temporary files
      --recheck    update $as_me by reconfiguring in the same conditions
      --file=FILE[:TEMPLATE]
                   instantiate the configuration file FILE

Configuration files:
$config_files

Report bugs to the package provider."

_ACEOF
ac_cs_config=`printf "%s\n" "$ac_configure_args" | sed "$ac_safe_unquote"`
ac_cs_config_escaped=`printf "%s\n" "$ac_cs_config" | sed "s/^ //; s/'/'\\\\\\\\''/g"`
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
ac_cs_config='$ac_cs_config_escaped'
ac_cs_version="\\
ds9 config.status 8.3
configured by $0, generated by GNU Autoconf 2.71,
  with options \\"\$ac_cs_config\\"

Copyright (C) 2021 Free Software Foundation, Inc.
This config.status script is free software; the Free Software Foundation
gives unlimited permission to copy, distribute and modify it."

ac_pwd='$ac_pwd'
srcdir='$srcdir'
test -n "\$AWK" || AWK=awk
_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
# The default lists apply if the user does not specify any file.
ac_need_defaults=:
while test $# != 0
do
  case $1 in
  --*=?*)
    ac_option=`expr "X$1" : 'X\([^=]*\)='`
    ac_optarg=`expr "X$1" : 'X[^=]*=\(.*\)'`
    ac_shift=:
    ;;
  --*=)
    ac_option=`expr "X$1" : 'X\([^=]*\)='`
    ac_optarg=
    ac_shift=:
    ;;
  *)
    ac_option=$1
    ac_optarg=$2
    ac_shift=shift
    ;;
  esac

  case $ac_option in
  # Handling of the options.
  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
    ac_cs_recheck=: ;;
  --version | --versio | --versi | --vers | --ver | --ve | --v | -V )
    printf "%s\n" "$ac_cs_version"; exit ;;
  --config | --confi | --conf | --con | --co | --c )
    printf "%s\n" "$ac_cs_config"; exit ;;
  --debug | --debu | --deb | --de | --d | -d )
    debug=: ;;
  --file | --fil | --fi | --f )
    $ac_shift
    case $ac_optarg in
    *\'*) ac_optarg=`printf "%s\n" "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"` ;;
    '') as_fn_error $? "missing file argument" ;;
    esac
    as_fn_append CONFIG_FILES " '$ac_optarg'"
    ac_need_defaults=false;;
  --he | --h |  --help | --hel | -h )
    printf "%s\n" "$ac_cs_usage"; exit ;;
  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
  | -silent | --silent | --silen | --sile | --sil | --si | --s)
    ac_cs_silent=: ;;

  # This is an error.
  -*) as_fn_error $? "unrecognized option: \`$1'
Try \`$0 --help' for more information." ;;

  *) as_fn_append ac_config_targets " $1"
     ac_need_defaults=false ;;

  esac
  shift
done

ac_configure_extra_args=

if $ac_cs_silent; then
  exec 6>/dev/null
  ac_configure_extra_args="$ac_configure_extra_args --silent"
fi

_ACEOF
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
if \$ac_cs_recheck; then
  set X $SHELL '$0' $ac_configure_args \$ac_configure_extra_args --no-create --no-recursion
  shift
  \printf "%s\n" "running CONFIG_SHELL=$SHELL \$*" >&6
  CONFIG_SHELL='$SHELL'
  export CONFIG_SHELL
  exec "\$@"
fi

_ACEOF
cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
exec 5>>config.log
{
  echo
  sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' <<_ASBOX
## Running $as_me. ##
_ASBOX
  printf "%s\n" "$ac_log"
} >&5

_ACEOF
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1

# Handling of arguments.
for ac_config_target in $ac_config_targets
do
  case $ac_config_target in
    "Makefile") CONFIG_FILES="$CONFIG_FILES Makefile" ;;

  *) as_fn_error $? "invalid argument: \`$ac_config_target'" "$LINENO" 5;;
  esac
done


# If the user did not use the arguments to specify the items to instantiate,
# then the envvar interface is used.  Set only those that are not.
# We use the long form for the default assignment because of an extremely
# bizarre bug on SunOS 4.1.3.
if $ac_need_defaults; then
  test ${CONFIG_FILES+y} || CONFIG_FILES=$config_files
fi

# Have a temporary directory for convenience.  Make it in the build tree
# simply because there is no reason against having it here, and in addition,
# creating and moving files from /tmp can sometimes cause problems.
# Hook for its removal unless debugging.
# Note that there is a small window in which the directory will not be cleaned:
# after its creation but before its name has been assigned to `$tmp'.
$debug ||
{
  tmp= ac_tmp=
  trap 'exit_status=$?
  : "${ac_tmp:=$tmp}"
  { test ! -d "$ac_tmp" || rm -fr "$ac_tmp"; } && exit $exit_status
' 0
  trap 'as_fn_exit 1' 1 2 13 15
}
# Create a (secure) tmp directory for tmp files.

{
  tmp=`(umask 077 && mktemp -d "./confXXXXXX") 2>/dev/null` &&
  test -d "$tmp"
}  ||
{
  tmp=./conf$$-$RANDOM
  (umask 077 && mkdir "$tmp")
} || as_fn_error $? "cannot create a temporary directory in ." "$LINENO" 5
ac_tmp=$tmp

# Set up the scripts for CONFIG_FILES section.
# No need to generate them if there are no CONFIG_FILES.
# This happens for instance with `./config.status config.h'.
if test -n "$CONFIG_FILES"; then


ac_cr=`echo X | tr X '\015'`
# On cygwin, bash can eat \r inside `` if the user requested igncr.
# But we know of no other shell where ac_cr would be empty at this
# point, so we can use a bashism as a fallback.
if test "x$ac_cr" = x; then
  eval ac_cr=\$\'\\r\'
fi
ac_cs_awk_cr=`$AWK 'BEGIN { print "a\rb" }' </dev/null 2>/dev/null`
if test "$ac_cs_awk_cr" = "a${ac_cr}b"; then
  ac_cs_awk_cr='\\r'
else
  ac_cs_awk_cr=$ac_cr
fi

echo 'BEGIN {' >"$ac_tmp/subs1.awk" &&
_ACEOF


{
  echo "cat >conf$$subs.awk <<_ACEOF" &&
  echo "$ac_subst_vars" | sed 's/.*/&!$&$ac_delim/' &&
  echo "_ACEOF"
} >conf$$subs.sh ||
  as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5
ac_delim_num=`echo "$ac_subst_vars" | grep -c '^'`
ac_delim='%!_!# '
for ac_last_try in false false false false false :; do
  . ./conf$$subs.sh ||
    as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5

  ac_delim_n=`sed -n "s/.*$ac_delim\$/X/p" conf$$subs.awk | grep -c X`
  if test $ac_delim_n = $ac_delim_num; then
    break
  elif $ac_last_try; then
    as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5
  else
    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
  fi
done
rm -f conf$$subs.sh

cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
cat >>"\$ac_tmp/subs1.awk" <<\\_ACAWK &&
_ACEOF
sed -n '
h
s/^/S["/; s/!.*/"]=/
p
g
s/^[^!]*!//
:repl
t repl
s/'"$ac_delim"'$//
t delim
:nl
h
s/\(.\{148\}\)..*/\1/
t more1
s/["\\]/\\&/g; s/^/"/; s/$/\\n"\\/
p
n
b repl
:more1
s/["\\]/\\&/g; s/^/"/; s/$/"\\/
p
g
s/.\{148\}//
t nl
:delim
h
s/\(.\{148\}\)..*/\1/
t more2
s/["\\]/\\&/g; s/^/"/; s/$/"/
p
b
:more2
s/["\\]/\\&/g; s/^/"/; s/$/"\\/
p
g
s/.\{148\}//
t delim
' <conf$$subs.awk | sed '
/^[^""]/{
  N
  s/\n//
}
' >>$CONFIG_STATUS || ac_write_fail=1
rm -f conf$$subs.awk
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
_ACAWK
cat >>"\$ac_tmp/subs1.awk" <<_ACAWK &&
  for (key in S) S_is_set[key] = 1
  FS = ""

}
{
  line = $ 0
  nfields = split(line, field, "@")
  substed = 0
  len = length(field[1])
  for (i = 2; i < nfields; i++) {
    key = field[i]
    keylen = length(key)
    if (S_is_set[key]) {
      value = S[key]
      line = substr(line, 1, len) "" value "" substr(line, len + keylen + 3)
      len += length(value) + length(field[++i])
      substed = 1
    } else
      len += 1 + keylen
  }

  print line
}

_ACAWK
_ACEOF
cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
if sed "s/$ac_cr//" < /dev/null > /dev/null 2>&1; then
  sed "s/$ac_cr\$//; s/$ac_cr/$ac_cs_awk_cr/g"
else
  cat
fi < "$ac_tmp/subs1.awk" > "$ac_tmp/subs.awk" \
  || as_fn_error $? "could not setup config files machinery" "$LINENO" 5
_ACEOF

# VPATH may cause trouble with some makes, so we remove sole $(srcdir),
# ${srcdir} and @srcdir@ entries from VPATH if srcdir is ".", strip leading and
# trailing colons and then remove the whole line if VPATH becomes empty
# (actually we leave an empty line to preserve line numbers).
if test "x$srcdir" = x.; then
  ac_vpsub='/^[	 ]*VPATH[	 ]*=[	 ]*/{
h
s///
s/^/:/
s/[	 ]*$/:/
s/:\$(srcdir):/:/g
s/:\${srcdir}:/:/g
s/:@srcdir@:/:/g
s/^:*//
s/:*$//
x
s/\(=[	 ]*\).*/\1/
G
s/\n//
s/^[^=]*=[	 ]*$//
}'
fi

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
fi # test -n "$CONFIG_FILES"


eval set X "  :F $CONFIG_FILES      "
shift
for ac_tag
do
  case $ac_tag in
  :[FHLC]) ac_mode=$ac_tag; continue;;
  esac
  case $ac_mode$ac_tag in
  :[FHL]*:*);;
  :L* | :C*:*) as_fn_error $? "invalid tag \`$ac_tag'" "$LINENO" 5;;
  :[FH]-) ac_tag=-:-;;
  :[FH]*) ac_tag=$ac_tag:$ac_tag.in;;
  esac
  ac_save_IFS=$IFS
  IFS=:
  set x $ac_tag
  IFS=$ac_save_IFS
  shift
  ac_file=$1
  shift

  case $ac_mode in
  :L) ac_source=$1;;
  :[FH])
    ac_file_inputs=
    for ac_f
    do
      case $ac_f in
      -) ac_f="$ac_tmp/stdin";;
      *) # Look for the file first in the build tree, then in the source tree
	 # (if the path is not absolute).  The absolute path cannot be DOS-style,
	 # because $ac_f cannot contain `:'.
	 test -f "$ac_f" ||
	   case $ac_f in
	   [\\/$]*) false;;
	   *) test -f "$srcdir/$ac_f" && ac_f="$srcdir/$ac_f";;
	   esac ||
	   as_fn_error 1 "cannot find input file: \`$ac_f'" "$LINENO" 5;;
      esac
      case $ac_f in *\'*) ac_f=`printf "%s\n" "$ac_f" | sed "s/'/'\\\\\\\\''/g"`;; esac
      as_fn_append ac_file_inputs " '$ac_f'"
    done

    # Let's still pretend it is `configure' which instantiates (i.e., don't
    # use $as_me), people would be surprised to read:
    #    /* config.h.  Generated by config.status.  */
    configure_input='Generated from '`
	  printf "%s\n" "$*" | sed 's|^[^:]*/||;s|:[^:]*/|, |g'
	`' by configure.'
    if test x"$ac_file" != x-; then
      configure_input="$ac_file.  $configure_input"
      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: creating $ac_file" >&5
printf "%s\n" "$as_me: creating $ac_file" >&6;}
    fi
    # Neutralize special characters interpreted by sed in replacement strings.
    case $configure_input in #(
    *\&* | *\|* | *\\* )
       ac_sed_conf_input=`printf "%s\n" "$configure_input" |
       sed 's/[\\\\&|]/\\\\&/g'`;; #(
    *) ac_sed_conf_input=$configure_input;;
    esac

    case $ac_tag in
    *:-:* | *:-) cat >"$ac_tmp/stdin" \
      || as_fn_error $? "could not create $ac_file" "$LINENO" 5 ;;
    esac
    ;;
  esac

  ac_dir=`$as_dirname -- "$ac_file" ||
$as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$ac_file" : 'X\(//\)[^/]' \| \
	 X"$ac_file" : 'X\(//\)$' \| \
	 X"$ac_file" : 'X\(/\)' \| . 2>/dev/null ||
printf "%s\n" X"$ac_file" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
  as_dir="$ac_dir"; as_fn_mkdir_p
  ac_builddir=.

case "$ac_dir" in
.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
*)
  ac_dir_suffix=/`printf "%s\n" "$ac_dir" | sed 's|^\.[\\/]||'`
  # A ".." for each directory in $ac_dir_suffix.
  ac_top_builddir_sub=`printf "%s\n" "$ac_dir_suffix" | sed 's|/[^\\/]*|/..|g;s|/||'`
  case $ac_top_builddir_sub in
  "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
  esac ;;
esac
ac_abs_top_builddir=$ac_pwd
ac_abs_builddir=$ac_pwd$ac_dir_suffix
# for backward compatibility:
ac_top_builddir=$ac_top_build_prefix

case $srcdir in
  .)  # We are building in place.
    ac_srcdir=.
    ac_top_srcdir=$ac_top_builddir_sub
    ac_abs_top_srcdir=$ac_pwd ;;
  [\\/]* | ?:[\\/]* )  # Absolute name.
    ac_srcdir=$srcdir$ac_dir_suffix;
    ac_top_srcdir=$srcdir
    ac_abs_top_srcdir=$srcdir ;;
  *) # Relative name.
    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
    ac_top_srcdir=$ac_top_build_prefix$srcdir
    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
esac
ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix


  case $ac_mode in
  :F)
  #
  # CONFIG_FILE
  #

_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
# If the template does not know about datarootdir, expand it.
# FIXME: This hack should be removed a few years after 2.60.
ac_datarootdir_hack=; ac_datarootdir_seen=
ac_sed_dataroot='
/datarootdir/ {
  p
  q
}
/@datadir@/p
/@docdir@/p
/@infodir@/p
/@localedir@/p
/@mandir@/p'
case `eval "sed -n \"\$ac_sed_dataroot\" $ac_file_inputs"` in
*datarootdir*) ac_datarootdir_seen=yes;;
*@datadir@*|*@docdir@*|*@infodir@*|*@localedir@*|*@mandir@*)
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting" >&5
printf "%s\n" "$as_me: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting" >&2;}
_ACEOF
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
  ac_datarootdir_hack='
  s&@datadir@&$datadir&g
  s&@docdir@&$docdir&g
  s&@infodir@&$infodir&g
  s&@localedir@&$localedir&g
  s&@mandir@&$mandir&g
  s&\\\${datarootdir}&$datarootdir&g' ;;
esac
_ACEOF

# Neutralize VPATH when `$srcdir' = `.'.
# Shell code in configure.ac might set extrasub.
# FIXME: do we really want to maintain this feature?
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
ac_sed_extra="$ac_vpsub
$extrasub
_ACEOF
cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
:t
/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
s|@configure_input@|$ac_sed_conf_input|;t t
s&@top_builddir@&$ac_top_builddir_sub&;t t
s&@top_build_prefix@&$ac_top_build_prefix&;t t
s&@srcdir@&$ac_srcdir&;t t
s&@abs_srcdir@&$ac_abs_srcdir&;t t
s&@top_srcdir@&$ac_top_srcdir&;t t
s&@abs_top_srcdir@&$ac_abs_top_srcdir&;t t
s&@builddir@&$ac_builddir&;t t
s&@abs_builddir@&$ac_abs_builddir&;t t
s&@abs_top_builddir@&$ac_abs_top_builddir&;t t
$ac_datarootdir_hack
"
eval sed \"\$ac_sed_extra\" "$ac_file_inputs" | $AWK -f "$ac_tmp/subs.awk" \
  >$ac_tmp/out || as_fn_error $? "could not create $ac_file" "$LINENO" 5

test -z "$ac_datarootdir_hack$ac_datarootdir_seen" &&
  { ac_out=`sed -n '/\${datarootdir}/p' "$ac_tmp/out"`; test -n "$ac_out"; } &&
  { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' \
      "$ac_tmp/out"`; test -z "$ac_out"; } &&
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: $ac_file contains a reference to the variable \`datarootdir'
which seems to be undefined.  Please make sure it is defined" >&5
printf "%s\n" "$as_me: WARNING: $ac_file contains a reference to the variable \`datarootdir'
which seems to be undefined.  Please make sure it is defined" >&2;}

  rm -f "$ac_tmp/stdin"
  case $ac_file in
  -) cat "$ac_tmp/out" && rm -f "$ac_tmp/out";;
  *) rm -f "$ac_file" && mv "$ac_tmp/out" "$ac_file";;
  esac \
  || as_fn_error $? "could not create $ac_file" "$LINENO" 5
 ;;



  esac

done # for ac_tag


as_fn_exit 0
_ACEOF
ac_clean_files=$ac_clean_files_save

test $ac_write_fail = 0 ||
  as_fn_error $? "write failure creating $CONFIG_STATUS" "$LINENO" 5


# configure is writing to config.log, and then calls config.status.
# config.status does its own redirection, appending to config.log.
# Unfortunately, on DOS this fails, as config.log is still kept open
# by configure, so config.status won't be able to write to it; its
# output is simply discarded.  So we exec the FD to /dev/null,
# effectively closing config.log, so it can be properly (re)opened and
# appended to by config.status.  When coming back to configure, we
# need to make the FD available again.
if test "$no_create" != yes; then
  ac_cs_success=:
  ac_config_status_args=
  test "$silent" = yes &&
    ac_config_status_args="$ac_config_status_args --quiet"
  exec 5>/dev/null
  $SHELL $CONFIG_STATUS $ac_config_status_args || ac_cs_success=false
  exec 5>>config.log
  # Use ||, not &&, to avoid exiting from the if with $? = 1, which
  # would make configure fail if this is the last instruction.
  $ac_cs_success || as_fn_exit 1
fi
if test -n "$ac_unrecognized_opts" && test "$enable_option_checking" != no; then
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: unrecognized options: $ac_unrecognized_opts" >&5
printf "%s\n" "$as_me: WARNING: unrecognized options: $ac_unrecognized_opts" >&2;}
fi


