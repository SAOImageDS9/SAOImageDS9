<!DOCTYPE html><html><head>
<title>menubar - Create and manipulate menubars</title>
<style type="text/css"><!--
    HTML {
	background: 	#FFFFFF;
	color: 		black;
    }
    BODY {
	background: 	#FFFFFF;
	color:	 	black;
    }
    DIV.doctools {
	margin-left:	10%;
	margin-right:	10%;
    }
    DIV.doctools H1,DIV.doctools H2 {
	margin-left:	-5%;
    }
    H1, H2, H3, H4 {
	margin-top: 	1em;
	font-family:	sans-serif;
	font-size:	large;
	color:		#005A9C;
	background: 	transparent;
	text-align:		left;
    }
    H1.doctools_title {
	text-align: center;
    }
    UL,OL {
	margin-right: 0em;
	margin-top: 3pt;
	margin-bottom: 3pt;
    }
    UL LI {
	list-style: disc;
    }
    OL LI {
	list-style: decimal;
    }
    DT {
	padding-top: 	1ex;
    }
    UL.doctools_toc,UL.doctools_toc UL, UL.doctools_toc UL UL {
	font:		normal 12pt/14pt sans-serif;
	list-style:	none;
    }
    LI.doctools_section, LI.doctools_subsection {
	list-style: 	none;
	margin-left: 	0em;
	text-indent:	0em;
	padding: 	0em;
    }
    PRE {
	display: 	block;
	font-family:	monospace;
	white-space:	pre;
	margin:		0%;
	padding-top:	0.5ex;
	padding-bottom:	0.5ex;
	padding-left:	1ex;
	padding-right:	1ex;
	width:		100%;
    }
    PRE.doctools_example {
	color: 		black;
	background: 	#f5dcb3;
	border:		1px solid black;
    }
    UL.doctools_requirements LI, UL.doctools_syntax LI {
	list-style: 	none;
	margin-left: 	0em;
	text-indent:	0em;
	padding:	0em;
    }
    DIV.doctools_synopsis {
	color: 		black;
	background: 	#80ffff;
	border:		1px solid black;
	font-family:	serif;
	margin-top: 	1em;
	margin-bottom: 	1em;
    }
    UL.doctools_syntax {
	margin-top: 	1em;
	border-top:	1px solid black;
    }
    UL.doctools_requirements {
	margin-bottom: 	1em;
	border-bottom:	1px solid black;
    }
--></style>
</head>
<!-- Generated from file 'menubar.man' by tcllib/doctools with format 'html'
   -->
<!-- Copyright &amp;copy; 2009 Tom Krehbiel &amp;lt;krehbiel.tom@gmail.com&amp;gt; All rights reserved.
   -->
<!-- menubar.n
   -->
<body><hr> [
   <a href="../../../../../../../../home">Tklib Home</a>
| <a href="../../../../toc.html">Main Table Of Contents</a>
| <a href="../../../toc.html">Table Of Contents</a>
| <a href="../../../../index.html">Keyword Index</a>
| <a href="../../../../toc0.html">Categories</a>
| <a href="../../../../toc1.html">Modules</a>
| <a href="../../../../toc2.html">Applications</a>
 ] <hr>
<div class="doctools">
<h1 class="doctools_title">menubar(n) 0.5 tklib &quot;Create and manipulate menubars&quot;</h1>
<div id="name" class="doctools_section"><h2><a name="name">Name</a></h2>
<p>menubar - Creates an instance of the <em>menubar</em> Class.</p>
</div>
<div id="toc" class="doctools_section"><h2><a name="toc">Table Of Contents</a></h2>
<ul class="doctools_toc">
<li class="doctools_section"><a href="#toc">Table Of Contents</a></li>
<li class="doctools_section"><a href="#synopsis">Synopsis</a></li>
<li class="doctools_section"><a href="#section1">Description</a></li>
<li class="doctools_section"><a href="#section2">Options</a></li>
<li class="doctools_section"><a href="#section3">Introduction</a></li>
<li class="doctools_section"><a href="#section4">Terminology</a></li>
<li class="doctools_section"><a href="#section5">Methods</a></li>
<li class="doctools_section"><a href="#section6">Methods - menu.xxx</a></li>
<li class="doctools_section"><a href="#section7">Methods - tag.xxx</a></li>
<li class="doctools_section"><a href="#section8">Methods - group.xxx</a></li>
<li class="doctools_section"><a href="#section9">Methods - notebook.xxx</a></li>
<li class="doctools_section"><a href="#section10">Scope Control</a></li>
<li class="doctools_section"><a href="#section11">Example</a></li>
<li class="doctools_section"><a href="#section12">Caveats</a></li>
<li class="doctools_section"><a href="#section13">References</a></li>
<li class="doctools_section"><a href="#section14">Bugs, Ideas, Feedback</a></li>
<li class="doctools_section"><a href="#copyright">Copyright</a></li>
</ul>
</div>
<div id="synopsis" class="doctools_section"><h2><a name="synopsis">Synopsis</a></h2>
<div class="doctools_synopsis">
<ul class="doctools_requirements">
<li>package require <b class="pkgname">Tcl 8.6</b></li>
<li>package require <b class="pkgname">Tk 8.6</b></li>
<li>package require <b class="pkgname">menubar <span class="opt">?0.5?</span></b></li>
</ul>
<ul class="doctools_syntax">
<li><a href="#1"><b class="cmd">menubar new</b> <span class="opt">?options?</span></a></li>
<li><a href="#2"><i class="arg">mBarInst</i> <b class="cmd">define</b> <i class="arg">body</i></a></li>
<li><a href="#3"><i class="arg">mBarInst</i> <b class="cmd">install</b> <i class="arg">pathName body</i></a></li>
<li><a href="#4"><i class="arg">mBarInst</i> <b class="cmd">menu.configure</b> <i class="arg">option tag-settings ?option tag-settings ...?</i></a></li>
<li><a href="#5"><i class="arg">mBarInst</i> <b class="cmd">menu.namespace</b> <i class="arg">tag namespace</i></a></li>
<li><a href="#6"><i class="arg">mBarInst</i> <b class="cmd">menu.hide</b> <i class="arg">tag</i></a></li>
<li><a href="#7"><i class="arg">mBarInst</i> <b class="cmd">menu.show</b> <i class="arg">tag</i></a></li>
<li><a href="#8"><i class="arg">mBarInst</i> <b class="cmd">tag.add</b> <i class="arg">tag value</i></a></li>
<li><a href="#9"><i class="arg">mBarInst</i> <b class="cmd">tag.configure</b> <i class="arg">pathName tag ?option value ...option value?</i></a></li>
<li><a href="#10"><i class="arg">mBarInst</i> <b class="cmd">tag.cget</b> <i class="arg">pathName tag ?option?</i></a></li>
<li><a href="#11"><i class="arg">mBarInst</i> <b class="cmd">group.add</b> <i class="arg">tag label ?cmd? ?accel? ?sequence? ?state?</i></a></li>
<li><a href="#12"><i class="arg">mBarInst</i> <b class="cmd">group.delete</b> <i class="arg">tag label</i></a></li>
<li><a href="#13"><i class="arg">mBarInst</i> <b class="cmd">group.move</b> <i class="arg">direction tag label</i></a></li>
<li><a href="#14"><i class="arg">mBarInst</i> <b class="cmd">group.configure</b> <i class="arg">tag label ?option value ...option value?</i></a></li>
<li><a href="#15"><i class="arg">mBarInst</i> <b class="cmd">group.serialize</b> <i class="arg">tag</i></a></li>
<li><a href="#16"><i class="arg">mBarInst</i> <b class="cmd">group.deserialize</b> <i class="arg">tag stream</i></a></li>
<li><a href="#17"><i class="arg">mBarInst</i> <b class="cmd">notebook.addTabStore</b> <i class="arg">pathname</i></a></li>
<li><a href="#18"><i class="arg">mBarInst</i> <b class="cmd">notebook.deleteTabStore</b> <i class="arg">pathname</i></a></li>
<li><a href="#19"><i class="arg">mBarInst</i> <b class="cmd">notebook.setTabValue</b> <i class="arg">pathname tag</i></a></li>
<li><a href="#20"><i class="arg">mBarInst</i> <b class="cmd">notebook.restoreTabValues</b> <i class="arg">pathname</i></a></li>
</ul>
</div>
</div>
<div id="section1" class="doctools_section"><h2><a name="section1">Description</a></h2>
<dl class="doctools_definitions">
<dt><a name="1"><b class="cmd">menubar new</b> <span class="opt">?options?</span></a></dt>
<dd></dd>
</dl>
<p>Create and return a new instance of the menubar class. The
menubar class encapsulates the definition, installation and
dynamic behavior of a menubar. The class doesn't depend on a
widget framework and therefore can be used with or without a
framework (e.g. Bwidget, IWidget, Snit, etc.). Unlike other Tk
widget commands, the menubar command doesn't have a <em>pathName</em>
argument because menubars are handled by the window manager (i.e. wm)
and not the application.</p>
</div>
<div id="section2" class="doctools_section"><h2><a name="section2">Options</a></h2>
<p>The following options can be passed to the <em>menubar new</em> command.</p>
<p>These options are inherited from the Tk menu command, their effect is
platform specific.</p>
<dl class="doctools_options">
<dt><b class="option"><a href="http://docs.activestate.com/activetcl/8.5/tcl/TkCmd/options.htm#M-activebackground">-activebackground</a></b></dt>
<dd></dd>
<dt><b class="option"><a href="http://docs.activestate.com/activetcl/8.5/tcl/TkCmd/options.htm#M-activeborderwidth">-activeborderwidth</a></b></dt>
<dd></dd>
<dt><b class="option"><a href="http://docs.activestate.com/activetcl/8.5/tcl/TkCmd/options.htm#M-activeforeground">-activeforeground</a></b></dt>
<dd></dd>
<dt><b class="option"><a href="http://docs.activestate.com/activetcl/8.5/tcl/TkCmd/options.htm#M-background">-background</a></b></dt>
<dd></dd>
<dt><b class="option"><a href="http://docs.activestate.com/activetcl/8.5/tcl/TkCmd/options.htm#M-borderwidth">-borderwidth</a></b></dt>
<dd></dd>
<dt><b class="option"><a href="http://docs.activestate.com/activetcl/8.5/tcl/TkCmd/options.htm#M-cursor">-cursor</a></b></dt>
<dd></dd>
<dt><b class="option"><a href="http://docs.activestate.com/activetcl/8.5/tcl/TkCmd/options.htm#M-disabledforeground">-disabledforeground</a></b></dt>
<dd></dd>
<dt><b class="option"><a href="http://docs.activestate.com/activetcl/8.5/tcl/TkCmd/options.htm#M-font">-font</a></b></dt>
<dd></dd>
<dt><b class="option"><a href="http://docs.activestate.com/activetcl/8.5/tcl/TkCmd/options.htm#M-foreground">-foreground</a></b></dt>
<dd></dd>
<dt><b class="option"><a href="http://docs.activestate.com/activetcl/8.5/tcl/TkCmd/options.htm#M-relief">-relief</a></b></dt>
<dd></dd>
</dl>
</div>
<div id="section3" class="doctools_section"><h2><a name="section3">Introduction</a></h2>
<p>An instance of the menubar class provides methods for compiling a
description of the menubar, configuring menu items and
installing the menubar in toplevel windows.</p>
<p>A menubar can be thought of as a tree of cascading menus. Users define
a menubar using a language that results in a human readable description
of a menubar. The description of the menubar is then compiled by an
instance of the menubar class after which it can be installed in one or more
toplevel windows.</p>
<p>The menubar class provides many unique capabilities that are not
found in other tcl/tk menubar implementation. Some of these are:</p>
<ul class="doctools_itemized">
<li><p>A tagging system that simplifies access to menu entries in the menu tree.</p></li>
<li><p>Support for user defined tags that depend on the toplevel window context.</p></li>
<li><p>A simplified and uniform interface for all callback commands.</p></li>
<li><p>Namespace support for all callback commands so callback commands can be easily grouped into namespaces.</p></li>
<li><p>Support for hiding and exposing menus on the menubar.</p></li>
<li><p>A simplified method for creating radiobutton groups.</p></li>
<li><p>Automatic management of state variables for checkbuttons and radiobuttons.</p></li>
<li><p>Scope control for the state variables of checkbuttons and radiobuttons.</p></li>
<li><p>Tear-off menu management that ensures only one tearoff menu is created.</p></li>
<li><p>Support for dynamic menu extension to simplify the creation of recent document menus.</p></li>
<li><p>Support for saving and restoring dynamic menu extensions.</p></li>
</ul>
</div>
<div id="section4" class="doctools_section"><h2><a name="section4">Terminology</a></h2>
<dl class="doctools_definitions">
	
<dt>MENUBAR</dt>
<dd><p>The visible rendering of a menubar in a toplevel window is a horizontally
	group of cascading Tk menus.</p></dd>
<dt>MENU</dt>
<dd><p>A menu is an ordered list of items that is rendered
	vertically. Menus are not visible until a user
	preforms some action (normally a &lt;ButtonPress-1&gt; event). A menu
	may contain any number of child menus that are rendered as
	cascading menus. Cascading menus are rendered next to the parent menu
	when they are activated.</p></dd>
<dt>MENU ENTRY</dt>
<dd><p>A menu contains an ordered list of items called entries.
	Menu entries have a type and the menubar class supports the
	following 6 entry types:
	<em>Command</em>, <em>Checkbutton</em>, <em>Radiobutton</em>, <em>Separator</em>, <em>Group</em> and <em>Menu</em>.</p></dd>
<dt>ENTRY LABEL</dt>
<dd><p>Each menu entry has a visible string that is called the entry label.</p></dd>
<dt>TAG</dt>
<dd><p>A tag is name that is normally used to referr to an item in a menu
	tree. A tag name is an alphanumeric character string
	that may include the underscore character. Menu tree tags are
	defined for all nodes and leafs in a menu tree. This provides a
	flat abstraction of the tree and simplifies item referencing in
	menubar methods. Without this abstraction it would be
	necessary to reference menu elements using a tree path which
	could change at run-time. The menubar class also has a method that
	can create a user defined tag. User
	defined tags store values that change based on the currently
	active toplevel window. User defined tags can be used to store widget
	pathnames use by callback code so that output can be routed to the
	appropriate toplevel window.</p></dd>
</dl>
</div>
<div id="section5" class="doctools_section"><h2><a name="section5">Methods</a></h2>
<dl class="doctools_definitions">
	
<dt><a name="2"><i class="arg">mBarInst</i> <b class="cmd">define</b> <i class="arg">body</i></a></dt>
<dd><p>Compiles <em>body</em> into a tree of menu entries which define the
	visual layout of the menubar. The <em>body</em> argument
	describes the layout using the following syntax, where the
	elements of the syntax are described below.</p>
<p><em>body == definitions</em></p>
<pre class="doctools_example">
definitions    ::= { &lt;ignore&gt; | &lt;definition&gt; | &lt;definition&gt; &lt;definitions&gt; }
ignore         ::= { &lt;nl&gt; | &lt;white-space&gt; &lt;nl&gt; | # &lt;comment&gt; &lt;nl&gt; }
definition     ::= { &lt;command&gt; | &lt;checkbutton&gt; | &lt;radiobutton&gt; | &lt;separator&gt; | &lt;group&gt; | &lt;menu&gt; }
command        ::= &lt;label&gt; C &lt;tag&gt; &lt;nl&gt;
checkbutton    ::= &lt;label&gt; X&lt;scope&gt; { &lt;tag&gt; | &lt;tag&gt;+ } &lt;nl&gt;
radiobutton    ::= &lt;label&gt; R&lt;scope&gt; { &lt;tag&gt; | &lt;tag&gt;+ } &lt;nl&gt;
separator      ::= &lt;stext&gt; S &lt;tag&gt; &lt;nl&gt;
group          ::= &lt;dummy&gt; G &lt;tag&gt; &lt;nl&gt;
menu           ::= &lt;label&gt; { M:&lt;tag&gt; | M:&lt;tag&gt;+ } &lt;nl&gt; &lt;definitions&gt;
stext          ::= '--' | &lt;label&gt;
scope          ::= '' | '@' | '='
</pre>
<p><em> </em></p>
<dl class="doctools_definitions">
	
<dt>C - Command</dt>
<dd><p>The C type entry is the most common type of entry. This entry executes
	a command when it is invoked.</p></dd>
<dt>X - Checkbutton</dt>
<dd><p>A X type entry behaves much like a Tk checkbutton
	widget. When it is invoked it toggles back and forth between
	a selected and deselected states. The value of a checkbutton
	is a boolean (i.e. 1 or 0). By default all checkbuttons are
	deselected. If you want the checkbutton to be initially selected
	then include a trailing plus (+) with the tag name. See SCOPE CONTROL
	below for a description of the scope indicator.</p></dd>
<dt>R - Radiobutton</dt>
<dd><p>A R type menu entry behaves much like a Tk radiobutton widget. Each
	radiobutton entry is a member of a radiobutton group that
	controls the behavior of the radiobuttons in the group. All
	radiobuttons in a group are given the same tag name. In the
	example below Red, Green and Blue all have the same tag and are
	therefore all in the same radiobutton group. A trailing plus
	(+) on the tag name of a radiobutton entry will cause the entry to be
	the initially selected entry. See SCOPE CONTROL
	below for a description of the scope indicator.</p></dd>
<dt>S - Separator</dt>
<dd><p>A S type menu entry is an entry that is displayed either as a horizontal
	dividing line or a label. Separators are not active elements of a menu and
	have no associated behavior if they are invoked. If &lt;stext&gt; is two dashes
	(i.e. '--') then the separator will be displayed as a horizontal line
	otherwise &lt;stext&gt; will be displayed as a bold label surrounded by double
	dashes (e.g. &quot;-- &lt;stext&gt; --&quot;) with a lightgray background.</p></dd>
<dt>G - Command Group</dt>
<dd><p>The G type menu entry marks a location in the menu tree where
	entries can be dynamically added and removed. Menu extension can only
	occur at the end of a menu so G type entries must be the last item on a menu.
	A G	type entry is rendered as a separator line. The <em>group.&lt;xxx&gt;</em>
	sub-commands are used to manipulate command group entries.</p></dd>
<dt>M - Menu</dt>
<dd><p>An M type entry is used to define both menubar menus and cascading
	menus. Menu entries are the most complicated of the 6 menu types.
	A menu entry is composed of three list elements. The first element
	of the list is its label. The second element of the list is a
	composite string consisting of a type identifier (M) followed by
	an optional tag (beginning with a ':' separator) and finally an
	optional plus (+) which indicates that the menu is a tear-off
	menu. The final element of the list is a LIST VALUE.</p></dd>
</dl></dd>
</dl>
<dl class="doctools_definitions">
	
<dt><a name="3"><i class="arg">mBarInst</i> <b class="cmd">install</b> <i class="arg">pathName body</i></a></dt>
<dd><p>The <em>install</em> method installs the menubar created with the
	<em>define</em> method into toplevel window <em>pathName</em>. The
	<em>body</em> argument of the command contains a tcl script which
	is used to initialize the installed menubar. Normally the tcl
	script will contain calls to various menubar methods to perform
	the initialization. The initialization code is only run once
	when the menubar is installed. The namespace in which the <em>install</em>
	method is executed becomes the default namespace for callback commands
	(see <em>menu.namespace</em> below for more details).</p></dd>
</dl>
</div>
<div id="section6" class="doctools_section"><h2><a name="section6">Methods - menu.xxx</a></h2>
<dl class="doctools_definitions">
	
<dt><a name="4"><i class="arg">mBarInst</i> <b class="cmd">menu.configure</b> <i class="arg">option tag-settings ?option tag-settings ...?</i></a></dt>
<dd><p>Configures the tags of a menubar and returns an empty string. This method provides a convenient
		way to configure a larger number of tags without the verbosity of using the <em>tag.configure</em> method.</p>
<dl class="doctools_definitions">
		
<dt><i class="arg">option</i></dt>
<dd><p><em>Option</em> may have any of the values accepted by the <em>tag.configure</em> method.</p></dd>
<dt><i class="arg">tag-settings</i></dt>
<dd><p>The <em>tag-settings</em> argument is a string that is converted to a list of tag-value pairs
			using the following syntax.</p>
<p>Syntax for <em>tag-settings</em>.</p>
<pre class="doctools_example">
tag-settings ::= { &lt;ignore&gt; | &lt;value&gt; | &lt;value&gt; &lt;tag-settings&gt; }
ignore       ::= { &lt;nl&gt; | &lt;white-space&gt; &lt;nl&gt; | # &lt;comment&gt; &lt;nl&gt; }
value        ::= &lt;tag&gt; &lt;option-value&gt; &lt;nl&gt;
</pre>
</dd>
</dl></dd>
</dl>
<dl class="doctools_definitions">
	
<dt><a name="5"><i class="arg">mBarInst</i> <b class="cmd">menu.namespace</b> <i class="arg">tag namespace</i></a></dt>
<dd><p>Change the namespace for a sub-tree of the menubar
		starting at entry <em>tag</em>. The new value will be <em>namespace</em>.
		Each entry in the menubar tree has an
		associated namespace which will be used for its callback
		procedure. The default namespace is the namespace where
		the <em>install</em>  method was executed. The <em>namespace</em>
		method can be used to change the namespace
		that will be used for callbacks in a sub-tree of the
		menubar. This method can only be used in the context of
		an <em>install</em> script.</p></dd>
</dl>
<dl class="doctools_definitions">
	
<dt><a name="6"><i class="arg">mBarInst</i> <b class="cmd">menu.hide</b> <i class="arg">tag</i></a></dt>
<dd><p>Remove (hide) a menubar entry. When a
		menubar tree is defined all entries are visible by default.
		This method can be used to hide a menubar entry.
		The <em>hide</em> methods can be used in the
		context of an <em>install</em> script so that a menu will be
		initially hidden at application start up. The <em>tag</em> argument
		is the tag name of the menu to be hidden.</p></dd>
<dt><a name="7"><i class="arg">mBarInst</i> <b class="cmd">menu.show</b> <i class="arg">tag</i></a></dt>
<dd><p>Exposes (shows) a hidden menubar entry. When a
		menubar tree is defined all entries are visible by default.
		If a entry is hidden from the user (using the menu.hide method)
		then it can be exposed again using the show method. The <em>tag</em>
		argument is the tag name of the menu to be shown.</p></dd>
</dl>
</div>
<div id="section7" class="doctools_section"><h2><a name="section7">Methods - tag.xxx</a></h2>
<dl class="doctools_definitions">
	
<dt><a name="8"><i class="arg">mBarInst</i> <b class="cmd">tag.add</b> <i class="arg">tag value</i></a></dt>
<dd><p>Add a user defined <em>tag</em> value. The <em>tag.add</em> method
		adds a new tag-value pair to the the tags defined for a
		menubar. User defined tags are different from the tags
		created by the <em>define</em> method. The <em>tag.add</em>
		method can only be used in an <em>install</em> script and its
		value is associated with the toplevel where the menubar is
		installed. This makes the tag context sensitive so callback
		code that queries the tag value will receive a value that
		is associated with the window that performed the callback.</p></dd>
</dl>
<dl class="doctools_definitions">
	
<dt><a name="9"><i class="arg">mBarInst</i> <b class="cmd">tag.configure</b> <i class="arg">pathName tag ?option value ...option value?</i></a></dt>
<dd><p>Given the <em>pathName</em> of a toplevel window and a <em>tag</em> this method configures the
		menu entry associated with the tag and return an empty string.</p>
<dl class="doctools_definitions">
			
<dt><i class="arg">Standard Options</i></dt>
<dd><p>These option are the same as those described for menu entries in the Tk <em>menu</em> documentation.</p>
<dl class="doctools_options">
			
<dt><b class="option">-activebackground</b></dt>
<dd></dd>
<dt><b class="option">-activeforeground</b></dt>
<dd></dd>
<dt><b class="option">-background</b></dt>
<dd></dd>
<dt><b class="option">-bitmap</b></dt>
<dd></dd>
<dt><b class="option">-columnbreak</b></dt>
<dd></dd>
<dt><b class="option">-compound</b></dt>
<dd></dd>
<dt><b class="option">-font</b></dt>
<dd></dd>
<dt><b class="option">-foreground</b></dt>
<dd></dd>
<dt><b class="option">-hidemargin</b></dt>
<dd></dd>
<dt><b class="option">-image</b></dt>
<dd></dd>
<dt><b class="option">-indicatoron</b></dt>
<dd></dd>
<dt><b class="option">-label</b></dt>
<dd></dd>
<dt><b class="option">-selectcolor</b></dt>
<dd></dd>
<dt><b class="option">-selectimage</b></dt>
<dd></dd>
<dt><b class="option">-state</b></dt>
<dd></dd>
</dl>
<p><em> </em></p></dd>
<dt>Class Specific Options</dt>
<dd><dl class="doctools_options">
			
<dt><b class="option">-bind</b> {uline accel sequence}</dt>
<dd><p>The value of the <em>-bind</em> option is three element list where the values are as follows.</p>
<dl class="doctools_definitions">
			
<dt>uline</dt>
<dd><p>An integer index of a character to underline in the entry.
			  This value performs the same function as the Tk <em>menu</em> -underline option.
			  If this value is an empty string then no underlining is performed.</p></dd>
<dt>accel</dt>
<dd><p>A string to display at the right side of the menu
			  entry. The string normally describes an accelerator keystroke sequence that
			  may be typed to invoke the same function as the menu entry.
			  This value performs the same function as the Tk <em>menu</em> -accelerator option.
			  If this value is an empty string then no accelerator is displayed.</p></dd>
<dt>sequence</dt>
<dd><p>A bind sequence that will cause the entries associated command to fire.</p></dd>
</dl></dd>
<dt><b class="option">-command</b> cmdprefix</dt>
<dd><p>The value of the <em>-command</em> option a command
			  prefix that is evaluated when the menu entry is invoked.
			  By default the callback is evaluate in the
			  namespace where the <em>install</em> method was executed. Additional values
			  are appended to the <em>cmdprefix</em> and are thus passed to the
			  callback command as argument. These additional arguments are described
			  in the list below.</p>
<dl class="doctools_definitions">
			
<dt>command entry</dt>
<dd><p>1) The pathname of the toplevel window that invoked the callback.</p></dd>
<dt>checkbutton entry</dt>
<dd><p>1) The pathname of the toplevel window that invoked the callback.</p>
<p>2) The checkbutton's tag name</p>
<p>3) The new value for the checkbutton</p></dd>
<dt>radiobutton entry</dt>
<dd><p>1) The pathname of the toplevel window that invoked the callback.</p>
<p>2) The radiobutton's tag name</p>
<p>3) The label of the button that was selected</p></dd>
<dt>group entry</dt>
<dd><p>1) The pathname of the toplevel window that invoked the callback.</p></dd>
</dl></dd>
</dl></dd>
</dl></dd>
</dl>
<dl class="doctools_definitions">
	
<dt><a name="10"><i class="arg">mBarInst</i> <b class="cmd">tag.cget</b> <i class="arg">pathName tag ?option?</i></a></dt>
<dd><p>Returns the value of the configuration option given by <em>option</em>
	or the value of a user defined tag. The option argument may be any
	of the options accepted by the <em>tag.configure</em> method for the
	<em>tag</em> type. User defined tags are queried without an <em>option</em>
	value.</p></dd>
</dl>
</div>
<div id="section8" class="doctools_section"><h2><a name="section8">Methods - group.xxx</a></h2>
<dl class="doctools_definitions">
	
<dt><a name="11"><i class="arg">mBarInst</i> <b class="cmd">group.add</b> <i class="arg">tag label ?cmd? ?accel? ?sequence? ?state?</i></a></dt>
<dd><p>Add a command to the group with tag name <em>tag</em>. This method
	appends a new command entry to the end of a command group. The order of the
	arguments is fixed but arguments to the right can be ignored. Arguments to
	this method have the following meaning.</p>
<dl class="doctools_arguments">
	
<dt>tag <i class="arg">(string)</i></dt>
<dd><p>The tag name of the command group.</p></dd>
<dt>label <i class="arg">(string)</i></dt>
<dd><p>The displayed label for the menu entry.</p></dd>
<dt>cmd <i class="arg">(string)</i></dt>
<dd><p>A command prefix that will be used for callback command.</p></dd>
<dt>accel <i class="arg">(string)</i></dt>
<dd><p>An accelerator string that will be displayed next to the entry label.</p></dd>
<dt>sequence <i class="arg">(string)</i></dt>
<dd><p>A bind sequence that will be bound to the callback command.</p></dd>
<dt>state <i class="arg">(enum)</i></dt>
<dd><p>Sets the active state of the command. One of:  normal, disabled, active</p></dd>
</dl></dd>
</dl>
<dl class="doctools_definitions">
	
<dt><a name="12"><i class="arg">mBarInst</i> <b class="cmd">group.delete</b> <i class="arg">tag label</i></a></dt>
<dd><p>Delete a command from a group with tag name <em>tag</em>. This method
	deletes command <em>label</em> from a command group.</p></dd>
</dl>
<dl class="doctools_definitions">
	
<dt><a name="13"><i class="arg">mBarInst</i> <b class="cmd">group.move</b> <i class="arg">direction tag label</i></a></dt>
<dd><p>Change the position of an entry in a group with tag name <em>tag</em>.
	The <em>direction</em> argument is the direction ('up' or 'down') the
	entry will be moved. The entry that is moved has the name <em>label</em>.</p></dd>
</dl>
<dl class="doctools_definitions">
	
<dt><a name="14"><i class="arg">mBarInst</i> <b class="cmd">group.configure</b> <i class="arg">tag label ?option value ...option value?</i></a></dt>
<dd><p>Configure the options of an entry in the command group with
	tag name <em>tag</em>. This method is similar to the <em>tag.configure</em>
	method except that it works on entries in a command group. Set documentation
	for the <em>tag.configure</em> method (above) for more details on command
	entry options.</p></dd>
</dl>
<dl class="doctools_definitions">
	
<dt><a name="15"><i class="arg">mBarInst</i> <b class="cmd">group.serialize</b> <i class="arg">tag</i></a></dt>
<dd><p>Return a string serialization of the entries in a command group. The
	argument <em>tag</em> is the tag name for the group that is to be serialized.
	The resulting serialization is a list containing three
	element  (1) the tag name of the group  (2) a dictionary
	containing group level options (3) a list of zero or more similar three
	element lists that describe the entries in the group.</p></dd>
</dl>
<dl class="doctools_definitions">
	
<dt><a name="16"><i class="arg">mBarInst</i> <b class="cmd">group.deserialize</b> <i class="arg">tag stream</i></a></dt>
<dd><p>Replace the contents of group tag <em>tag</em> with the commands
	defined in the serialization <em>stream</em>. The original contents of
	the group are lost.</p></dd>
</dl>
</div>
<div id="section9" class="doctools_section"><h2><a name="section9">Methods - notebook.xxx</a></h2>
<dl class="doctools_definitions">
	
<dt><a name="17"><i class="arg">mBarInst</i> <b class="cmd">notebook.addTabStore</b> <i class="arg">pathname</i></a></dt>
<dd><p>This method should be used in code that creates a new notebook tab.
	Execution of this method will cause state storage to be allocated
	for the new notebook tab. The pathname for the notebook tab is passed
	as an argument to the method.</p></dd>
</dl>
<dl class="doctools_definitions">
	
<dt><a name="18"><i class="arg">mBarInst</i> <b class="cmd">notebook.deleteTabStore</b> <i class="arg">pathname</i></a></dt>
<dd><p>This command deallocates the state store for a notebook tab. The
	pathname for the notebook tab is passed as an argument to the method.</p></dd>
</dl>
<dl class="doctools_definitions">
	
<dt><a name="19"><i class="arg">mBarInst</i> <b class="cmd">notebook.setTabValue</b> <i class="arg">pathname tag</i></a></dt>
<dd><p>This method should be used in the callback for menubar checkbuttons or
	radiobuttons that have notebook tab scope control. When this method is
	executed it will move the value associated with tag into the tab store
	for the tab identified by pathname.</p></dd>
</dl>
<dl class="doctools_definitions">
	
<dt><a name="20"><i class="arg">mBarInst</i> <b class="cmd">notebook.restoreTabValues</b> <i class="arg">pathname</i></a></dt>
<dd><p>This method should be place in a bind script that is triggered by
	a notebooks &lt;&lt;NotebookTabChanged&gt;&gt; event.</p></dd>
</dl>
</div>
<div id="section10" class="doctools_section"><h2><a name="section10">Scope Control</a></h2>
<p>By default a menubar instance looks the same in all installed toplevel
windows. As changes are made to one instance of a menubar all the other
instances are immediately updated. This means the internal state of all
the menu entries for the instances are synchronized. This behavior is
called global scope control of the menubar state.</p>
<p>The menubar class allows finer scope control on check and radio buttons.
The scope of these entry types can be modified by adding a
modifier character to their type character. Two
modifier characters are supported as show in the table below.</p>
<pre class="doctools_example">
''  ::= global scope (no character)
'@' ::= local scope modifier
'=' ::= notebook tab scope modifier
</pre>
<p>When the local scope character (@) is added to the definition of a button,
the button is given a new variable for each installed toplevel window. This
has the effect of making the button's state local to the window (i.e. local scope).
An example use case for this behavior might be a status bar that can be
toggled on an off by a checkbutton. The developer may want to allow the
user to control the visibility of the status bar on a per window basis. In this
case a local modifier would be added to the status bar selector so the callback
code would receive an appropriate value based on the current toplevel window.</p>
<p>The notebook tab scope character (=) is similar in effect to the local scope
character but it allows a notebook tab selection to also manage the state of
of a button. Adding the notebook tab scope modifier enables notebook tab
scope control but the developer must then make use of the notebook.xxxx sub-commands
to actively manage state values as tabs are added, deleted and selected.</p>
</div>
<div id="section11" class="doctools_section"><h2><a name="section11">Example</a></h2>
<pre class="doctools_example">
package require Tcl
package require Tk
package require menubar
set tout [text .t -width 25 -height 12]
pack ${tout} -expand 1 -fill both
set mbar [menubar new \
    -borderwidth 4 \
    -relief groove  \
    -foreground black \
    -background tan \
    ]
${mbar} define {
    File M:file {
        Exit                 C      exit
    }
    Edit M:items+ {
    #   Label               Type    Tag Name(s)
    #   -----------------   ----    ---------
        &quot;Cut&quot;               C       cut
        &quot;Copy&quot;              C       copy
        &quot;Paste&quot;             C       paste
        --                  S       s2
        &quot;Options&quot; M:opts {
            &quot;CheckList&quot; M:chx+ {
                Coffee      X       coffee+
                Donut       X       donut
                Eggs        X       eggs
                }
            &quot;RadioButtons&quot; M:btn+ {
                &quot;Red&quot;       R       color
                &quot;Green&quot;     R       color+
                &quot;Blue&quot;      R       color
                }
        }
    }
    Help M:help {
        About               C       about
    }
}
${mbar} install . {
    ${mbar} tag.add tout ${tout}
    ${mbar} menu.configure -command {
        # file menu
        exit            {Exit}
        # Item menu
        cut             {CB Edit cut}
        copy            {CB Edit copy}
        paste           {CB Edit paste}
        # boolean menu
        coffee          {CB CheckButton}
        donut           {CB CheckButton}
        eggs            {CB CheckButton}
        # radio menu
        color           {CB RadioButton}
        # Help menu
        about           {CB About}
    } -bind {
        exit        {1 Cntl+Q  Control-Key-q}
        cut         {2 Cntl+X  Control-Key-x}
        copy        {0 Cntl+C  Control-Key-c}
        paste       {0 Cntl+V  Control-Key-v}
        coffee      {0 Cntl+A  Control-Key-a}
        donut       {0 Cntl+B  Control-Key-b}
        eggs        {0 Cntl+C  Control-Key-c}
        about       0
    } -background {
        exit red
    } -foreground {
        exit white
    }
}
proc pout { txt } {
    global mbar
    set tout [${mbar} tag.cget . tout]
    ${tout} insert end &quot;${txt}\n&quot;
}
proc Exit { args } {
    puts &quot;Goodbye&quot;
    exit
}
proc CB { args } {
    set alist [lassign ${args} cmd]
    pout &quot;${cmd}: [join ${alist} {, }]&quot;
}
wm minsize . 300 300
wm geometry . +4+4
wm protocol . WM_DELETE_WINDOW exit
wm title . &quot;Example&quot;
wm focusmodel . active
pout &quot;Example started ...&quot;
</pre>
</div>
<div id="section12" class="doctools_section"><h2><a name="section12">Caveats</a></h2>
<p>This implementation uses TclOO so it requires 8.6. The code has been
tested on Windows (Vista), Linux and OSX (10.4).</p>
</div>
<div id="section13" class="doctools_section"><h2><a name="section13">References</a></h2>
<p>See also</p>
<ol class="doctools_enumerated">
<li><p><a href="http://www.tcl.tk/man/tcl8.6/TkCmd/menu.htm">menu</a></p></li>
<li><p><a href="http://wiki.tcl.tk/25231">A command that creates menubar objects</a></p></li>
</ol>
</div>
<div id="section14" class="doctools_section"><h2><a name="section14">Bugs, Ideas, Feedback</a></h2>
<p>This document, and the package it describes, will undoubtedly contain
bugs and other problems.
Please report such in the category <em>menubar</em> of the
<a href="http://core.tcl.tk/tklib/reportlist">Tklib Trackers</a>.
Please also report any ideas for enhancements you may have for either
package and/or documentation.</p>
</div>
<div id="copyright" class="doctools_section"><h2><a name="copyright">Copyright</a></h2>
<p>Copyright &copy; 2009 Tom Krehbiel &lt;krehbiel.tom@gmail.com&gt; All rights reserved.</p>
</div>
</div></body></html>
