<!DOCTYPE html><html><head>
<title>canvas::edit::quadrilateral - Variations on a canvas</title>
<style type="text/css"><!--
    HTML {
	background: 	#FFFFFF;
	color: 		black;
    }
    BODY {
	background: 	#FFFFFF;
	color:	 	black;
    }
    DIV.doctools {
	margin-left:	10%;
	margin-right:	10%;
    }
    DIV.doctools H1,DIV.doctools H2 {
	margin-left:	-5%;
    }
    H1, H2, H3, H4 {
	margin-top: 	1em;
	font-family:	sans-serif;
	font-size:	large;
	color:		#005A9C;
	background: 	transparent;
	text-align:		left;
    }
    H1.doctools_title {
	text-align: center;
    }
    UL,OL {
	margin-right: 0em;
	margin-top: 3pt;
	margin-bottom: 3pt;
    }
    UL LI {
	list-style: disc;
    }
    OL LI {
	list-style: decimal;
    }
    DT {
	padding-top: 	1ex;
    }
    UL.doctools_toc,UL.doctools_toc UL, UL.doctools_toc UL UL {
	font:		normal 12pt/14pt sans-serif;
	list-style:	none;
    }
    LI.doctools_section, LI.doctools_subsection {
	list-style: 	none;
	margin-left: 	0em;
	text-indent:	0em;
	padding: 	0em;
    }
    PRE {
	display: 	block;
	font-family:	monospace;
	white-space:	pre;
	margin:		0%;
	padding-top:	0.5ex;
	padding-bottom:	0.5ex;
	padding-left:	1ex;
	padding-right:	1ex;
	width:		100%;
    }
    PRE.doctools_example {
	color: 		black;
	background: 	#f5dcb3;
	border:		1px solid black;
    }
    UL.doctools_requirements LI, UL.doctools_syntax LI {
	list-style: 	none;
	margin-left: 	0em;
	text-indent:	0em;
	padding:	0em;
    }
    DIV.doctools_synopsis {
	color: 		black;
	background: 	#80ffff;
	border:		1px solid black;
	font-family:	serif;
	margin-top: 	1em;
	margin-bottom: 	1em;
    }
    UL.doctools_syntax {
	margin-top: 	1em;
	border-top:	1px solid black;
    }
    UL.doctools_requirements {
	margin-bottom: 	1em;
	border-bottom:	1px solid black;
    }
--></style>
</head>
<!-- Generated from file 'canvas_equad.man' by tcllib/doctools with format 'html'
   -->
<!-- canvas::edit::quadrilateral.n
   -->
<body><hr> [
   <a href="../../../../../../../../home">Tklib Home</a>
| <a href="../../../../toc.html">Main Table Of Contents</a>
| <a href="../../../toc.html">Table Of Contents</a>
| <a href="../../../../index.html">Keyword Index</a>
| <a href="../../../../toc0.html">Categories</a>
| <a href="../../../../toc1.html">Modules</a>
| <a href="../../../../toc2.html">Applications</a>
 ] <hr>
<div class="doctools">
<h1 class="doctools_title">canvas::edit::quadrilateral(n) 0.1 tklib &quot;Variations on a canvas&quot;</h1>
<div id="name" class="doctools_section"><h2><a name="name">Name</a></h2>
<p>canvas::edit::quadrilateral - Editing a quadrilateral on a canvas</p>
</div>
<div id="toc" class="doctools_section"><h2><a name="toc">Table Of Contents</a></h2>
<ul class="doctools_toc">
<li class="doctools_section"><a href="#toc">Table Of Contents</a></li>
<li class="doctools_section"><a href="#synopsis">Synopsis</a></li>
<li class="doctools_section"><a href="#section1">Description</a></li>
<li class="doctools_section"><a href="#section2">Class API</a></li>
<li class="doctools_section"><a href="#section3">Instance API</a></li>
<li class="doctools_section"><a href="#section4">Options</a></li>
<li class="doctools_section"><a href="#section5">Bugs, Ideas, Feedback</a></li>
<li class="doctools_section"><a href="#keywords">Keywords</a></li>
</ul>
</div>
<div id="synopsis" class="doctools_section"><h2><a name="synopsis">Synopsis</a></h2>
<div class="doctools_synopsis">
<ul class="doctools_requirements">
<li>package require <b class="pkgname">Tcl 8.5</b></li>
<li>package require <b class="pkgname">Tk 8.5</b></li>
<li>package require <b class="pkgname">canvas::edit::points <span class="opt">?0.1?</span></b></li>
<li>package require <b class="pkgname">canvas::edit::quadrilateral <span class="opt">?0.1?</span></b></li>
</ul>
<ul class="doctools_syntax">
<li><a href="#1"><b class="cmd">::canvas::edit</b> <b class="method">quadrilateral</b> <i class="arg">objectName</i> <i class="arg">canvas</i> <i class="arg">options</i>...</a></li>
<li><a href="#2"><b class="cmd">objectName</b> <b class="method">destroy</b></a></li>
<li><a href="#3"><b class="cmd">objectName</b> <b class="method">enable</b></a></li>
<li><a href="#4"><b class="cmd">objectName</b> <b class="method">disable</b></a></li>
<li><a href="#5"><b class="cmd">objectName</b> <b class="method">active</b></a></li>
<li><a href="#6"><b class="cmd">objectName</b> <b class="method">add</b> <i class="arg">x</i> <i class="arg">y</i></a></li>
<li><a href="#7"><b class="cmd">objectName</b> <b class="method">clear</b></a></li>
<li><a href="#8"><b class="cmd">createCmd</b> <i class="arg">canvas</i> <i class="arg">x</i> <i class="arg">y</i></a></li>
<li><a href="#9"><b class="cmd">highlightCmd</b> <b class="method">on</b> <i class="arg">canvas</i> <i class="arg">item</i></a></li>
<li><a href="#10"><b class="cmd">highlightCmd</b> <b class="method">off</b> <i class="arg">canvas</i> <i class="arg">state</i></a></li>
<li><a href="#11"><b class="cmd">dataCmd</b> <i class="arg">editorObj</i> <i class="arg">coordinates</i></a></li>
</ul>
</div>
</div>
<div id="section1" class="doctools_section"><h2><a name="section1">Description</a></h2>
<p>This package provides a class whose instances handle the editing of a
quadrilateral on a canvas. Instances can be configured with regard to
the visual appearance (regular, and highlighted) of vertex
markers. Note that instances do not store the edited quadrilateral
themselves, but delegate this to a configurable object.</p>
</div>
<div id="section2" class="doctools_section"><h2><a name="section2">Class API</a></h2>
<dl class="doctools_definitions">
<dt><a name="1"><b class="cmd">::canvas::edit</b> <b class="method">quadrilateral</b> <i class="arg">objectName</i> <i class="arg">canvas</i> <i class="arg">options</i>...</a></dt>
<dd><p>This, the class command, creates and configures a new instance of a
quadrilateral editor, named <i class="arg">objectName</i>. The instance will be
connected to the specified <i class="arg">canvas</i> widget.</p>
<p>The result of the command is the fully qualified name of the
instance command.</p>
<p>The options accepted here, and their values, are explained in
the section <span class="sectref"><a href="#section4">Options</a></span>.</p></dd>
</dl>
</div>
<div id="section3" class="doctools_section"><h2><a name="section3">Instance API</a></h2>
<p>Instances of the quadrilateral editors provide the following API:</p>
<dl class="doctools_definitions">
<dt><a name="2"><b class="cmd">objectName</b> <b class="method">destroy</b></a></dt>
<dd><p>This method destroys the quadrilateral editor and releases all its
internal resources.</p>
<p>Note that this operation does not destroy the items the editor
managed on the attached canvas, nor the canvas itself.</p>
<p>The result of the method is an empty string.</p></dd>
<dt><a name="3"><b class="cmd">objectName</b> <b class="method">enable</b></a></dt>
<dd><p>This method activates editing of the quadrilateral on the canvas. This
is the default after instance creation. A call is ignored if the
editor is already active.</p>
<p>The result of the method is an empty string.</p>
<p>The complementary method is <b class="method">disable</b>. The interogatory
method for the current state is <b class="method">active</b>.</p></dd>
<dt><a name="4"><b class="cmd">objectName</b> <b class="method">disable</b></a></dt>
<dd><p>This method disables editing of the quadrilateral on the canvas. A call
is ignored if the editor is already disabled.</p>
<p>The result of the method is an empty string.</p>
<p>The complementary method is <b class="method">enable</b>. The interogatory
method for the current state is <b class="method">active</b>.</p></dd>
<dt><a name="5"><b class="cmd">objectName</b> <b class="method">active</b></a></dt>
<dd><p>This method queries the editor state.</p>
<p>The result of the method is a boolean value, <b class="const">true</b> if
the editor is active, and <b class="const">false</b> otherwise, i.e. disabled.</p>
<p>The methods to change the state are <b class="method">enable</b> and
<b class="method">disable</b>.</p></dd>
<dt><a name="6"><b class="cmd">objectName</b> <b class="method">add</b> <i class="arg">x</i> <i class="arg">y</i></a></dt>
<dd><p>This method programmatically adds a vertex at the specified location
to the quadrilateral.</p>
<p>The result of the method is an empty string.</p>
<p>Note that this method goes through the whole set of callbacks
invoked when the user interactively creates a vertex, i.e.
<b class="option">-create-cmd</b>, and, more importantly, <b class="option">-data-cmd</b>.</p>
<p>This is the method through which to load the vertices of a
pre-existing quadrilateral into an editor instance.</p>
<p>Note that at most 4 vertices can be specified, and at least 4
must be specified for the quadrilateral to be complete.</p></dd>
<dt><a name="7"><b class="cmd">objectName</b> <b class="method">clear</b></a></dt>
<dd><p>This method programmatically unset the quadrilateral in the editor.</p>
<p>The result of the method is an empty string.</p>
<p>Note that this method goes through the same callback invoked
when the user interactively removes a vertex, i.e. <b class="option">-data-cmd</b>.</p></dd>
</dl>
</div>
<div id="section4" class="doctools_section"><h2><a name="section4">Options</a></h2>
<p>The class command accepts the following options</p>
<dl class="doctools_options">
<dt><b class="option">-convex</b> <i class="arg">boolean</i></dt>
<dd><p>The value of this option is a boolean flag. When the flag is set the
editor will accept only convex quadrilaterals and reject all
operations which would result in a violation of convexity.</p>
<p>This option can only be set at construction time.</p>
<p>If not specified it defaults to <b class="const">false</b>, i.e. acceptance
of any quadrilateral.</p></dd>
<dt><b class="option">-tag</b> <i class="arg">string</i></dt>
<dd><p>The value of this option is the name of the canvas tag with which to
identify all items of all quadrilateral managed by the editor.</p>
<p>This option can only be set at construction time.</p>
<p>If not specified it defaults to <b class="const">QUADRILATERAL</b></p></dd>
<dt><b class="option">-create-cmd</b> <i class="arg">command-prefix</i></dt>
<dd><p>The value of this option is a command prefix the editor will invoke
when it has to create a new vertex.</p>
<p>This option can only be set at construction time.</p>
<p>If not specified it defaults to a command which will create a
black-bordered blue circle of radius 3 centered on the location of the
new point.</p>
<p>The signature of this command prefix is</p>
<dl class="doctools_definitions">
<dt><a name="8"><b class="cmd">createCmd</b> <i class="arg">canvas</i> <i class="arg">x</i> <i class="arg">y</i></a></dt>
<dd><p>The result of the command prefix <em>must</em> be a list of the canvas
items it created to represent the marker. Note here that the visual
representation of a &quot;vertex&quot; may consist of multiple canvas items in an
arbitrary shape.</p></dd>
</dl></dd>
<dt><b class="option">-highlight-cmd</b> <i class="arg">command-prefix</i></dt>
<dd><p>The value of this option is a command prefix the editor will invoke
when it has to (un)highlight a vertex.</p>
<p>This option can only be set at construction time.</p>
<p>If not specified it defaults to a command which will re-color
the item to highlight in red (and restores the color for
unhighlighting).</p>
<p>The two signatures of this command prefix are</p>
<dl class="doctools_definitions">
<dt><a name="9"><b class="cmd">highlightCmd</b> <b class="method">on</b> <i class="arg">canvas</i> <i class="arg">item</i></a></dt>
<dd><p>This method of the command prefix has to perform whatever is
needed to highlight the vertex the <i class="arg">item</i> is a part of (remember
the note above about quadrilateral allowed to be constructed from multiple
canvas items).</p>
<p>The result of the command can be anything and will be passed as
is as argument <i class="arg">state</i> to the <b class="method">off</b> method.</p></dd>
<dt><a name="10"><b class="cmd">highlightCmd</b> <b class="method">off</b> <i class="arg">canvas</i> <i class="arg">state</i></a></dt>
<dd><p>This method is invoked to unhighlight a vertex described by the
<i class="arg">state</i>, which is the unchanged result of the <b class="method">on</b> method
of the command prefix. The result of this method is ignored.</p>
<p>Note any interaction between dragging and highlighting of
quadrilateral is handled within the editor, and that the callback bears no
responsibility for doing such.</p></dd>
</dl></dd>
<dt><b class="option">-data-cmd</b> <i class="arg">command-prefix</i></dt>
<dd><p>The value of this option is a command prefix the editor will invoke
when the quadrilateral was edited in some way. This is how the editor
delegates the actual storage of quadrilateral information to an
outside object.</p>
<p>This option can only be set at construction time.</p>
<p>If not specified it defaults to an empty string and is ignored
by the editor, i.e. not invoked.</p>
<p>The signatures of this command prefix are</p>
<dl class="doctools_definitions">
<dt><a name="11"><b class="cmd">dataCmd</b> <i class="arg">editorObj</i> <i class="arg">coordinates</i></a></dt>
<dd><p>This callback is invoked when the quarilateral was changed either
interactively, or programmatically.
See instance method <b class="method">add</b> for the latter.</p>
<p>The <i class="arg">editorObj</i> identifies the instance invoking the
callback, whereas <i class="arg">coordinates</i> is a list of vertex locations,
with each location a pair of x- and y-coordinates.</p>
<p>The result of this method is ignored.</p></dd>
</dl></dd>
</dl>
</div>
<div id="section5" class="doctools_section"><h2><a name="section5">Bugs, Ideas, Feedback</a></h2>
<p>This document, and the package it describes, will undoubtedly contain
bugs and other problems.
Please report such in the category <em>canvas</em> of the
<a href="http://core.tcl.tk/tklib/reportlist">Tklib Trackers</a>.
Please also report any ideas for enhancements you may have for either
package and/or documentation.</p>
</div>
<div id="keywords" class="doctools_section"><h2><a name="keywords">Keywords</a></h2>
<p><a href="../../../../index.html#key1">canvas</a>, <a href="../../../../index.html#key5">concave</a>, <a href="../../../../index.html#key4">convex</a>, <a href="../../../../index.html#key0">editing</a>, <a href="../../../../index.html#key3">non-convex</a>, <a href="../../../../index.html#key2">quadrilateral</a></p>
</div>
</div></body></html>
